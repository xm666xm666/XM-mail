var P1=Object.defineProperty;var O1=(t,e,s)=>e in t?P1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var ot=(t,e,s)=>O1(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ju(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const rs={},ln=[],mr=()=>{},Vf=()=>!1,Yl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Zu=t=>t.startsWith("onUpdate:"),Cs=Object.assign,Qu=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},I1=Object.prototype.hasOwnProperty,Qt=(t,e)=>I1.call(t,e),pt=Array.isArray,cn=t=>Ta(t)==="[object Map]",Cn=t=>Ta(t)==="[object Set]",Zd=t=>Ta(t)==="[object Date]",Et=t=>typeof t=="function",_s=t=>typeof t=="string",Zi=t=>typeof t=="symbol",ts=t=>t!==null&&typeof t=="object",Wf=t=>(ts(t)||Et(t))&&Et(t.then)&&Et(t.catch),qf=Object.prototype.toString,Ta=t=>qf.call(t),N1=t=>Ta(t).slice(8,-1),Kf=t=>Ta(t)==="[object Object]",ed=t=>_s(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,sa=Ju(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jl=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},j1=/-\w/g,zi=Jl(t=>t.replace(j1,e=>e.slice(1).toUpperCase())),H1=/\B([A-Z])/g,co=Jl(t=>t.replace(H1,"-$1").toLowerCase()),Zl=Jl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Lc=Jl(t=>t?`on${Zl(t)}`:""),io=(t,e)=>!Object.is(t,e),gl=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Gf=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Ql=t=>{const e=parseFloat(t);return isNaN(e)?t:e},z1=t=>{const e=_s(t)?Number(t):NaN;return isNaN(e)?t:e};let Qd;const ec=()=>Qd||(Qd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vs(t){if(pt(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],o=_s(r)?W1(r):vs(r);if(o)for(const a in o)e[a]=o[a]}return e}else if(_s(t)||ts(t))return t}const F1=/;(?![^(]*\))/g,U1=/:([^]+)/,V1=/\/\*[^]*?\*\//g;function W1(t){const e={};return t.replace(V1,"").split(F1).forEach(s=>{if(s){const r=s.split(U1);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Le(t){let e="";if(_s(t))e=t;else if(pt(t))for(let s=0;s<t.length;s++){const r=Le(t[s]);r&&(e+=r+" ")}else if(ts(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const q1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K1=Ju(q1);function Xf(t){return!!t||t===""}function G1(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Da(t[r],e[r]);return s}function Da(t,e){if(t===e)return!0;let s=Zd(t),r=Zd(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=Zi(t),r=Zi(e),s||r)return t===e;if(s=pt(t),r=pt(e),s||r)return s&&r?G1(t,e):!1;if(s=ts(t),r=ts(e),s||r){if(!s||!r)return!1;const o=Object.keys(t).length,a=Object.keys(e).length;if(o!==a)return!1;for(const l in t){const n=t.hasOwnProperty(l),c=e.hasOwnProperty(l);if(n&&!c||!n&&c||!Da(t[l],e[l]))return!1}}return String(t)===String(e)}function td(t,e){return t.findIndex(s=>Da(s,e))}const Yf=t=>!!(t&&t.__v_isRef===!0),N=t=>_s(t)?t:t==null?"":pt(t)||ts(t)&&(t.toString===qf||!Et(t.toString))?Yf(t)?N(t.value):JSON.stringify(t,Jf,2):String(t),Jf=(t,e)=>Yf(e)?Jf(t,e.value):cn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,o],a)=>(s[$c(r,a)+" =>"]=o,s),{})}:Cn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>$c(s))}:Zi(e)?$c(e):ts(e)&&!pt(e)&&!Kf(e)?String(e):e,$c=(t,e="")=>{var s;return Zi(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vi;class X1{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vi,!e&&vi&&(this.index=(vi.scopes||(vi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=vi;try{return vi=this,e()}finally{vi=s}}}on(){++this._on===1&&(this.prevScope=vi,vi=this)}off(){this._on>0&&--this._on===0&&(vi=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Y1(){return vi}let as;const Rc=new WeakSet;class Zf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vi&&vi.active&&vi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rc.has(this)&&(Rc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ep(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,eh(this),tp(this);const e=as,s=Yi;as=this,Yi=!0;try{return this.fn()}finally{sp(this),as=e,Yi=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)rd(e);this.deps=this.depsTail=void 0,eh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gu(this)&&this.run()}get dirty(){return gu(this)}}let Qf=0,ia,ra;function ep(t,e=!1){if(t.flags|=8,e){t.next=ra,ra=t;return}t.next=ia,ia=t}function sd(){Qf++}function id(){if(--Qf>0)return;if(ra){let e=ra;for(ra=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ia;){let e=ia;for(ia=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function tp(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function sp(t){let e,s=t.depsTail,r=s;for(;r;){const o=r.prevDep;r.version===-1?(r===s&&(s=o),rd(r),J1(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}t.deps=e,t.depsTail=s}function gu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ip(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ip(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===pa)||(t.globalVersion=pa,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!gu(t))))return;t.flags|=2;const e=t.dep,s=as,r=Yi;as=t,Yi=!0;try{tp(t);const o=t.fn(t._value);(e.version===0||io(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{as=s,Yi=r,sp(t),t.flags&=-3}}function rd(t,e=!1){const{dep:s,prevSub:r,nextSub:o}=t;if(r&&(r.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)rd(a,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function J1(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Yi=!0;const rp=[];function Rr(){rp.push(Yi),Yi=!1}function Br(){const t=rp.pop();Yi=t===void 0?!0:t}function eh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=as;as=void 0;try{e()}finally{as=s}}}let pa=0;class Z1{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class od{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!as||!Yi||as===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==as)s=this.activeLink=new Z1(as,this),as.deps?(s.prevDep=as.depsTail,as.depsTail.nextDep=s,as.depsTail=s):as.deps=as.depsTail=s,op(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=as.depsTail,s.nextDep=void 0,as.depsTail.nextDep=s,as.depsTail=s,as.deps===s&&(as.deps=r)}return s}trigger(e){this.version++,pa++,this.notify(e)}notify(e){sd();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{id()}}}function op(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)op(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const vu=new WeakMap,Po=Symbol(""),bu=Symbol(""),ma=Symbol("");function Vs(t,e,s){if(Yi&&as){let r=vu.get(t);r||vu.set(t,r=new Map);let o=r.get(s);o||(r.set(s,o=new od),o.map=r,o.key=s),o.track()}}function Tr(t,e,s,r,o,a){const l=vu.get(t);if(!l){pa++;return}const n=c=>{c&&c.trigger()};if(sd(),e==="clear")l.forEach(n);else{const c=pt(t),u=c&&ed(s);if(c&&s==="length"){const d=Number(r);l.forEach((h,g)=>{(g==="length"||g===ma||!Zi(g)&&g>=d)&&n(h)})}else switch((s!==void 0||l.has(void 0))&&n(l.get(s)),u&&n(l.get(ma)),e){case"add":c?u&&n(l.get("length")):(n(l.get(Po)),cn(t)&&n(l.get(bu)));break;case"delete":c||(n(l.get(Po)),cn(t)&&n(l.get(bu)));break;case"set":cn(t)&&n(l.get(Po));break}}id()}function Yo(t){const e=Vt(t);return e===t?e:(Vs(e,"iterate",ma),Hi(t)?e:e.map(Qi))}function tc(t){return Vs(t=Vt(t),"iterate",ma),t}function Gr(t,e){return Pr(t)?mn(Oo(t)?Qi(e):e):Qi(e)}const Q1={__proto__:null,[Symbol.iterator](){return Bc(this,Symbol.iterator,t=>Gr(this,t))},concat(...t){return Yo(this).concat(...t.map(e=>pt(e)?Yo(e):e))},entries(){return Bc(this,"entries",t=>(t[1]=Gr(this,t[1]),t))},every(t,e){return _r(this,"every",t,e,void 0,arguments)},filter(t,e){return _r(this,"filter",t,e,s=>s.map(r=>Gr(this,r)),arguments)},find(t,e){return _r(this,"find",t,e,s=>Gr(this,s),arguments)},findIndex(t,e){return _r(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _r(this,"findLast",t,e,s=>Gr(this,s),arguments)},findLastIndex(t,e){return _r(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _r(this,"forEach",t,e,void 0,arguments)},includes(...t){return Pc(this,"includes",t)},indexOf(...t){return Pc(this,"indexOf",t)},join(t){return Yo(this).join(t)},lastIndexOf(...t){return Pc(this,"lastIndexOf",t)},map(t,e){return _r(this,"map",t,e,void 0,arguments)},pop(){return In(this,"pop")},push(...t){return In(this,"push",t)},reduce(t,...e){return th(this,"reduce",t,e)},reduceRight(t,...e){return th(this,"reduceRight",t,e)},shift(){return In(this,"shift")},some(t,e){return _r(this,"some",t,e,void 0,arguments)},splice(...t){return In(this,"splice",t)},toReversed(){return Yo(this).toReversed()},toSorted(t){return Yo(this).toSorted(t)},toSpliced(...t){return Yo(this).toSpliced(...t)},unshift(...t){return In(this,"unshift",t)},values(){return Bc(this,"values",t=>Gr(this,t))}};function Bc(t,e,s){const r=tc(t),o=r[e]();return r!==t&&!Hi(t)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.done||(a.value=s(a.value)),a}),o}const ev=Array.prototype;function _r(t,e,s,r,o,a){const l=tc(t),n=l!==t&&!Hi(t),c=l[e];if(c!==ev[e]){const h=c.apply(t,a);return n?Qi(h):h}let u=s;l!==t&&(n?u=function(h,g){return s.call(this,Gr(t,h),g,t)}:s.length>2&&(u=function(h,g){return s.call(this,h,g,t)}));const d=c.call(l,u,r);return n&&o?o(d):d}function th(t,e,s,r){const o=tc(t);let a=s;return o!==t&&(Hi(t)?s.length>3&&(a=function(l,n,c){return s.call(this,l,n,c,t)}):a=function(l,n,c){return s.call(this,l,Gr(t,n),c,t)}),o[e](a,...r)}function Pc(t,e,s){const r=Vt(t);Vs(r,"iterate",ma);const o=r[e](...s);return(o===-1||o===!1)&&ld(s[0])?(s[0]=Vt(s[0]),r[e](...s)):o}function In(t,e,s=[]){Rr(),sd();const r=Vt(t)[e].apply(t,s);return id(),Br(),r}const tv=Ju("__proto__,__v_isRef,__isVue"),np=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Zi));function sv(t){Zi(t)||(t=String(t));const e=Vt(this);return Vs(e,"has",t),e.hasOwnProperty(t)}class ap{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const o=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return a;if(s==="__v_raw")return r===(o?a?hv:dp:a?up:cp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=pt(e);if(!o){let c;if(l&&(c=Q1[s]))return c;if(s==="hasOwnProperty")return sv}const n=Reflect.get(e,s,Ys(e)?e:r);if((Zi(s)?np.has(s):tv(s))||(o||Vs(e,"get",s),a))return n;if(Ys(n)){const c=l&&ed(s)?n:n.value;return o&&ts(c)?_u(c):c}return ts(n)?o?_u(n):sc(n):n}}class lp extends ap{constructor(e=!1){super(!1,e)}set(e,s,r,o){let a=e[s];const l=pt(e)&&ed(s);if(!this._isShallow){const u=Pr(a);if(!Hi(r)&&!Pr(r)&&(a=Vt(a),r=Vt(r)),!l&&Ys(a)&&!Ys(r))return u||(a.value=r),!0}const n=l?Number(s)<e.length:Qt(e,s),c=Reflect.set(e,s,r,Ys(e)?e:o);return e===Vt(o)&&(n?io(r,a)&&Tr(e,"set",s,r):Tr(e,"add",s,r)),c}deleteProperty(e,s){const r=Qt(e,s);e[s];const o=Reflect.deleteProperty(e,s);return o&&r&&Tr(e,"delete",s,void 0),o}has(e,s){const r=Reflect.has(e,s);return(!Zi(s)||!np.has(s))&&Vs(e,"has",s),r}ownKeys(e){return Vs(e,"iterate",pt(e)?"length":Po),Reflect.ownKeys(e)}}class iv extends ap{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const rv=new lp,ov=new iv,nv=new lp(!0);const xu=t=>t,Xa=t=>Reflect.getPrototypeOf(t);function av(t,e,s){return function(...r){const o=this.__v_raw,a=Vt(o),l=cn(a),n=t==="entries"||t===Symbol.iterator&&l,c=t==="keys"&&l,u=o[t](...r),d=s?xu:e?mn:Qi;return!e&&Vs(a,"iterate",c?bu:Po),Cs(Object.create(u),{next(){const{value:h,done:g}=u.next();return g?{value:h,done:g}:{value:n?[d(h[0]),d(h[1])]:d(h),done:g}}})}}function Ya(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function lv(t,e){const s={get(o){const a=this.__v_raw,l=Vt(a),n=Vt(o);t||(io(o,n)&&Vs(l,"get",o),Vs(l,"get",n));const{has:c}=Xa(l),u=e?xu:t?mn:Qi;if(c.call(l,o))return u(a.get(o));if(c.call(l,n))return u(a.get(n));a!==l&&a.get(o)},get size(){const o=this.__v_raw;return!t&&Vs(Vt(o),"iterate",Po),o.size},has(o){const a=this.__v_raw,l=Vt(a),n=Vt(o);return t||(io(o,n)&&Vs(l,"has",o),Vs(l,"has",n)),o===n?a.has(o):a.has(o)||a.has(n)},forEach(o,a){const l=this,n=l.__v_raw,c=Vt(n),u=e?xu:t?mn:Qi;return!t&&Vs(c,"iterate",Po),n.forEach((d,h)=>o.call(a,u(d),u(h),l))}};return Cs(s,t?{add:Ya("add"),set:Ya("set"),delete:Ya("delete"),clear:Ya("clear")}:{add(o){!e&&!Hi(o)&&!Pr(o)&&(o=Vt(o));const a=Vt(this);return Xa(a).has.call(a,o)||(a.add(o),Tr(a,"add",o,o)),this},set(o,a){!e&&!Hi(a)&&!Pr(a)&&(a=Vt(a));const l=Vt(this),{has:n,get:c}=Xa(l);let u=n.call(l,o);u||(o=Vt(o),u=n.call(l,o));const d=c.call(l,o);return l.set(o,a),u?io(a,d)&&Tr(l,"set",o,a):Tr(l,"add",o,a),this},delete(o){const a=Vt(this),{has:l,get:n}=Xa(a);let c=l.call(a,o);c||(o=Vt(o),c=l.call(a,o)),n&&n.call(a,o);const u=a.delete(o);return c&&Tr(a,"delete",o,void 0),u},clear(){const o=Vt(this),a=o.size!==0,l=o.clear();return a&&Tr(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=av(o,t,e)}),s}function nd(t,e){const s=lv(t,e);return(r,o,a)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(Qt(s,o)&&o in r?s:r,o,a)}const cv={get:nd(!1,!1)},uv={get:nd(!1,!0)},dv={get:nd(!0,!1)};const cp=new WeakMap,up=new WeakMap,dp=new WeakMap,hv=new WeakMap;function fv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pv(t){return t.__v_skip||!Object.isExtensible(t)?0:fv(N1(t))}function sc(t){return Pr(t)?t:ad(t,!1,rv,cv,cp)}function hp(t){return ad(t,!1,nv,uv,up)}function _u(t){return ad(t,!0,ov,dv,dp)}function ad(t,e,s,r,o){if(!ts(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=pv(t);if(a===0)return t;const l=o.get(t);if(l)return l;const n=new Proxy(t,a===2?r:s);return o.set(t,n),n}function Oo(t){return Pr(t)?Oo(t.__v_raw):!!(t&&t.__v_isReactive)}function Pr(t){return!!(t&&t.__v_isReadonly)}function Hi(t){return!!(t&&t.__v_isShallow)}function ld(t){return t?!!t.__v_raw:!1}function Vt(t){const e=t&&t.__v_raw;return e?Vt(e):t}function mv(t){return!Qt(t,"__v_skip")&&Object.isExtensible(t)&&Gf(t,"__v_skip",!0),t}const Qi=t=>ts(t)?sc(t):t,mn=t=>ts(t)?_u(t):t;function Ys(t){return t?t.__v_isRef===!0:!1}function V(t){return fp(t,!1)}function gv(t){return fp(t,!0)}function fp(t,e){return Ys(t)?t:new vv(t,e)}class vv{constructor(e,s){this.dep=new od,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Vt(e),this._value=s?e:Qi(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Hi(e)||Pr(e);e=r?e:Vt(e),io(e,s)&&(this._rawValue=e,this._value=r?e:Qi(e),this.dep.trigger())}}function Dt(t){return Ys(t)?t.value:t}const bv={get:(t,e,s)=>e==="__v_raw"?t:Dt(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const o=t[e];return Ys(o)&&!Ys(s)?(o.value=s,!0):Reflect.set(t,e,s,r)}};function pp(t){return Oo(t)?t:new Proxy(t,bv)}class xv{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new od(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&as!==this)return ep(this,!0),!0}get value(){const e=this.dep.track();return ip(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function _v(t,e,s=!1){let r,o;return Et(t)?r=t:(r=t.get,o=t.set),new xv(r,o,s)}const Ja={},Rl=new WeakMap;let Eo;function yv(t,e=!1,s=Eo){if(s){let r=Rl.get(s);r||Rl.set(s,r=[]),r.push(t)}}function wv(t,e,s=rs){const{immediate:r,deep:o,once:a,scheduler:l,augmentJob:n,call:c}=s,u=y=>o?y:Hi(y)||o===!1||o===0?Dr(y,1):Dr(y);let d,h,g,_,w=!1,b=!1;if(Ys(t)?(h=()=>t.value,w=Hi(t)):Oo(t)?(h=()=>u(t),w=!0):pt(t)?(b=!0,w=t.some(y=>Oo(y)||Hi(y)),h=()=>t.map(y=>{if(Ys(y))return y.value;if(Oo(y))return u(y);if(Et(y))return c?c(y,2):y()})):Et(t)?e?h=c?()=>c(t,2):t:h=()=>{if(g){Rr();try{g()}finally{Br()}}const y=Eo;Eo=d;try{return c?c(t,3,[_]):t(_)}finally{Eo=y}}:h=mr,e&&o){const y=h,E=o===!0?1/0:o;h=()=>Dr(y(),E)}const m=Y1(),v=()=>{d.stop(),m&&m.active&&Qu(m.effects,d)};if(a&&e){const y=e;e=(...E)=>{y(...E),v()}}let p=b?new Array(t.length).fill(Ja):Ja;const x=y=>{if(!(!(d.flags&1)||!d.dirty&&!y))if(e){const E=d.run();if(o||w||(b?E.some((A,D)=>io(A,p[D])):io(E,p))){g&&g();const A=Eo;Eo=d;try{const D=[E,p===Ja?void 0:b&&p[0]===Ja?[]:p,_];p=E,c?c(e,3,D):e(...D)}finally{Eo=A}}}else d.run()};return n&&n(x),d=new Zf(h),d.scheduler=l?()=>l(x,!1):x,_=y=>yv(y,!1,d),g=d.onStop=()=>{const y=Rl.get(d);if(y){if(c)c(y,4);else for(const E of y)E();Rl.delete(d)}},e?r?x(!0):p=d.run():l?l(x.bind(null,!0),!0):d.run(),v.pause=d.pause.bind(d),v.resume=d.resume.bind(d),v.stop=v,v}function Dr(t,e=1/0,s){if(e<=0||!ts(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Ys(t))Dr(t.value,e,s);else if(pt(t))for(let r=0;r<t.length;r++)Dr(t[r],e,s);else if(Cn(t)||cn(t))t.forEach(r=>{Dr(r,e,s)});else if(Kf(t)){for(const r in t)Dr(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Dr(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function La(t,e,s,r){try{return r?t(...r):t()}catch(o){ic(o,e,s)}}function er(t,e,s,r){if(Et(t)){const o=La(t,e,s,r);return o&&Wf(o)&&o.catch(a=>{ic(a,e,s)}),o}if(pt(t)){const o=[];for(let a=0;a<t.length;a++)o.push(er(t[a],e,s,r));return o}}function ic(t,e,s,r=!0){const o=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||rs;if(e){let n=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;n;){const d=n.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,c,u)===!1)return}n=n.parent}if(a){Rr(),La(a,null,10,[t,c,u]),Br();return}}kv(t,s,o,r,l)}function kv(t,e,s,r=!0,o=!1){if(o)throw t;console.error(t)}const li=[];let hr=-1;const un=[];let Xr=null,sn=0;const mp=Promise.resolve();let Bl=null;function Bs(t){const e=Bl||mp;return t?e.then(this?t.bind(this):t):e}function Sv(t){let e=hr+1,s=li.length;for(;e<s;){const r=e+s>>>1,o=li[r],a=ga(o);a<t||a===t&&o.flags&2?e=r+1:s=r}return e}function cd(t){if(!(t.flags&1)){const e=ga(t),s=li[li.length-1];!s||!(t.flags&2)&&e>=ga(s)?li.push(t):li.splice(Sv(e),0,t),t.flags|=1,gp()}}function gp(){Bl||(Bl=mp.then(bp))}function Cv(t){pt(t)?un.push(...t):Xr&&t.id===-1?Xr.splice(sn+1,0,t):t.flags&1||(un.push(t),t.flags|=1),gp()}function sh(t,e,s=hr+1){for(;s<li.length;s++){const r=li[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;li.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function vp(t){if(un.length){const e=[...new Set(un)].sort((s,r)=>ga(s)-ga(r));if(un.length=0,Xr){Xr.push(...e);return}for(Xr=e,sn=0;sn<Xr.length;sn++){const s=Xr[sn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Xr=null,sn=0}}const ga=t=>t.id==null?t.flags&2?-1:1/0:t.id;function bp(t){try{for(hr=0;hr<li.length;hr++){const e=li[hr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),La(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;hr<li.length;hr++){const e=li[hr];e&&(e.flags&=-2)}hr=-1,li.length=0,vp(),Bl=null,(li.length||un.length)&&bp()}}let Ps=null,xp=null;function Pl(t){const e=Ps;return Ps=t,xp=t&&t.type.__scopeId||null,e}function Bt(t,e=Ps,s){if(!e||t._n)return t;const r=(...o)=>{r._d&&Nl(-1);const a=Pl(e);let l;try{l=t(...o)}finally{Pl(a),r._d&&Nl(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Re(t,e){if(Ps===null)return t;const s=lc(Ps),r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[a,l,n,c=rs]=e[o];a&&(Et(a)&&(a={mounted:a,updated:a}),a.deep&&Dr(l),r.push({dir:a,instance:s,value:l,oldValue:void 0,arg:n,modifiers:c}))}return t}function _o(t,e,s,r){const o=t.dirs,a=e&&e.dirs;for(let l=0;l<o.length;l++){const n=o[l];a&&(n.oldValue=a[l].value);let c=n.dir[r];c&&(Rr(),er(c,s,8,[t.el,n,t,e]),Br())}}function vl(t,e){if(qs){let s=qs.provides;const r=qs.parent&&qs.parent.provides;r===s&&(s=qs.provides=Object.create(r)),s[t]=e}}function Ji(t,e,s=!1){const r=pd();if(r||hn){let o=hn?hn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return s&&Et(e)?e.call(r&&r.proxy):e}}const Ev=Symbol.for("v-scx"),Av=()=>Ji(Ev);function oa(t,e,s){return _p(t,e,s)}function _p(t,e,s=rs){const{immediate:r,deep:o,flush:a,once:l}=s,n=Cs({},s),c=e&&r||!e&&a!=="post";let u;if(_a){if(a==="sync"){const _=Av();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=mr,_.resume=mr,_.pause=mr,_}}const d=qs;n.call=(_,w,b)=>er(_,d,w,b);let h=!1;a==="post"?n.scheduler=_=>{Si(_,d&&d.suspense)}:a!=="sync"&&(h=!0,n.scheduler=(_,w)=>{w?_():cd(_)}),n.augmentJob=_=>{e&&(_.flags|=4),h&&(_.flags|=2,d&&(_.id=d.uid,_.i=d))};const g=wv(t,e,n);return _a&&(u?u.push(g):c&&g()),g}function Mv(t,e,s){const r=this.proxy,o=_s(t)?t.includes(".")?yp(r,t):()=>r[t]:t.bind(r,r);let a;Et(e)?a=e:(a=e.handler,s=e);const l=$a(this),n=_p(o,a.bind(r),s);return l(),n}function yp(t,e){const s=e.split(".");return()=>{let r=t;for(let o=0;o<s.length&&r;o++)r=r[s[o]];return r}}const Tv=Symbol("_vte"),wp=t=>t.__isTeleport,Ar=Symbol("_leaveCb"),Za=Symbol("_enterCb");function kp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mi(()=>{t.isMounted=!0}),Lp(()=>{t.isUnmounting=!0}),t}const Oi=[Function,Array],Sp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Oi,onEnter:Oi,onAfterEnter:Oi,onEnterCancelled:Oi,onBeforeLeave:Oi,onLeave:Oi,onAfterLeave:Oi,onLeaveCancelled:Oi,onBeforeAppear:Oi,onAppear:Oi,onAfterAppear:Oi,onAppearCancelled:Oi},Cp=t=>{const e=t.subTree;return e.component?Cp(e.component):e},Dv={name:"BaseTransition",props:Sp,setup(t,{slots:e}){const s=pd(),r=kp();return()=>{const o=e.default&&ud(e.default(),!0);if(!o||!o.length)return;const a=Ep(o),l=Vt(t),{mode:n}=l;if(r.isLeaving)return Oc(a);const c=ih(a);if(!c)return Oc(a);let u=va(c,l,r,s,h=>u=h);c.type!==Ws&&Ho(c,u);let d=s.subTree&&ih(s.subTree);if(d&&d.type!==Ws&&!To(d,c)&&Cp(s).type!==Ws){let h=va(d,l,r,s);if(Ho(d,h),n==="out-in"&&c.type!==Ws)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,d=void 0},Oc(a);n==="in-out"&&c.type!==Ws?h.delayLeave=(g,_,w)=>{const b=Ap(r,d);b[String(d.key)]=d,g[Ar]=()=>{_(),g[Ar]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{w(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return a}}};function Ep(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Ws){e=s;break}}return e}const Lv=Dv;function Ap(t,e){const{leavingVNodes:s}=t;let r=s.get(e.type);return r||(r=Object.create(null),s.set(e.type,r)),r}function va(t,e,s,r,o){const{appear:a,mode:l,persisted:n=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:g,onLeave:_,onAfterLeave:w,onLeaveCancelled:b,onBeforeAppear:m,onAppear:v,onAfterAppear:p,onAppearCancelled:x}=e,y=String(t.key),E=Ap(s,t),A=(C,B)=>{C&&er(C,r,9,B)},D=(C,B)=>{const L=B[1];A(C,B),pt(C)?C.every($=>$.length<=1)&&L():C.length<=1&&L()},S={mode:l,persisted:n,beforeEnter(C){let B=c;if(!s.isMounted)if(a)B=m||c;else return;C[Ar]&&C[Ar](!0);const L=E[y];L&&To(t,L)&&L.el[Ar]&&L.el[Ar](),A(B,[C])},enter(C){let B=u,L=d,$=h;if(!s.isMounted)if(a)B=v||u,L=p||d,$=x||h;else return;let P=!1;const ie=C[Za]=re=>{P||(P=!0,re?A($,[C]):A(L,[C]),S.delayedLeave&&S.delayedLeave(),C[Za]=void 0)};B?D(B,[C,ie]):ie()},leave(C,B){const L=String(t.key);if(C[Za]&&C[Za](!0),s.isUnmounting)return B();A(g,[C]);let $=!1;const P=C[Ar]=ie=>{$||($=!0,B(),ie?A(b,[C]):A(w,[C]),C[Ar]=void 0,E[L]===t&&delete E[L])};E[L]=t,_?D(_,[C,P]):P()},clone(C){const B=va(C,e,s,r,o);return o&&o(B),B}};return S}function Oc(t){if(rc(t))return t=no(t),t.children=null,t}function ih(t){if(!rc(t))return wp(t.type)&&t.children?Ep(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&Et(s.default))return s.default()}}function Ho(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ho(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ud(t,e=!1,s){let r=[],o=0;for(let a=0;a<t.length;a++){let l=t[a];const n=s==null?l.key:String(s)+String(l.key!=null?l.key:a);l.type===Fe?(l.patchFlag&128&&o++,r=r.concat(ud(l.children,e,n))):(e||l.type!==Ws)&&r.push(n!=null?no(l,{key:n}):l)}if(o>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Ai(t,e){return Et(t)?Cs({name:t.name},e,{setup:t}):t}function Mp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Ol=new WeakMap;function na(t,e,s,r,o=!1){if(pt(t)){t.forEach((w,b)=>na(w,e&&(pt(e)?e[b]:e),s,r,o));return}if(dn(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&na(t,e,s,r.component.subTree);return}const a=r.shapeFlag&4?lc(r.component):r.el,l=o?null:a,{i:n,r:c}=t,u=e&&e.r,d=n.refs===rs?n.refs={}:n.refs,h=n.setupState,g=Vt(h),_=h===rs?Vf:w=>Qt(g,w);if(u!=null&&u!==c){if(rh(e),_s(u))d[u]=null,_(u)&&(h[u]=null);else if(Ys(u)){u.value=null;const w=e;w.k&&(d[w.k]=null)}}if(Et(c))La(c,n,12,[l,d]);else{const w=_s(c),b=Ys(c);if(w||b){const m=()=>{if(t.f){const v=w?_(c)?h[c]:d[c]:c.value;if(o)pt(v)&&Qu(v,a);else if(pt(v))v.includes(a)||v.push(a);else if(w)d[c]=[a],_(c)&&(h[c]=d[c]);else{const p=[a];c.value=p,t.k&&(d[t.k]=p)}}else w?(d[c]=l,_(c)&&(h[c]=l)):b&&(c.value=l,t.k&&(d[t.k]=l))};if(l){const v=()=>{m(),Ol.delete(t)};v.id=-1,Ol.set(t,v),Si(v,s)}else rh(t),m()}}}function rh(t){const e=Ol.get(t);e&&(e.flags|=8,Ol.delete(t))}ec().requestIdleCallback;ec().cancelIdleCallback;const dn=t=>!!t.type.__asyncLoader,rc=t=>t.type.__isKeepAlive;function $v(t,e){Tp(t,"a",e)}function Rv(t,e){Tp(t,"da",e)}function Tp(t,e,s=qs){const r=t.__wdc||(t.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(oc(e,r,s),s){let o=s.parent;for(;o&&o.parent;)rc(o.parent.vnode)&&Bv(r,e,s,o),o=o.parent}}function Bv(t,e,s,r){const o=oc(e,t,r,!0);oo(()=>{Qu(r[e],o)},s)}function oc(t,e,s=qs,r=!1){if(s){const o=s[t]||(s[t]=[]),a=e.__weh||(e.__weh=(...l)=>{Rr();const n=$a(s),c=er(e,s,t,l);return n(),Br(),c});return r?o.unshift(a):o.push(a),a}}const Or=t=>(e,s=qs)=>{(!_a||t==="sp")&&oc(t,(...r)=>e(...r),s)},Pv=Or("bm"),Mi=Or("m"),Ov=Or("bu"),Dp=Or("u"),Lp=Or("bum"),oo=Or("um"),Iv=Or("sp"),Nv=Or("rtg"),jv=Or("rtc");function Hv(t,e=qs){oc("ec",t,e)}const zv="components";function uo(t,e){return Uv(zv,t,!0,e)||t}const Fv=Symbol.for("v-ndc");function Uv(t,e,s=!0,r=!1){const o=Ps||qs;if(o){const a=o.type;{const n=M2(a,!1);if(n&&(n===e||n===zi(e)||n===Zl(zi(e))))return a}const l=oh(o[t]||a[t],e)||oh(o.appContext[t],e);return!l&&r?a:l}}function oh(t,e){return t&&(t[e]||t[zi(e)]||t[Zl(zi(e))])}function Qe(t,e,s,r){let o;const a=s,l=pt(t);if(l||_s(t)){const n=l&&Oo(t);let c=!1,u=!1;n&&(c=!Hi(t),u=Pr(t),t=tc(t)),o=new Array(t.length);for(let d=0,h=t.length;d<h;d++)o[d]=e(c?u?mn(Qi(t[d])):Qi(t[d]):t[d],d,void 0,a)}else if(typeof t=="number"){o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,a)}else if(ts(t))if(t[Symbol.iterator])o=Array.from(t,(n,c)=>e(n,c,void 0,a));else{const n=Object.keys(t);o=new Array(n.length);for(let c=0,u=n.length;c<u;c++){const d=n[c];o[c]=e(t[d],d,c,a)}}else o=[];return o}function Vv(t,e,s={},r,o){if(Ps.ce||Ps.parent&&dn(Ps.parent)&&Ps.parent.ce){const u=Object.keys(s).length>0;return M(),zo(Fe,null,[gt("slot",s,r)],u?-2:64)}let a=t[e];a&&a._c&&(a._d=!1),M();const l=a&&$p(a(s)),n=s.key||l&&l.key,c=zo(Fe,{key:(n&&!Zi(n)?n:`_${e}`)+(!l&&r?"_fb":"")},l||[],l&&t._===1?64:-2);return a&&a._c&&(a._d=!0),c}function $p(t){return t.some(e=>xa(e)?!(e.type===Ws||e.type===Fe&&!$p(e.children)):!0)?t:null}const yu=t=>t?Jp(t)?lc(t):yu(t.parent):null,aa=Cs(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>yu(t.parent),$root:t=>yu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Bp(t),$forceUpdate:t=>t.f||(t.f=()=>{cd(t.update)}),$nextTick:t=>t.n||(t.n=Bs.bind(t.proxy)),$watch:t=>Mv.bind(t)}),Ic=(t,e)=>t!==rs&&!t.__isScriptSetup&&Qt(t,e),Wv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:o,props:a,accessCache:l,type:n,appContext:c}=t;if(e[0]!=="$"){const g=l[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return o[e];case 4:return s[e];case 3:return a[e]}else{if(Ic(r,e))return l[e]=1,r[e];if(o!==rs&&Qt(o,e))return l[e]=2,o[e];if(Qt(a,e))return l[e]=3,a[e];if(s!==rs&&Qt(s,e))return l[e]=4,s[e];wu&&(l[e]=0)}}const u=aa[e];let d,h;if(u)return e==="$attrs"&&Vs(t.attrs,"get",""),u(t);if((d=n.__cssModules)&&(d=d[e]))return d;if(s!==rs&&Qt(s,e))return l[e]=4,s[e];if(h=c.config.globalProperties,Qt(h,e))return h[e]},set({_:t},e,s){const{data:r,setupState:o,ctx:a}=t;return Ic(o,e)?(o[e]=s,!0):r!==rs&&Qt(r,e)?(r[e]=s,!0):Qt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:o,props:a,type:l}},n){let c;return!!(s[n]||t!==rs&&n[0]!=="$"&&Qt(t,n)||Ic(e,n)||Qt(a,n)||Qt(r,n)||Qt(aa,n)||Qt(o.config.globalProperties,n)||(c=l.__cssModules)&&c[n])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Qt(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function nh(t){return pt(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let wu=!0;function qv(t){const e=Bp(t),s=t.proxy,r=t.ctx;wu=!1,e.beforeCreate&&ah(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:n,provide:c,inject:u,created:d,beforeMount:h,mounted:g,beforeUpdate:_,updated:w,activated:b,deactivated:m,beforeDestroy:v,beforeUnmount:p,destroyed:x,unmounted:y,render:E,renderTracked:A,renderTriggered:D,errorCaptured:S,serverPrefetch:C,expose:B,inheritAttrs:L,components:$,directives:P,filters:ie}=e;if(u&&Kv(u,r,null),l)for(const ue in l){const se=l[ue];Et(se)&&(r[ue]=se.bind(s))}if(o){const ue=o.call(s,s);ts(ue)&&(t.data=sc(ue))}if(wu=!0,a)for(const ue in a){const se=a[ue],R=Et(se)?se.bind(s,s):Et(se.get)?se.get.bind(s,s):mr,K=!Et(se)&&Et(se.set)?se.set.bind(s):mr,G=Ht({get:R,set:K});Object.defineProperty(r,ue,{enumerable:!0,configurable:!0,get:()=>G.value,set:U=>G.value=U})}if(n)for(const ue in n)Rp(n[ue],r,s,ue);if(c){const ue=Et(c)?c.call(s):c;Reflect.ownKeys(ue).forEach(se=>{vl(se,ue[se])})}d&&ah(d,t,"c");function I(ue,se){pt(se)?se.forEach(R=>ue(R.bind(s))):se&&ue(se.bind(s))}if(I(Pv,h),I(Mi,g),I(Ov,_),I(Dp,w),I($v,b),I(Rv,m),I(Hv,S),I(jv,A),I(Nv,D),I(Lp,p),I(oo,y),I(Iv,C),pt(B))if(B.length){const ue=t.exposed||(t.exposed={});B.forEach(se=>{Object.defineProperty(ue,se,{get:()=>s[se],set:R=>s[se]=R,enumerable:!0})})}else t.exposed||(t.exposed={});E&&t.render===mr&&(t.render=E),L!=null&&(t.inheritAttrs=L),$&&(t.components=$),P&&(t.directives=P),C&&Mp(t)}function Kv(t,e,s=mr){pt(t)&&(t=ku(t));for(const r in t){const o=t[r];let a;ts(o)?"default"in o?a=Ji(o.from||r,o.default,!0):a=Ji(o.from||r):a=Ji(o),Ys(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[r]=a}}function ah(t,e,s){er(pt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Rp(t,e,s,r){let o=r.includes(".")?yp(s,r):()=>s[r];if(_s(t)){const a=e[t];Et(a)&&oa(o,a)}else if(Et(t))oa(o,t.bind(s));else if(ts(t))if(pt(t))t.forEach(a=>Rp(a,e,s,r));else{const a=Et(t.handler)?t.handler.bind(s):e[t.handler];Et(a)&&oa(o,a,t)}}function Bp(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:o,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,n=a.get(e);let c;return n?c=n:!o.length&&!s&&!r?c=e:(c={},o.length&&o.forEach(u=>Il(c,u,l,!0)),Il(c,e,l)),ts(e)&&a.set(e,c),c}function Il(t,e,s,r=!1){const{mixins:o,extends:a}=e;a&&Il(t,a,s,!0),o&&o.forEach(l=>Il(t,l,s,!0));for(const l in e)if(!(r&&l==="expose")){const n=Gv[l]||s&&s[l];t[l]=n?n(t[l],e[l]):e[l]}return t}const Gv={data:lh,props:ch,emits:ch,methods:Jn,computed:Jn,beforeCreate:ni,created:ni,beforeMount:ni,mounted:ni,beforeUpdate:ni,updated:ni,beforeDestroy:ni,beforeUnmount:ni,destroyed:ni,unmounted:ni,activated:ni,deactivated:ni,errorCaptured:ni,serverPrefetch:ni,components:Jn,directives:Jn,watch:Yv,provide:lh,inject:Xv};function lh(t,e){return e?t?function(){return Cs(Et(t)?t.call(this,this):t,Et(e)?e.call(this,this):e)}:e:t}function Xv(t,e){return Jn(ku(t),ku(e))}function ku(t){if(pt(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ni(t,e){return t?[...new Set([].concat(t,e))]:e}function Jn(t,e){return t?Cs(Object.create(null),t,e):e}function ch(t,e){return t?pt(t)&&pt(e)?[...new Set([...t,...e])]:Cs(Object.create(null),nh(t),nh(e??{})):e}function Yv(t,e){if(!t)return e;if(!e)return t;const s=Cs(Object.create(null),t);for(const r in e)s[r]=ni(t[r],e[r]);return s}function Pp(){return{app:null,config:{isNativeTag:Vf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jv=0;function Zv(t,e){return function(r,o=null){Et(r)||(r=Cs({},r)),o!=null&&!ts(o)&&(o=null);const a=Pp(),l=new WeakSet,n=[];let c=!1;const u=a.app={_uid:Jv++,_component:r,_props:o,_container:null,_context:a,_instance:null,version:D2,get config(){return a.config},set config(d){},use(d,...h){return l.has(d)||(d&&Et(d.install)?(l.add(d),d.install(u,...h)):Et(d)&&(l.add(d),d(u,...h))),u},mixin(d){return a.mixins.includes(d)||a.mixins.push(d),u},component(d,h){return h?(a.components[d]=h,u):a.components[d]},directive(d,h){return h?(a.directives[d]=h,u):a.directives[d]},mount(d,h,g){if(!c){const _=u._ceVNode||gt(r,o);return _.appContext=a,g===!0?g="svg":g===!1&&(g=void 0),t(_,d,g),c=!0,u._container=d,d.__vue_app__=u,lc(_.component)}},onUnmount(d){n.push(d)},unmount(){c&&(er(n,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,h){return a.provides[d]=h,u},runWithContext(d){const h=hn;hn=u;try{return d()}finally{hn=h}}};return u}}let hn=null;const Qv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${zi(e)}Modifiers`]||t[`${co(e)}Modifiers`];function e2(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||rs;let o=s;const a=e.startsWith("update:"),l=a&&Qv(r,e.slice(7));l&&(l.trim&&(o=s.map(d=>_s(d)?d.trim():d)),l.number&&(o=s.map(Ql)));let n,c=r[n=Lc(e)]||r[n=Lc(zi(e))];!c&&a&&(c=r[n=Lc(co(e))]),c&&er(c,t,6,o);const u=r[n+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[n])return;t.emitted[n]=!0,er(u,t,6,o)}}const t2=new WeakMap;function Op(t,e,s=!1){const r=s?t2:e.emitsCache,o=r.get(t);if(o!==void 0)return o;const a=t.emits;let l={},n=!1;if(!Et(t)){const c=u=>{const d=Op(u,e,!0);d&&(n=!0,Cs(l,d))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!a&&!n?(ts(t)&&r.set(t,null),null):(pt(a)?a.forEach(c=>l[c]=null):Cs(l,a),ts(t)&&r.set(t,l),l)}function nc(t,e){return!t||!Yl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qt(t,e[0].toLowerCase()+e.slice(1))||Qt(t,co(e))||Qt(t,e))}function uh(t){const{type:e,vnode:s,proxy:r,withProxy:o,propsOptions:[a],slots:l,attrs:n,emit:c,render:u,renderCache:d,props:h,data:g,setupState:_,ctx:w,inheritAttrs:b}=t,m=Pl(t);let v,p;try{if(s.shapeFlag&4){const y=o||r,E=y;v=pr(u.call(E,y,d,h,_,g,w)),p=n}else{const y=e;v=pr(y.length>1?y(h,{attrs:n,slots:l,emit:c}):y(h,null)),p=e.props?n:s2(n)}}catch(y){la.length=0,ic(y,t,1),v=gt(Ws)}let x=v;if(p&&b!==!1){const y=Object.keys(p),{shapeFlag:E}=x;y.length&&E&7&&(a&&y.some(Zu)&&(p=i2(p,a)),x=no(x,p,!1,!0))}return s.dirs&&(x=no(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&Ho(x,s.transition),v=x,Pl(m),v}const s2=t=>{let e;for(const s in t)(s==="class"||s==="style"||Yl(s))&&((e||(e={}))[s]=t[s]);return e},i2=(t,e)=>{const s={};for(const r in t)(!Zu(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function r2(t,e,s){const{props:r,children:o,component:a}=t,{props:l,children:n,patchFlag:c}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return r?dh(r,l,u):!!l;if(c&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const g=d[h];if(l[g]!==r[g]&&!nc(u,g))return!0}}}else return(o||n)&&(!n||!n.$stable)?!0:r===l?!1:r?l?dh(r,l,u):!0:!!l;return!1}function dh(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(e[a]!==t[a]&&!nc(s,a))return!0}return!1}function o2({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ip={},Np=()=>Object.create(Ip),jp=t=>Object.getPrototypeOf(t)===Ip;function n2(t,e,s,r=!1){const o={},a=Np();t.propsDefaults=Object.create(null),Hp(t,e,o,a);for(const l in t.propsOptions[0])l in o||(o[l]=void 0);s?t.props=r?o:hp(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function a2(t,e,s,r){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,n=Vt(o),[c]=t.propsOptions;let u=!1;if((r||l>0)&&!(l&16)){if(l&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let g=d[h];if(nc(t.emitsOptions,g))continue;const _=e[g];if(c)if(Qt(a,g))_!==a[g]&&(a[g]=_,u=!0);else{const w=zi(g);o[w]=Su(c,n,w,_,t,!1)}else _!==a[g]&&(a[g]=_,u=!0)}}}else{Hp(t,e,o,a)&&(u=!0);let d;for(const h in n)(!e||!Qt(e,h)&&((d=co(h))===h||!Qt(e,d)))&&(c?s&&(s[h]!==void 0||s[d]!==void 0)&&(o[h]=Su(c,n,h,void 0,t,!0)):delete o[h]);if(a!==n)for(const h in a)(!e||!Qt(e,h))&&(delete a[h],u=!0)}u&&Tr(t.attrs,"set","")}function Hp(t,e,s,r){const[o,a]=t.propsOptions;let l=!1,n;if(e)for(let c in e){if(sa(c))continue;const u=e[c];let d;o&&Qt(o,d=zi(c))?!a||!a.includes(d)?s[d]=u:(n||(n={}))[d]=u:nc(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,l=!0)}if(a){const c=Vt(s),u=n||rs;for(let d=0;d<a.length;d++){const h=a[d];s[h]=Su(o,c,h,u[h],t,!Qt(u,h))}}return l}function Su(t,e,s,r,o,a){const l=t[s];if(l!=null){const n=Qt(l,"default");if(n&&r===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&Et(c)){const{propsDefaults:u}=o;if(s in u)r=u[s];else{const d=$a(o);r=u[s]=c.call(null,e),d()}}else r=c;o.ce&&o.ce._setProp(s,r)}l[0]&&(a&&!n?r=!1:l[1]&&(r===""||r===co(s))&&(r=!0))}return r}const l2=new WeakMap;function zp(t,e,s=!1){const r=s?l2:e.propsCache,o=r.get(t);if(o)return o;const a=t.props,l={},n=[];let c=!1;if(!Et(t)){const d=h=>{c=!0;const[g,_]=zp(h,e,!0);Cs(l,g),_&&n.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!a&&!c)return ts(t)&&r.set(t,ln),ln;if(pt(a))for(let d=0;d<a.length;d++){const h=zi(a[d]);hh(h)&&(l[h]=rs)}else if(a)for(const d in a){const h=zi(d);if(hh(h)){const g=a[d],_=l[h]=pt(g)||Et(g)?{type:g}:Cs({},g),w=_.type;let b=!1,m=!0;if(pt(w))for(let v=0;v<w.length;++v){const p=w[v],x=Et(p)&&p.name;if(x==="Boolean"){b=!0;break}else x==="String"&&(m=!1)}else b=Et(w)&&w.name==="Boolean";_[0]=b,_[1]=m,(b||Qt(_,"default"))&&n.push(h)}}const u=[l,n];return ts(t)&&r.set(t,u),u}function hh(t){return t[0]!=="$"&&!sa(t)}const dd=t=>t==="_"||t==="_ctx"||t==="$stable",hd=t=>pt(t)?t.map(pr):[pr(t)],c2=(t,e,s)=>{if(e._n)return e;const r=Bt((...o)=>hd(e(...o)),s);return r._c=!1,r},Fp=(t,e,s)=>{const r=t._ctx;for(const o in t){if(dd(o))continue;const a=t[o];if(Et(a))e[o]=c2(o,a,r);else if(a!=null){const l=hd(a);e[o]=()=>l}}},Up=(t,e)=>{const s=hd(e);t.slots.default=()=>s},Vp=(t,e,s)=>{for(const r in e)(s||!dd(r))&&(t[r]=e[r])},u2=(t,e,s)=>{const r=t.slots=Np();if(t.vnode.shapeFlag&32){const o=e._;o?(Vp(r,e,s),s&&Gf(r,"_",o,!0)):Fp(e,r)}else e&&Up(t,e)},d2=(t,e,s)=>{const{vnode:r,slots:o}=t;let a=!0,l=rs;if(r.shapeFlag&32){const n=e._;n?s&&n===1?a=!1:Vp(o,e,s):(a=!e.$stable,Fp(e,o)),l=e}else e&&(Up(t,e),l={default:1});if(a)for(const n in o)!dd(n)&&l[n]==null&&delete o[n]},Si=g2;function h2(t){return f2(t)}function f2(t,e){const s=ec();s.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:l,createText:n,createComment:c,setText:u,setElementText:d,parentNode:h,nextSibling:g,setScopeId:_=mr,insertStaticContent:w}=t,b=(z,J,ne,fe=null,xe=null,ae=null,Ce=void 0,Pe=null,De=!!J.dynamicChildren)=>{if(z===J)return;z&&!To(z,J)&&(fe=W(z),U(z,xe,ae,!0),z=null),J.patchFlag===-2&&(De=!1,J.dynamicChildren=null);const{type:Se,ref:He,shapeFlag:Ne}=J;switch(Se){case ac:m(z,J,ne,fe);break;case Ws:v(z,J,ne,fe);break;case bl:z==null&&p(J,ne,fe,Ce);break;case Fe:$(z,J,ne,fe,xe,ae,Ce,Pe,De);break;default:Ne&1?E(z,J,ne,fe,xe,ae,Ce,Pe,De):Ne&6?P(z,J,ne,fe,xe,ae,Ce,Pe,De):(Ne&64||Ne&128)&&Se.process(z,J,ne,fe,xe,ae,Ce,Pe,De,X)}He!=null&&xe?na(He,z&&z.ref,ae,J||z,!J):He==null&&z&&z.ref!=null&&na(z.ref,null,ae,z,!0)},m=(z,J,ne,fe)=>{if(z==null)r(J.el=n(J.children),ne,fe);else{const xe=J.el=z.el;J.children!==z.children&&u(xe,J.children)}},v=(z,J,ne,fe)=>{z==null?r(J.el=c(J.children||""),ne,fe):J.el=z.el},p=(z,J,ne,fe)=>{[z.el,z.anchor]=w(z.children,J,ne,fe,z.el,z.anchor)},x=({el:z,anchor:J},ne,fe)=>{let xe;for(;z&&z!==J;)xe=g(z),r(z,ne,fe),z=xe;r(J,ne,fe)},y=({el:z,anchor:J})=>{let ne;for(;z&&z!==J;)ne=g(z),o(z),z=ne;o(J)},E=(z,J,ne,fe,xe,ae,Ce,Pe,De)=>{if(J.type==="svg"?Ce="svg":J.type==="math"&&(Ce="mathml"),z==null)A(J,ne,fe,xe,ae,Ce,Pe,De);else{const Se=z.el&&z.el._isVueCE?z.el:null;try{Se&&Se._beginPatch(),C(z,J,xe,ae,Ce,Pe,De)}finally{Se&&Se._endPatch()}}},A=(z,J,ne,fe,xe,ae,Ce,Pe)=>{let De,Se;const{props:He,shapeFlag:Ne,transition:Ve,dirs:Be}=z;if(De=z.el=l(z.type,ae,He&&He.is,He),Ne&8?d(De,z.children):Ne&16&&S(z.children,De,null,fe,xe,Nc(z,ae),Ce,Pe),Be&&_o(z,null,fe,"created"),D(De,z,z.scopeId,Ce,fe),He){for(const st in He)st!=="value"&&!sa(st)&&a(De,st,null,He[st],ae,fe);"value"in He&&a(De,"value",null,He.value,ae),(Se=He.onVnodeBeforeMount)&&nr(Se,fe,z)}Be&&_o(z,null,fe,"beforeMount");const Ye=p2(xe,Ve);Ye&&Ve.beforeEnter(De),r(De,J,ne),((Se=He&&He.onVnodeMounted)||Ye||Be)&&Si(()=>{Se&&nr(Se,fe,z),Ye&&Ve.enter(De),Be&&_o(z,null,fe,"mounted")},xe)},D=(z,J,ne,fe,xe)=>{if(ne&&_(z,ne),fe)for(let ae=0;ae<fe.length;ae++)_(z,fe[ae]);if(xe){let ae=xe.subTree;if(J===ae||Gp(ae.type)&&(ae.ssContent===J||ae.ssFallback===J)){const Ce=xe.vnode;D(z,Ce,Ce.scopeId,Ce.slotScopeIds,xe.parent)}}},S=(z,J,ne,fe,xe,ae,Ce,Pe,De=0)=>{for(let Se=De;Se<z.length;Se++){const He=z[Se]=Pe?Yr(z[Se]):pr(z[Se]);b(null,He,J,ne,fe,xe,ae,Ce,Pe)}},C=(z,J,ne,fe,xe,ae,Ce)=>{const Pe=J.el=z.el;let{patchFlag:De,dynamicChildren:Se,dirs:He}=J;De|=z.patchFlag&16;const Ne=z.props||rs,Ve=J.props||rs;let Be;if(ne&&yo(ne,!1),(Be=Ve.onVnodeBeforeUpdate)&&nr(Be,ne,J,z),He&&_o(J,z,ne,"beforeUpdate"),ne&&yo(ne,!0),(Ne.innerHTML&&Ve.innerHTML==null||Ne.textContent&&Ve.textContent==null)&&d(Pe,""),Se?B(z.dynamicChildren,Se,Pe,ne,fe,Nc(J,xe),ae):Ce||se(z,J,Pe,null,ne,fe,Nc(J,xe),ae,!1),De>0){if(De&16)L(Pe,Ne,Ve,ne,xe);else if(De&2&&Ne.class!==Ve.class&&a(Pe,"class",null,Ve.class,xe),De&4&&a(Pe,"style",Ne.style,Ve.style,xe),De&8){const Ye=J.dynamicProps;for(let st=0;st<Ye.length;st++){const qe=Ye[st],_t=Ne[qe],wt=Ve[qe];(wt!==_t||qe==="value")&&a(Pe,qe,_t,wt,xe,ne)}}De&1&&z.children!==J.children&&d(Pe,J.children)}else!Ce&&Se==null&&L(Pe,Ne,Ve,ne,xe);((Be=Ve.onVnodeUpdated)||He)&&Si(()=>{Be&&nr(Be,ne,J,z),He&&_o(J,z,ne,"updated")},fe)},B=(z,J,ne,fe,xe,ae,Ce)=>{for(let Pe=0;Pe<J.length;Pe++){const De=z[Pe],Se=J[Pe],He=De.el&&(De.type===Fe||!To(De,Se)||De.shapeFlag&198)?h(De.el):ne;b(De,Se,He,null,fe,xe,ae,Ce,!0)}},L=(z,J,ne,fe,xe)=>{if(J!==ne){if(J!==rs)for(const ae in J)!sa(ae)&&!(ae in ne)&&a(z,ae,J[ae],null,xe,fe);for(const ae in ne){if(sa(ae))continue;const Ce=ne[ae],Pe=J[ae];Ce!==Pe&&ae!=="value"&&a(z,ae,Pe,Ce,xe,fe)}"value"in ne&&a(z,"value",J.value,ne.value,xe)}},$=(z,J,ne,fe,xe,ae,Ce,Pe,De)=>{const Se=J.el=z?z.el:n(""),He=J.anchor=z?z.anchor:n("");let{patchFlag:Ne,dynamicChildren:Ve,slotScopeIds:Be}=J;Be&&(Pe=Pe?Pe.concat(Be):Be),z==null?(r(Se,ne,fe),r(He,ne,fe),S(J.children||[],ne,He,xe,ae,Ce,Pe,De)):Ne>0&&Ne&64&&Ve&&z.dynamicChildren&&z.dynamicChildren.length===Ve.length?(B(z.dynamicChildren,Ve,ne,xe,ae,Ce,Pe),(J.key!=null||xe&&J===xe.subTree)&&Wp(z,J,!0)):se(z,J,ne,He,xe,ae,Ce,Pe,De)},P=(z,J,ne,fe,xe,ae,Ce,Pe,De)=>{J.slotScopeIds=Pe,z==null?J.shapeFlag&512?xe.ctx.activate(J,ne,fe,Ce,De):ie(J,ne,fe,xe,ae,Ce,De):re(z,J,De)},ie=(z,J,ne,fe,xe,ae,Ce)=>{const Pe=z.component=k2(z,fe,xe);if(rc(z)&&(Pe.ctx.renderer=X),S2(Pe,!1,Ce),Pe.asyncDep){if(xe&&xe.registerDep(Pe,I,Ce),!z.el){const De=Pe.subTree=gt(Ws);v(null,De,J,ne),z.placeholder=De.el}}else I(Pe,z,J,ne,xe,ae,Ce)},re=(z,J,ne)=>{const fe=J.component=z.component;if(r2(z,J,ne))if(fe.asyncDep&&!fe.asyncResolved){ue(fe,J,ne);return}else fe.next=J,fe.update();else J.el=z.el,fe.vnode=J},I=(z,J,ne,fe,xe,ae,Ce)=>{const Pe=()=>{if(z.isMounted){let{next:Ne,bu:Ve,u:Be,parent:Ye,vnode:st}=z;{const rt=qp(z);if(rt){Ne&&(Ne.el=st.el,ue(z,Ne,Ce)),rt.asyncDep.then(()=>{z.isUnmounted||Pe()});return}}let qe=Ne,_t;yo(z,!1),Ne?(Ne.el=st.el,ue(z,Ne,Ce)):Ne=st,Ve&&gl(Ve),(_t=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&nr(_t,Ye,Ne,st),yo(z,!0);const wt=uh(z),at=z.subTree;z.subTree=wt,b(at,wt,h(at.el),W(at),z,xe,ae),Ne.el=wt.el,qe===null&&o2(z,wt.el),Be&&Si(Be,xe),(_t=Ne.props&&Ne.props.onVnodeUpdated)&&Si(()=>nr(_t,Ye,Ne,st),xe)}else{let Ne;const{el:Ve,props:Be}=J,{bm:Ye,m:st,parent:qe,root:_t,type:wt}=z,at=dn(J);yo(z,!1),Ye&&gl(Ye),!at&&(Ne=Be&&Be.onVnodeBeforeMount)&&nr(Ne,qe,J),yo(z,!0);{_t.ce&&_t.ce._def.shadowRoot!==!1&&_t.ce._injectChildStyle(wt);const rt=z.subTree=uh(z);b(null,rt,ne,fe,z,xe,ae),J.el=rt.el}if(st&&Si(st,xe),!at&&(Ne=Be&&Be.onVnodeMounted)){const rt=J;Si(()=>nr(Ne,qe,rt),xe)}(J.shapeFlag&256||qe&&dn(qe.vnode)&&qe.vnode.shapeFlag&256)&&z.a&&Si(z.a,xe),z.isMounted=!0,J=ne=fe=null}};z.scope.on();const De=z.effect=new Zf(Pe);z.scope.off();const Se=z.update=De.run.bind(De),He=z.job=De.runIfDirty.bind(De);He.i=z,He.id=z.uid,De.scheduler=()=>cd(He),yo(z,!0),Se()},ue=(z,J,ne)=>{J.component=z;const fe=z.vnode.props;z.vnode=J,z.next=null,a2(z,J.props,fe,ne),d2(z,J.children,ne),Rr(),sh(z),Br()},se=(z,J,ne,fe,xe,ae,Ce,Pe,De=!1)=>{const Se=z&&z.children,He=z?z.shapeFlag:0,Ne=J.children,{patchFlag:Ve,shapeFlag:Be}=J;if(Ve>0){if(Ve&128){K(Se,Ne,ne,fe,xe,ae,Ce,Pe,De);return}else if(Ve&256){R(Se,Ne,ne,fe,xe,ae,Ce,Pe,De);return}}Be&8?(He&16&&ye(Se,xe,ae),Ne!==Se&&d(ne,Ne)):He&16?Be&16?K(Se,Ne,ne,fe,xe,ae,Ce,Pe,De):ye(Se,xe,ae,!0):(He&8&&d(ne,""),Be&16&&S(Ne,ne,fe,xe,ae,Ce,Pe,De))},R=(z,J,ne,fe,xe,ae,Ce,Pe,De)=>{z=z||ln,J=J||ln;const Se=z.length,He=J.length,Ne=Math.min(Se,He);let Ve;for(Ve=0;Ve<Ne;Ve++){const Be=J[Ve]=De?Yr(J[Ve]):pr(J[Ve]);b(z[Ve],Be,ne,null,xe,ae,Ce,Pe,De)}Se>He?ye(z,xe,ae,!0,!1,Ne):S(J,ne,fe,xe,ae,Ce,Pe,De,Ne)},K=(z,J,ne,fe,xe,ae,Ce,Pe,De)=>{let Se=0;const He=J.length;let Ne=z.length-1,Ve=He-1;for(;Se<=Ne&&Se<=Ve;){const Be=z[Se],Ye=J[Se]=De?Yr(J[Se]):pr(J[Se]);if(To(Be,Ye))b(Be,Ye,ne,null,xe,ae,Ce,Pe,De);else break;Se++}for(;Se<=Ne&&Se<=Ve;){const Be=z[Ne],Ye=J[Ve]=De?Yr(J[Ve]):pr(J[Ve]);if(To(Be,Ye))b(Be,Ye,ne,null,xe,ae,Ce,Pe,De);else break;Ne--,Ve--}if(Se>Ne){if(Se<=Ve){const Be=Ve+1,Ye=Be<He?J[Be].el:fe;for(;Se<=Ve;)b(null,J[Se]=De?Yr(J[Se]):pr(J[Se]),ne,Ye,xe,ae,Ce,Pe,De),Se++}}else if(Se>Ve)for(;Se<=Ne;)U(z[Se],xe,ae,!0),Se++;else{const Be=Se,Ye=Se,st=new Map;for(Se=Ye;Se<=Ve;Se++){const it=J[Se]=De?Yr(J[Se]):pr(J[Se]);it.key!=null&&st.set(it.key,Se)}let qe,_t=0;const wt=Ve-Ye+1;let at=!1,rt=0;const Wt=new Array(wt);for(Se=0;Se<wt;Se++)Wt[Se]=0;for(Se=Be;Se<=Ne;Se++){const it=z[Se];if(_t>=wt){U(it,xe,ae,!0);continue}let _e;if(it.key!=null)_e=st.get(it.key);else for(qe=Ye;qe<=Ve;qe++)if(Wt[qe-Ye]===0&&To(it,J[qe])){_e=qe;break}_e===void 0?U(it,xe,ae,!0):(Wt[_e-Ye]=Se+1,_e>=rt?rt=_e:at=!0,b(it,J[_e],ne,null,xe,ae,Ce,Pe,De),_t++)}const lt=at?m2(Wt):ln;for(qe=lt.length-1,Se=wt-1;Se>=0;Se--){const it=Ye+Se,_e=J[it],j=J[it+1],Ke=it+1<He?j.el||Kp(j):fe;Wt[Se]===0?b(null,_e,ne,Ke,xe,ae,Ce,Pe,De):at&&(qe<0||Se!==lt[qe]?G(_e,ne,Ke,2):qe--)}}},G=(z,J,ne,fe,xe=null)=>{const{el:ae,type:Ce,transition:Pe,children:De,shapeFlag:Se}=z;if(Se&6){G(z.component.subTree,J,ne,fe);return}if(Se&128){z.suspense.move(J,ne,fe);return}if(Se&64){Ce.move(z,J,ne,X);return}if(Ce===Fe){r(ae,J,ne);for(let Ne=0;Ne<De.length;Ne++)G(De[Ne],J,ne,fe);r(z.anchor,J,ne);return}if(Ce===bl){x(z,J,ne);return}if(fe!==2&&Se&1&&Pe)if(fe===0)Pe.beforeEnter(ae),r(ae,J,ne),Si(()=>Pe.enter(ae),xe);else{const{leave:Ne,delayLeave:Ve,afterLeave:Be}=Pe,Ye=()=>{z.ctx.isUnmounted?o(ae):r(ae,J,ne)},st=()=>{ae._isLeaving&&ae[Ar](!0),Ne(ae,()=>{Ye(),Be&&Be()})};Ve?Ve(ae,Ye,st):st()}else r(ae,J,ne)},U=(z,J,ne,fe=!1,xe=!1)=>{const{type:ae,props:Ce,ref:Pe,children:De,dynamicChildren:Se,shapeFlag:He,patchFlag:Ne,dirs:Ve,cacheIndex:Be}=z;if(Ne===-2&&(xe=!1),Pe!=null&&(Rr(),na(Pe,null,ne,z,!0),Br()),Be!=null&&(J.renderCache[Be]=void 0),He&256){J.ctx.deactivate(z);return}const Ye=He&1&&Ve,st=!dn(z);let qe;if(st&&(qe=Ce&&Ce.onVnodeBeforeUnmount)&&nr(qe,J,z),He&6)Me(z.component,ne,fe);else{if(He&128){z.suspense.unmount(ne,fe);return}Ye&&_o(z,null,J,"beforeUnmount"),He&64?z.type.remove(z,J,ne,X,fe):Se&&!Se.hasOnce&&(ae!==Fe||Ne>0&&Ne&64)?ye(Se,J,ne,!1,!0):(ae===Fe&&Ne&384||!xe&&He&16)&&ye(De,J,ne),fe&&pe(z)}(st&&(qe=Ce&&Ce.onVnodeUnmounted)||Ye)&&Si(()=>{qe&&nr(qe,J,z),Ye&&_o(z,null,J,"unmounted")},ne)},pe=z=>{const{type:J,el:ne,anchor:fe,transition:xe}=z;if(J===Fe){Ae(ne,fe);return}if(J===bl){y(z);return}const ae=()=>{o(ne),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(z.shapeFlag&1&&xe&&!xe.persisted){const{leave:Ce,delayLeave:Pe}=xe,De=()=>Ce(ne,ae);Pe?Pe(z.el,ae,De):De()}else ae()},Ae=(z,J)=>{let ne;for(;z!==J;)ne=g(z),o(z),z=ne;o(J)},Me=(z,J,ne)=>{const{bum:fe,scope:xe,job:ae,subTree:Ce,um:Pe,m:De,a:Se}=z;fh(De),fh(Se),fe&&gl(fe),xe.stop(),ae&&(ae.flags|=8,U(Ce,z,J,ne)),Pe&&Si(Pe,J),Si(()=>{z.isUnmounted=!0},J)},ye=(z,J,ne,fe=!1,xe=!1,ae=0)=>{for(let Ce=ae;Ce<z.length;Ce++)U(z[Ce],J,ne,fe,xe)},W=z=>{if(z.shapeFlag&6)return W(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const J=g(z.anchor||z.el),ne=J&&J[Tv];return ne?g(ne):J};let O=!1;const q=(z,J,ne)=>{let fe;z==null?J._vnode&&(U(J._vnode,null,null,!0),fe=J._vnode.component):b(J._vnode||null,z,J,null,null,null,ne),J._vnode=z,O||(O=!0,sh(fe),vp(),O=!1)},X={p:b,um:U,m:G,r:pe,mt:ie,mc:S,pc:se,pbc:B,n:W,o:t};return{render:q,hydrate:void 0,createApp:Zv(q)}}function Nc({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function yo({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function p2(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wp(t,e,s=!1){const r=t.children,o=e.children;if(pt(r)&&pt(o))for(let a=0;a<r.length;a++){const l=r[a];let n=o[a];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=o[a]=Yr(o[a]),n.el=l.el),!s&&n.patchFlag!==-2&&Wp(l,n)),n.type===ac&&(n.patchFlag!==-1?n.el=l.el:n.__elIndex=a+(t.type===Fe?1:0)),n.type===Ws&&!n.el&&(n.el=l.el)}}function m2(t){const e=t.slice(),s=[0];let r,o,a,l,n;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(o=s[s.length-1],t[o]<u){e[r]=o,s.push(r);continue}for(a=0,l=s.length-1;a<l;)n=a+l>>1,t[s[n]]<u?a=n+1:l=n;u<t[s[a]]&&(a>0&&(e[r]=s[a-1]),s[a]=r)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=e[l];return s}function qp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qp(e)}function fh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Kp(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Kp(e.subTree):null}const Gp=t=>t.__isSuspense;function g2(t,e){e&&e.pendingBranch?pt(t)?e.effects.push(...t):e.effects.push(t):Cv(t)}const Fe=Symbol.for("v-fgt"),ac=Symbol.for("v-txt"),Ws=Symbol.for("v-cmt"),bl=Symbol.for("v-stc"),la=[];let Ei=null;function M(t=!1){la.push(Ei=t?null:[])}function v2(){la.pop(),Ei=la[la.length-1]||null}let ba=1;function Nl(t,e=!1){ba+=t,t<0&&Ei&&e&&(Ei.hasOnce=!0)}function Xp(t){return t.dynamicChildren=ba>0?Ei||ln:null,v2(),ba>0&&Ei&&Ei.push(t),t}function T(t,e,s,r,o,a){return Xp(i(t,e,s,r,o,a,!0))}function zo(t,e,s,r,o){return Xp(gt(t,e,s,r,o,!0))}function xa(t){return t?t.__v_isVNode===!0:!1}function To(t,e){return t.type===e.type&&t.key===e.key}const Yp=({key:t})=>t??null,xl=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?_s(t)||Ys(t)||Et(t)?{i:Ps,r:t,k:e,f:!!s}:t:null);function i(t,e=null,s=null,r=0,o=null,a=t===Fe?0:1,l=!1,n=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yp(e),ref:e&&xl(e),scopeId:xp,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ps};return n?(fd(c,s),a&128&&t.normalize(c)):s&&(c.shapeFlag|=_s(s)?8:16),ba>0&&!l&&Ei&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Ei.push(c),c}const gt=b2;function b2(t,e=null,s=null,r=0,o=null,a=!1){if((!t||t===Fv)&&(t=Ws),xa(t)){const n=no(t,e,!0);return s&&fd(n,s),ba>0&&!a&&Ei&&(n.shapeFlag&6?Ei[Ei.indexOf(t)]=n:Ei.push(n)),n.patchFlag=-2,n}if(T2(t)&&(t=t.__vccOpts),e){e=x2(e);let{class:n,style:c}=e;n&&!_s(n)&&(e.class=Le(n)),ts(c)&&(ld(c)&&!pt(c)&&(c=Cs({},c)),e.style=vs(c))}const l=_s(t)?1:Gp(t)?128:wp(t)?64:ts(t)?4:Et(t)?2:0;return i(t,e,s,r,o,l,a,!0)}function x2(t){return t?ld(t)||jp(t)?Cs({},t):t:null}function no(t,e,s=!1,r=!1){const{props:o,ref:a,patchFlag:l,children:n,transition:c}=t,u=e?_2(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Yp(u),ref:e&&e.ref?s&&a?pt(a)?a.concat(xl(e)):[a,xl(e)]:xl(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:n,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fe?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&no(t.ssContent),ssFallback:t.ssFallback&&no(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Ho(d,c.clone(d)),d}function be(t=" ",e=0){return gt(ac,null,t,e)}function Us(t,e){const s=gt(bl,null,t);return s.staticCount=e,s}function Q(t="",e=!1){return e?(M(),zo(Ws,null,t)):gt(Ws,null,t)}function pr(t){return t==null||typeof t=="boolean"?gt(Ws):pt(t)?gt(Fe,null,t.slice()):xa(t)?Yr(t):gt(ac,null,String(t))}function Yr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:no(t)}function fd(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(pt(e))s=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),fd(t,o()),o._c&&(o._d=!0));return}else{s=32;const o=e._;!o&&!jp(e)?e._ctx=Ps:o===3&&Ps&&(Ps.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Et(e)?(e={default:e,_ctx:Ps},s=32):(e=String(e),r&64?(s=16,e=[be(e)]):s=8);t.children=e,t.shapeFlag|=s}function _2(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Le([e.class,r.class]));else if(o==="style")e.style=vs([e.style,r.style]);else if(Yl(o)){const a=e[o],l=r[o];l&&a!==l&&!(pt(a)&&a.includes(l))&&(e[o]=a?[].concat(a,l):l)}else o!==""&&(e[o]=r[o])}return e}function nr(t,e,s,r=null){er(t,e,7,[s,r])}const y2=Pp();let w2=0;function k2(t,e,s){const r=t.type,o=(e?e.appContext:t.appContext)||y2,a={uid:w2++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new X1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zp(r,o),emitsOptions:Op(r,o),emit:null,emitted:null,propsDefaults:rs,inheritAttrs:r.inheritAttrs,ctx:rs,data:rs,props:rs,attrs:rs,slots:rs,refs:rs,setupState:rs,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=e2.bind(null,a),t.ce&&t.ce(a),a}let qs=null;const pd=()=>qs||Ps;let jl,Cu;{const t=ec(),e=(s,r)=>{let o;return(o=t[s])||(o=t[s]=[]),o.push(r),a=>{o.length>1?o.forEach(l=>l(a)):o[0](a)}};jl=e("__VUE_INSTANCE_SETTERS__",s=>qs=s),Cu=e("__VUE_SSR_SETTERS__",s=>_a=s)}const $a=t=>{const e=qs;return jl(t),t.scope.on(),()=>{t.scope.off(),jl(e)}},ph=()=>{qs&&qs.scope.off(),jl(null)};function Jp(t){return t.vnode.shapeFlag&4}let _a=!1;function S2(t,e=!1,s=!1){e&&Cu(e);const{props:r,children:o}=t.vnode,a=Jp(t);n2(t,r,a,e),u2(t,o,s||e);const l=a?C2(t,e):void 0;return e&&Cu(!1),l}function C2(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Wv);const{setup:r}=s;if(r){Rr();const o=t.setupContext=r.length>1?A2(t):null,a=$a(t),l=La(r,t,0,[t.props,o]),n=Wf(l);if(Br(),a(),(n||t.sp)&&!dn(t)&&Mp(t),n){if(l.then(ph,ph),e)return l.then(c=>{mh(t,c)}).catch(c=>{ic(c,t,0)});t.asyncDep=l}else mh(t,l)}else Zp(t)}function mh(t,e,s){Et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ts(e)&&(t.setupState=pp(e)),Zp(t)}function Zp(t,e,s){const r=t.type;t.render||(t.render=r.render||mr);{const o=$a(t);Rr();try{qv(t)}finally{Br(),o()}}}const E2={get(t,e){return Vs(t,"get",""),t[e]}};function A2(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,E2),slots:t.slots,emit:t.emit,expose:e}}function lc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(pp(mv(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in aa)return aa[s](t)},has(e,s){return s in e||s in aa}})):t.proxy}function M2(t,e=!0){return Et(t)?t.displayName||t.name:t.name||e&&t.__name}function T2(t){return Et(t)&&"__vccOpts"in t}const Ht=(t,e)=>_v(t,e,_a);function md(t,e,s){try{Nl(-1);const r=arguments.length;return r===2?ts(e)&&!pt(e)?xa(e)?gt(t,null,[e]):gt(t,e):gt(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&xa(s)&&(s=[s]),gt(t,e,s))}finally{Nl(1)}}const D2="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eu;const gh=typeof window<"u"&&window.trustedTypes;if(gh)try{Eu=gh.createPolicy("vue",{createHTML:t=>t})}catch{}const Qp=Eu?t=>Eu.createHTML(t):t=>t,L2="http://www.w3.org/2000/svg",$2="http://www.w3.org/1998/Math/MathML",Cr=typeof document<"u"?document:null,vh=Cr&&Cr.createElement("template"),R2={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const o=e==="svg"?Cr.createElementNS(L2,t):e==="mathml"?Cr.createElementNS($2,t):s?Cr.createElement(t,{is:s}):Cr.createElement(t);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>Cr.createTextNode(t),createComment:t=>Cr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Cr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,o,a){const l=s?s.previousSibling:e.lastChild;if(o&&(o===a||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),s),!(o===a||!(o=o.nextSibling)););else{vh.innerHTML=Qp(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const n=vh.content;if(r==="svg"||r==="mathml"){const c=n.firstChild;for(;c.firstChild;)n.appendChild(c.firstChild);n.removeChild(c)}e.insertBefore(n,s)}return[l?l.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Wr="transition",Nn="animation",gn=Symbol("_vtc"),em={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tm=Cs({},Sp,em),B2=t=>(t.displayName="Transition",t.props=tm,t),jc=B2((t,{slots:e})=>md(Lv,sm(t),e)),wo=(t,e=[])=>{pt(t)?t.forEach(s=>s(...e)):t&&t(...e)},bh=t=>t?pt(t)?t.some(e=>e.length>1):t.length>1:!1;function sm(t){const e={};for(const $ in t)$ in em||(e[$]=t[$]);if(t.css===!1)return e;const{name:s="v",type:r,duration:o,enterFromClass:a=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:n=`${s}-enter-to`,appearFromClass:c=a,appearActiveClass:u=l,appearToClass:d=n,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:g=`${s}-leave-active`,leaveToClass:_=`${s}-leave-to`}=t,w=P2(o),b=w&&w[0],m=w&&w[1],{onBeforeEnter:v,onEnter:p,onEnterCancelled:x,onLeave:y,onLeaveCancelled:E,onBeforeAppear:A=v,onAppear:D=p,onAppearCancelled:S=x}=e,C=($,P,ie,re)=>{$._enterCancelled=re,Kr($,P?d:n),Kr($,P?u:l),ie&&ie()},B=($,P)=>{$._isLeaving=!1,Kr($,h),Kr($,_),Kr($,g),P&&P()},L=$=>(P,ie)=>{const re=$?D:p,I=()=>C(P,$,ie);wo(re,[P,I]),xh(()=>{Kr(P,$?c:a),cr(P,$?d:n),bh(re)||_h(P,r,b,I)})};return Cs(e,{onBeforeEnter($){wo(v,[$]),cr($,a),cr($,l)},onBeforeAppear($){wo(A,[$]),cr($,c),cr($,u)},onEnter:L(!1),onAppear:L(!0),onLeave($,P){$._isLeaving=!0;const ie=()=>B($,P);cr($,h),$._enterCancelled?(cr($,g),Au($)):(Au($),cr($,g)),xh(()=>{$._isLeaving&&(Kr($,h),cr($,_),bh(y)||_h($,r,m,ie))}),wo(y,[$,ie])},onEnterCancelled($){C($,!1,void 0,!0),wo(x,[$])},onAppearCancelled($){C($,!0,void 0,!0),wo(S,[$])},onLeaveCancelled($){B($),wo(E,[$])}})}function P2(t){if(t==null)return null;if(ts(t))return[Hc(t.enter),Hc(t.leave)];{const e=Hc(t);return[e,e]}}function Hc(t){return z1(t)}function cr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[gn]||(t[gn]=new Set)).add(e)}function Kr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const s=t[gn];s&&(s.delete(e),s.size||(t[gn]=void 0))}function xh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let O2=0;function _h(t,e,s,r){const o=t._endId=++O2,a=()=>{o===t._endId&&r()};if(s!=null)return setTimeout(a,s);const{type:l,timeout:n,propCount:c}=im(t,e);if(!l)return r();const u=l+"end";let d=0;const h=()=>{t.removeEventListener(u,g),a()},g=_=>{_.target===t&&++d>=c&&h()};setTimeout(()=>{d<c&&h()},n+1),t.addEventListener(u,g)}function im(t,e){const s=window.getComputedStyle(t),r=w=>(s[w]||"").split(", "),o=r(`${Wr}Delay`),a=r(`${Wr}Duration`),l=yh(o,a),n=r(`${Nn}Delay`),c=r(`${Nn}Duration`),u=yh(n,c);let d=null,h=0,g=0;e===Wr?l>0&&(d=Wr,h=l,g=a.length):e===Nn?u>0&&(d=Nn,h=u,g=c.length):(h=Math.max(l,u),d=h>0?l>u?Wr:Nn:null,g=d?d===Wr?a.length:c.length:0);const _=d===Wr&&/\b(?:transform|all)(?:,|$)/.test(r(`${Wr}Property`).toString());return{type:d,timeout:h,propCount:g,hasTransform:_}}function yh(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,r)=>wh(s)+wh(t[r])))}function wh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Au(t){return(t?t.ownerDocument:document).body.offsetHeight}function I2(t,e,s){const r=t[gn];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const kh=Symbol("_vod"),N2=Symbol("_vsh"),j2=Symbol(""),H2=/(?:^|;)\s*display\s*:/;function z2(t,e,s){const r=t.style,o=_s(s);let a=!1;if(s&&!o){if(e)if(_s(e))for(const l of e.split(";")){const n=l.slice(0,l.indexOf(":")).trim();s[n]==null&&_l(r,n,"")}else for(const l in e)s[l]==null&&_l(r,l,"");for(const l in s)l==="display"&&(a=!0),_l(r,l,s[l])}else if(o){if(e!==s){const l=r[j2];l&&(s+=";"+l),r.cssText=s,a=H2.test(s)}}else e&&t.removeAttribute("style");kh in t&&(t[kh]=a?r.display:"",t[N2]&&(r.display="none"))}const Sh=/\s*!important$/;function _l(t,e,s){if(pt(s))s.forEach(r=>_l(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=F2(t,e);Sh.test(s)?t.setProperty(co(r),s.replace(Sh,""),"important"):t[r]=s}}const Ch=["Webkit","Moz","ms"],zc={};function F2(t,e){const s=zc[e];if(s)return s;let r=zi(e);if(r!=="filter"&&r in t)return zc[e]=r;r=Zl(r);for(let o=0;o<Ch.length;o++){const a=Ch[o]+r;if(a in t)return zc[e]=a}return e}const Eh="http://www.w3.org/1999/xlink";function Ah(t,e,s,r,o,a=K1(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Eh,e.slice(6,e.length)):t.setAttributeNS(Eh,e,s):s==null||a&&!Xf(s)?t.removeAttribute(e):t.setAttribute(e,a?"":Zi(s)?String(s):s)}function Mh(t,e,s,r,o){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Qp(s):s);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const n=a==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(n!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let l=!1;if(s===""||s==null){const n=typeof t[e];n==="boolean"?s=Xf(s):s==null&&n==="string"?(s="",l=!0):n==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(o||e)}function Zr(t,e,s,r){t.addEventListener(e,s,r)}function U2(t,e,s,r){t.removeEventListener(e,s,r)}const Th=Symbol("_vei");function V2(t,e,s,r,o=null){const a=t[Th]||(t[Th]={}),l=a[e];if(r&&l)l.value=r;else{const[n,c]=W2(e);if(r){const u=a[e]=G2(r,o);Zr(t,n,u,c)}else l&&(U2(t,n,l,c),a[e]=void 0)}}const Dh=/(?:Once|Passive|Capture)$/;function W2(t){let e;if(Dh.test(t)){e={};let r;for(;r=t.match(Dh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):co(t.slice(2)),e]}let Fc=0;const q2=Promise.resolve(),K2=()=>Fc||(q2.then(()=>Fc=0),Fc=Date.now());function G2(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;er(X2(r,s.value),e,5,[r])};return s.value=t,s.attached=K2(),s}function X2(t,e){if(pt(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const Lh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Y2=(t,e,s,r,o,a)=>{const l=o==="svg";e==="class"?I2(t,r,l):e==="style"?z2(t,s,r):Yl(e)?Zu(e)||V2(t,e,s,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):J2(t,e,r,l))?(Mh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ah(t,e,r,l,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!_s(r))?Mh(t,zi(e),r,a,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ah(t,e,r,l))};function J2(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Lh(e)&&Et(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Lh(e)&&_s(s)?!1:e in t}const rm=new WeakMap,om=new WeakMap,Hl=Symbol("_moveCb"),$h=Symbol("_enterCb"),Z2=t=>(delete t.props.mode,t),Q2=Z2({name:"TransitionGroup",props:Cs({},tm,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=pd(),r=kp();let o,a;return Dp(()=>{if(!o.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!ib(o[0].el,s.vnode.el,l)){o=[];return}o.forEach(eb),o.forEach(tb);const n=o.filter(sb);Au(s.vnode.el),n.forEach(c=>{const u=c.el,d=u.style;cr(u,l),d.transform=d.webkitTransform=d.transitionDuration="";const h=u[Hl]=g=>{g&&g.target!==u||(!g||g.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",h),u[Hl]=null,Kr(u,l))};u.addEventListener("transitionend",h)}),o=[]}),()=>{const l=Vt(t),n=sm(l);let c=l.tag||Fe;if(o=[],a)for(let u=0;u<a.length;u++){const d=a[u];d.el&&d.el instanceof Element&&(o.push(d),Ho(d,va(d,n,r,s)),rm.set(d,{left:d.el.offsetLeft,top:d.el.offsetTop}))}a=e.default?ud(e.default()):[];for(let u=0;u<a.length;u++){const d=a[u];d.key!=null&&Ho(d,va(d,n,r,s))}return gt(c,null,a)}}}),Jo=Q2;function eb(t){const e=t.el;e[Hl]&&e[Hl](),e[$h]&&e[$h]()}function tb(t){om.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function sb(t){const e=rm.get(t),s=om.get(t),r=e.left-s.left,o=e.top-s.top;if(r||o){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${o}px)`,a.transitionDuration="0s",t}}function ib(t,e,s){const r=t.cloneNode(),o=t[gn];o&&o.forEach(n=>{n.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),s.split(/\s+/).forEach(n=>n&&r.classList.add(n)),r.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(r);const{hasTransform:l}=im(r);return a.removeChild(r),l}const vn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return pt(e)?s=>gl(e,s):e};function rb(t){t.target.composing=!0}function Rh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const $r=Symbol("_assign");function Bh(t,e,s){return e&&(t=t.trim()),s&&(t=Ql(t)),t}const je={created(t,{modifiers:{lazy:e,trim:s,number:r}},o){t[$r]=vn(o);const a=r||o.props&&o.props.type==="number";Zr(t,e?"change":"input",l=>{l.target.composing||t[$r](Bh(t.value,s,a))}),(s||a)&&Zr(t,"change",()=>{t.value=Bh(t.value,s,a)}),e||(Zr(t,"compositionstart",rb),Zr(t,"compositionend",Rh),Zr(t,"change",Rh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:o,number:a}},l){if(t[$r]=vn(l),t.composing)return;const n=(a||t.type==="number")&&!/^0\d/.test(t.value)?Ql(t.value):t.value,c=e??"";n!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||o&&t.value.trim()===c)||(t.value=c))}},on={deep:!0,created(t,e,s){t[$r]=vn(s),Zr(t,"change",()=>{const r=t._modelValue,o=ya(t),a=t.checked,l=t[$r];if(pt(r)){const n=td(r,o),c=n!==-1;if(a&&!c)l(r.concat(o));else if(!a&&c){const u=[...r];u.splice(n,1),l(u)}}else if(Cn(r)){const n=new Set(r);a?n.add(o):n.delete(o),l(n)}else l(nm(t,a))})},mounted:Ph,beforeUpdate(t,e,s){t[$r]=vn(s),Ph(t,e,s)}};function Ph(t,{value:e,oldValue:s},r){t._modelValue=e;let o;if(pt(e))o=td(e,r.props.value)>-1;else if(Cn(e))o=e.has(r.props.value);else{if(e===s)return;o=Da(e,nm(t,!0))}t.checked!==o&&(t.checked=o)}const Ni={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const o=Cn(e);Zr(t,"change",()=>{const a=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>s?Ql(ya(l)):ya(l));t[$r](t.multiple?o?new Set(a):a:a[0]),t._assigning=!0,Bs(()=>{t._assigning=!1})}),t[$r]=vn(r)},mounted(t,{value:e}){Oh(t,e)},beforeUpdate(t,e,s){t[$r]=vn(s)},updated(t,{value:e}){t._assigning||Oh(t,e)}};function Oh(t,e){const s=t.multiple,r=pt(e);if(!(s&&!r&&!Cn(e))){for(let o=0,a=t.options.length;o<a;o++){const l=t.options[o],n=ya(l);if(s)if(r){const c=typeof n;c==="string"||c==="number"?l.selected=e.some(u=>String(u)===String(n)):l.selected=td(e,n)>-1}else l.selected=e.has(n);else if(Da(ya(l),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ya(t){return"_value"in t?t._value:t.value}function nm(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const ob=["ctrl","shift","alt","meta"],nb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ob.some(s=>t[`${s}Key`]&&!e.includes(s))},ut=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(o,...a)=>{for(let l=0;l<e.length;l++){const n=nb[e[l]];if(n&&n(o,e))return}return t(o,...a)})},ab={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Er=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=o=>{if(!("key"in o))return;const a=co(o.key);if(e.some(l=>l===a||ab[l]===a))return t(o)})},lb=Cs({patchProp:Y2},R2);let Ih;function cb(){return Ih||(Ih=h2(lb))}const ub=(...t)=>{const e=cb().createApp(...t),{mount:s}=e;return e.mount=r=>{const o=hb(r);if(!o)return;const a=e._component;!Et(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=s(o,!1,db(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},e};function db(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function hb(t){return _s(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const rn=typeof document<"u";function am(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function fb(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&am(t.default)}const Zt=Object.assign;function Uc(t,e){const s={};for(const r in e){const o=e[r];s[r]=tr(o)?o.map(t):t(o)}return s}const ca=()=>{},tr=Array.isArray;function Nh(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}const lm=/#/g,pb=/&/g,mb=/\//g,gb=/=/g,vb=/\?/g,cm=/\+/g,bb=/%5B/g,xb=/%5D/g,um=/%5E/g,_b=/%60/g,dm=/%7B/g,yb=/%7C/g,hm=/%7D/g,wb=/%20/g;function gd(t){return t==null?"":encodeURI(""+t).replace(yb,"|").replace(bb,"[").replace(xb,"]")}function kb(t){return gd(t).replace(dm,"{").replace(hm,"}").replace(um,"^")}function Mu(t){return gd(t).replace(cm,"%2B").replace(wb,"+").replace(lm,"%23").replace(pb,"%26").replace(_b,"`").replace(dm,"{").replace(hm,"}").replace(um,"^")}function Sb(t){return Mu(t).replace(gb,"%3D")}function Cb(t){return gd(t).replace(lm,"%23").replace(vb,"%3F")}function Eb(t){return Cb(t).replace(mb,"%2F")}function wa(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Ab=/\/$/,Mb=t=>t.replace(Ab,"");function Vc(t,e,s="/"){let r,o={},a="",l="";const n=e.indexOf("#");let c=e.indexOf("?");return c=n>=0&&c>n?-1:c,c>=0&&(r=e.slice(0,c),a=e.slice(c,n>0?n:e.length),o=t(a.slice(1))),n>=0&&(r=r||e.slice(0,n),l=e.slice(n,e.length)),r=$b(r??e,s),{fullPath:r+a+l,path:r,query:o,hash:wa(l)}}function Tb(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function jh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Db(t,e,s){const r=e.matched.length-1,o=s.matched.length-1;return r>-1&&r===o&&bn(e.matched[r],s.matched[o])&&fm(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function bn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var s in t)if(!Lb(t[s],e[s]))return!1;return!0}function Lb(t,e){return tr(t)?Hh(t,e):tr(e)?Hh(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function Hh(t,e){return tr(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function $b(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let a=s.length-1,l,n;for(l=0;l<r.length;l++)if(n=r[l],n!==".")if(n==="..")a>1&&a--;else break;return s.slice(0,a).join("/")+"/"+r.slice(l).join("/")}const qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Tu=function(t){return t.pop="pop",t.push="push",t}({}),Wc=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function Rb(t){if(!t)if(rn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Mb(t)}const Bb=/^[^#]+#/;function Pb(t,e){return t.replace(Bb,"#")+e}function Ob(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const cc=()=>({left:window.scrollX,top:window.scrollY});function Ib(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;e=Ob(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zh(t,e){return(history.state?history.state.position-e:-1)+t}const Du=new Map;function Nb(t,e){Du.set(t,e)}function jb(t){const e=Du.get(t);return Du.delete(t),e}function Hb(t){return typeof t=="string"||t&&typeof t=="object"}function pm(t){return typeof t=="string"||typeof t=="symbol"}let gs=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const mm=Symbol("");gs.MATCHER_NOT_FOUND+"",gs.NAVIGATION_GUARD_REDIRECT+"",gs.NAVIGATION_ABORTED+"",gs.NAVIGATION_CANCELLED+"",gs.NAVIGATION_DUPLICATED+"";function xn(t,e){return Zt(new Error,{type:t,[mm]:!0},e)}function yr(t,e){return t instanceof Error&&mm in t&&(e==null||!!(t.type&e))}const zb=["params","query","hash"];function Fb(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of zb)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function Ub(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(cm," "),a=o.indexOf("="),l=wa(a<0?o:o.slice(0,a)),n=a<0?null:wa(o.slice(a+1));if(l in e){let c=e[l];tr(c)||(c=e[l]=[c]),c.push(n)}else e[l]=n}return e}function Fh(t){let e="";for(let s in t){const r=t[s];if(s=Sb(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(tr(r)?r.map(o=>o&&Mu(o)):[r&&Mu(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+s,o!=null&&(e+="="+o))})}return e}function Vb(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=tr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}const Wb=Symbol(""),Uh=Symbol(""),uc=Symbol(""),vd=Symbol(""),Lu=Symbol("");function jn(){let t=[];function e(r){return t.push(r),()=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Jr(t,e,s,r,o,a=l=>l()){const l=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((n,c)=>{const u=g=>{g===!1?c(xn(gs.NAVIGATION_ABORTED,{from:s,to:e})):g instanceof Error?c(g):Hb(g)?c(xn(gs.NAVIGATION_GUARD_REDIRECT,{from:e,to:g})):(l&&r.enterCallbacks[o]===l&&typeof g=="function"&&l.push(g),n())},d=a(()=>t.call(r&&r.instances[o],e,s,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(g=>c(g))})}function qc(t,e,s,r,o=a=>a()){const a=[];for(const l of t)for(const n in l.components){let c=l.components[n];if(!(e!=="beforeRouteEnter"&&!l.instances[n]))if(am(c)){const u=(c.__vccOpts||c)[e];u&&a.push(Jr(u,s,r,l,n,o))}else{let u=c();a.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${n}" at "${l.path}"`);const h=fb(d)?d.default:d;l.mods[n]=d,l.components[n]=h;const g=(h.__vccOpts||h)[e];return g&&Jr(g,s,r,l,n,o)()}))}}return a}function qb(t,e){const s=[],r=[],o=[],a=Math.max(e.matched.length,t.matched.length);for(let l=0;l<a;l++){const n=e.matched[l];n&&(t.matched.find(u=>bn(u,n))?r.push(n):s.push(n));const c=t.matched[l];c&&(e.matched.find(u=>bn(u,c))||o.push(c))}return[s,r,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Kb=()=>location.protocol+"//"+location.host;function gm(t,e){const{pathname:s,search:r,hash:o}=e,a=t.indexOf("#");if(a>-1){let l=o.includes(t.slice(a))?t.slice(a).length:1,n=o.slice(l);return n[0]!=="/"&&(n="/"+n),jh(n,"")}return jh(s,t)+r+o}function Gb(t,e,s,r){let o=[],a=[],l=null;const n=({state:g})=>{const _=gm(t,location),w=s.value,b=e.value;let m=0;if(g){if(s.value=_,e.value=g,l&&l===w){l=null;return}m=b?g.position-b.position:0}else r(_);o.forEach(v=>{v(s.value,w,{delta:m,type:Tu.pop,direction:m?m>0?Wc.forward:Wc.back:Wc.unknown})})};function c(){l=s.value}function u(g){o.push(g);const _=()=>{const w=o.indexOf(g);w>-1&&o.splice(w,1)};return a.push(_),_}function d(){if(document.visibilityState==="hidden"){const{history:g}=window;if(!g.state)return;g.replaceState(Zt({},g.state,{scroll:cc()}),"")}}function h(){for(const g of a)g();a=[],window.removeEventListener("popstate",n),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",n),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:c,listen:u,destroy:h}}function Vh(t,e,s,r=!1,o=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:o?cc():null}}function Xb(t){const{history:e,location:s}=window,r={value:gm(t,s)},o={value:e.state};o.value||a(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(c,u,d){const h=t.indexOf("#"),g=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+c:Kb()+t+c;try{e[d?"replaceState":"pushState"](u,"",g),o.value=u}catch(_){console.error(_),s[d?"replace":"assign"](g)}}function l(c,u){a(c,Zt({},e.state,Vh(o.value.back,c,o.value.forward,!0),u,{position:o.value.position}),!0),r.value=c}function n(c,u){const d=Zt({},o.value,e.state,{forward:c,scroll:cc()});a(d.current,d,!0),a(c,Zt({},Vh(r.value,c,null),{position:d.position+1},u),!1),r.value=c}return{location:r,state:o,push:n,replace:l}}function Yb(t){t=Rb(t);const e=Xb(t),s=Gb(t,e.state,e.location,e.replace);function r(a,l=!0){l||s.pauseListeners(),history.go(a)}const o=Zt({location:"",base:t,go:r,createHref:Pb.bind(null,t)},e,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}let Do=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var Es=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(Es||{});const Jb={type:Do.Static,value:""},Zb=/[a-zA-Z0-9_]/;function Qb(t){if(!t)return[[]];if(t==="/")return[[Jb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${s})/"${u}": ${_}`)}let s=Es.Static,r=s;const o=[];let a;function l(){a&&o.push(a),a=[]}let n=0,c,u="",d="";function h(){u&&(s===Es.Static?a.push({type:Do.Static,value:u}):s===Es.Param||s===Es.ParamRegExp||s===Es.ParamRegExpEnd?(a.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:Do.Param,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function g(){u+=c}for(;n<t.length;){if(c=t[n++],c==="\\"&&s!==Es.ParamRegExp){r=s,s=Es.EscapeNext;continue}switch(s){case Es.Static:c==="/"?(u&&h(),l()):c===":"?(h(),s=Es.Param):g();break;case Es.EscapeNext:g(),s=r;break;case Es.Param:c==="("?s=Es.ParamRegExp:Zb.test(c)?g():(h(),s=Es.Static,c!=="*"&&c!=="?"&&c!=="+"&&n--);break;case Es.ParamRegExp:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=Es.ParamRegExpEnd:d+=c;break;case Es.ParamRegExpEnd:h(),s=Es.Static,c!=="*"&&c!=="?"&&c!=="+"&&n--,d="";break;default:e("Unknown state");break}}return s===Es.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),h(),l(),o}const Wh="[^/]+?",ex={sensitive:!1,strict:!1,start:!0,end:!0};var ai=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(ai||{});const tx=/[.+*?^${}()[\]/\\]/g;function sx(t,e){const s=Zt({},ex,e),r=[];let o=s.start?"^":"";const a=[];for(const u of t){const d=u.length?[]:[ai.Root];s.strict&&!u.length&&(o+="/");for(let h=0;h<u.length;h++){const g=u[h];let _=ai.Segment+(s.sensitive?ai.BonusCaseSensitive:0);if(g.type===Do.Static)h||(o+="/"),o+=g.value.replace(tx,"\\$&"),_+=ai.Static;else if(g.type===Do.Param){const{value:w,repeatable:b,optional:m,regexp:v}=g;a.push({name:w,repeatable:b,optional:m});const p=v||Wh;if(p!==Wh){_+=ai.BonusCustomRegExp;try{`${p}`}catch(y){throw new Error(`Invalid custom RegExp for param "${w}" (${p}): `+y.message)}}let x=b?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;h||(x=m&&u.length<2?`(?:/${x})`:"/"+x),m&&(x+="?"),o+=x,_+=ai.Dynamic,m&&(_+=ai.BonusOptional),b&&(_+=ai.BonusRepeatable),p===".*"&&(_+=ai.BonusWildcard)}d.push(_)}r.push(d)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=ai.BonusStrict}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const l=new RegExp(o,s.sensitive?"":"i");function n(u){const d=u.match(l),h={};if(!d)return null;for(let g=1;g<d.length;g++){const _=d[g]||"",w=a[g-1];h[w.name]=_&&w.repeatable?_.split("/"):_}return h}function c(u){let d="",h=!1;for(const g of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const _ of g)if(_.type===Do.Static)d+=_.value;else if(_.type===Do.Param){const{value:w,repeatable:b,optional:m}=_,v=w in u?u[w]:"";if(tr(v)&&!b)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const p=tr(v)?v.join("/"):v;if(!p)if(m)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);d+=p}}return d||"/"}return{re:l,score:r,keys:a,parse:n,stringify:c}}function ix(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===ai.Static+ai.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===ai.Static+ai.Segment?1:-1:0}function vm(t,e){let s=0;const r=t.score,o=e.score;for(;s<r.length&&s<o.length;){const a=ix(r[s],o[s]);if(a)return a;s++}if(Math.abs(o.length-r.length)===1){if(qh(r))return 1;if(qh(o))return-1}return o.length-r.length}function qh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const rx={strict:!1,end:!0,sensitive:!1};function ox(t,e,s){const r=sx(Qb(t.path),s),o=Zt(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function nx(t,e){const s=[],r=new Map;e=Nh(rx,e);function o(h){return r.get(h)}function a(h,g,_){const w=!_,b=Gh(h);b.aliasOf=_&&_.record;const m=Nh(e,h),v=[b];if("alias"in h){const y=typeof h.alias=="string"?[h.alias]:h.alias;for(const E of y)v.push(Gh(Zt({},b,{components:_?_.record.components:b.components,path:E,aliasOf:_?_.record:b})))}let p,x;for(const y of v){const{path:E}=y;if(g&&E[0]!=="/"){const A=g.record.path,D=A[A.length-1]==="/"?"":"/";y.path=g.record.path+(E&&D+E)}if(p=ox(y,g,m),_?_.alias.push(p):(x=x||p,x!==p&&x.alias.push(p),w&&h.name&&!Xh(p)&&l(h.name)),bm(p)&&c(p),b.children){const A=b.children;for(let D=0;D<A.length;D++)a(A[D],p,_&&_.children[D])}_=_||p}return x?()=>{l(x)}:ca}function l(h){if(pm(h)){const g=r.get(h);g&&(r.delete(h),s.splice(s.indexOf(g),1),g.children.forEach(l),g.alias.forEach(l))}else{const g=s.indexOf(h);g>-1&&(s.splice(g,1),h.record.name&&r.delete(h.record.name),h.children.forEach(l),h.alias.forEach(l))}}function n(){return s}function c(h){const g=cx(h,s);s.splice(g,0,h),h.record.name&&!Xh(h)&&r.set(h.record.name,h)}function u(h,g){let _,w={},b,m;if("name"in h&&h.name){if(_=r.get(h.name),!_)throw xn(gs.MATCHER_NOT_FOUND,{location:h});m=_.record.name,w=Zt(Kh(g.params,_.keys.filter(x=>!x.optional).concat(_.parent?_.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),h.params&&Kh(h.params,_.keys.map(x=>x.name))),b=_.stringify(w)}else if(h.path!=null)b=h.path,_=s.find(x=>x.re.test(b)),_&&(w=_.parse(b),m=_.record.name);else{if(_=g.name?r.get(g.name):s.find(x=>x.re.test(g.path)),!_)throw xn(gs.MATCHER_NOT_FOUND,{location:h,currentLocation:g});m=_.record.name,w=Zt({},g.params,h.params),b=_.stringify(w)}const v=[];let p=_;for(;p;)v.unshift(p.record),p=p.parent;return{name:m,path:b,params:w,matched:v,meta:lx(v)}}t.forEach(h=>a(h));function d(){s.length=0,r.clear()}return{addRoute:a,resolve:u,removeRoute:l,clearRoutes:d,getRoutes:n,getRecordMatcher:o}}function Kh(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Gh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ax(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ax(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function Xh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lx(t){return t.reduce((e,s)=>Zt(e,s.meta),{})}function cx(t,e){let s=0,r=e.length;for(;s!==r;){const a=s+r>>1;vm(t,e[a])<0?r=a:s=a+1}const o=ux(t);return o&&(r=e.lastIndexOf(o,r-1)),r}function ux(t){let e=t;for(;e=e.parent;)if(bm(e)&&vm(t,e)===0)return e}function bm({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Yh(t){const e=Ji(uc),s=Ji(vd),r=Ht(()=>{const c=Dt(t.to);return e.resolve(c)}),o=Ht(()=>{const{matched:c}=r.value,{length:u}=c,d=c[u-1],h=s.matched;if(!d||!h.length)return-1;const g=h.findIndex(bn.bind(null,d));if(g>-1)return g;const _=Jh(c[u-2]);return u>1&&Jh(d)===_&&h[h.length-1].path!==_?h.findIndex(bn.bind(null,c[u-2])):g}),a=Ht(()=>o.value>-1&&mx(s.params,r.value.params)),l=Ht(()=>o.value>-1&&o.value===s.matched.length-1&&fm(s.params,r.value.params));function n(c={}){if(px(c)){const u=e[Dt(t.replace)?"replace":"push"](Dt(t.to)).catch(ca);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Ht(()=>r.value.href),isActive:a,isExactActive:l,navigate:n}}function dx(t){return t.length===1?t[0]:t}const hx=Ai({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Yh,setup(t,{slots:e}){const s=sc(Yh(t)),{options:r}=Ji(uc),o=Ht(()=>({[Zh(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Zh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const a=e.default&&dx(e.default(s));return t.custom?a:md("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},a)}}}),fx=hx;function px(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function mx(t,e){for(const s in e){const r=e[s],o=t[s];if(typeof r=="string"){if(r!==o)return!1}else if(!tr(o)||o.length!==r.length||r.some((a,l)=>a.valueOf()!==o[l].valueOf()))return!1}return!0}function Jh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Zh=(t,e,s)=>t??e??s,gx=Ai({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=Ji(Lu),o=Ht(()=>t.route||r.value),a=Ji(Uh,0),l=Ht(()=>{let u=Dt(a);const{matched:d}=o.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),n=Ht(()=>o.value.matched[l.value]);vl(Uh,Ht(()=>l.value+1)),vl(Wb,n),vl(Lu,o);const c=V();return oa(()=>[c.value,n.value,t.name],([u,d,h],[g,_,w])=>{d&&(d.instances[h]=u,_&&_!==d&&u&&u===g&&(d.leaveGuards.size||(d.leaveGuards=_.leaveGuards),d.updateGuards.size||(d.updateGuards=_.updateGuards))),u&&d&&(!_||!bn(d,_)||!g)&&(d.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=o.value,d=t.name,h=n.value,g=h&&h.components[d];if(!g)return Qh(s.default,{Component:g,route:u});const _=h.props[d],w=_?_===!0?u.params:typeof _=="function"?_(u):_:null,m=md(g,Zt({},w,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[d]=null)},ref:c}));return Qh(s.default,{Component:m,route:u})||m}}});function Qh(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const vx=gx;function bx(t){const e=nx(t.routes,t),s=t.parseQuery||Ub,r=t.stringifyQuery||Fh,o=t.history,a=jn(),l=jn(),n=jn(),c=gv(qr);let u=qr;rn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Uc.bind(null,W=>""+W),h=Uc.bind(null,Eb),g=Uc.bind(null,wa);function _(W,O){let q,X;return pm(W)?(q=e.getRecordMatcher(W),X=O):X=W,e.addRoute(X,q)}function w(W){const O=e.getRecordMatcher(W);O&&e.removeRoute(O)}function b(){return e.getRoutes().map(W=>W.record)}function m(W){return!!e.getRecordMatcher(W)}function v(W,O){if(O=Zt({},O||c.value),typeof W=="string"){const ne=Vc(s,W,O.path),fe=e.resolve({path:ne.path},O),xe=o.createHref(ne.fullPath);return Zt(ne,fe,{params:g(fe.params),hash:wa(ne.hash),redirectedFrom:void 0,href:xe})}let q;if(W.path!=null)q=Zt({},W,{path:Vc(s,W.path,O.path).path});else{const ne=Zt({},W.params);for(const fe in ne)ne[fe]==null&&delete ne[fe];q=Zt({},W,{params:h(ne)}),O.params=h(O.params)}const X=e.resolve(q,O),ge=W.hash||"";X.params=d(g(X.params));const z=Tb(r,Zt({},W,{hash:kb(ge),path:X.path})),J=o.createHref(z);return Zt({fullPath:z,hash:ge,query:r===Fh?Vb(W.query):W.query||{}},X,{redirectedFrom:void 0,href:J})}function p(W){return typeof W=="string"?Vc(s,W,c.value.path):Zt({},W)}function x(W,O){if(u!==W)return xn(gs.NAVIGATION_CANCELLED,{from:O,to:W})}function y(W){return D(W)}function E(W){return y(Zt(p(W),{replace:!0}))}function A(W,O){const q=W.matched[W.matched.length-1];if(q&&q.redirect){const{redirect:X}=q;let ge=typeof X=="function"?X(W,O):X;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=p(ge):{path:ge},ge.params={}),Zt({query:W.query,hash:W.hash,params:ge.path!=null?{}:W.params},ge)}}function D(W,O){const q=u=v(W),X=c.value,ge=W.state,z=W.force,J=W.replace===!0,ne=A(q,X);if(ne)return D(Zt(p(ne),{state:typeof ne=="object"?Zt({},ge,ne.state):ge,force:z,replace:J}),O||q);const fe=q;fe.redirectedFrom=O;let xe;return!z&&Db(r,X,q)&&(xe=xn(gs.NAVIGATION_DUPLICATED,{to:fe,from:X}),G(X,X,!0,!1)),(xe?Promise.resolve(xe):B(fe,X)).catch(ae=>yr(ae)?yr(ae,gs.NAVIGATION_GUARD_REDIRECT)?ae:K(ae):se(ae,fe,X)).then(ae=>{if(ae){if(yr(ae,gs.NAVIGATION_GUARD_REDIRECT))return D(Zt({replace:J},p(ae.to),{state:typeof ae.to=="object"?Zt({},ge,ae.to.state):ge,force:z}),O||fe)}else ae=$(fe,X,!0,J,ge);return L(fe,X,ae),ae})}function S(W,O){const q=x(W,O);return q?Promise.reject(q):Promise.resolve()}function C(W){const O=Ae.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(W):W()}function B(W,O){let q;const[X,ge,z]=qb(W,O);q=qc(X.reverse(),"beforeRouteLeave",W,O);for(const ne of X)ne.leaveGuards.forEach(fe=>{q.push(Jr(fe,W,O))});const J=S.bind(null,W,O);return q.push(J),ye(q).then(()=>{q=[];for(const ne of a.list())q.push(Jr(ne,W,O));return q.push(J),ye(q)}).then(()=>{q=qc(ge,"beforeRouteUpdate",W,O);for(const ne of ge)ne.updateGuards.forEach(fe=>{q.push(Jr(fe,W,O))});return q.push(J),ye(q)}).then(()=>{q=[];for(const ne of z)if(ne.beforeEnter)if(tr(ne.beforeEnter))for(const fe of ne.beforeEnter)q.push(Jr(fe,W,O));else q.push(Jr(ne.beforeEnter,W,O));return q.push(J),ye(q)}).then(()=>(W.matched.forEach(ne=>ne.enterCallbacks={}),q=qc(z,"beforeRouteEnter",W,O,C),q.push(J),ye(q))).then(()=>{q=[];for(const ne of l.list())q.push(Jr(ne,W,O));return q.push(J),ye(q)}).catch(ne=>yr(ne,gs.NAVIGATION_CANCELLED)?ne:Promise.reject(ne))}function L(W,O,q){n.list().forEach(X=>C(()=>X(W,O,q)))}function $(W,O,q,X,ge){const z=x(W,O);if(z)return z;const J=O===qr,ne=rn?history.state:{};q&&(X||J?o.replace(W.fullPath,Zt({scroll:J&&ne&&ne.scroll},ge)):o.push(W.fullPath,ge)),c.value=W,G(W,O,q,J),K()}let P;function ie(){P||(P=o.listen((W,O,q)=>{if(!Me.listening)return;const X=v(W),ge=A(X,Me.currentRoute.value);if(ge){D(Zt(ge,{replace:!0,force:!0}),X).catch(ca);return}u=X;const z=c.value;rn&&Nb(zh(z.fullPath,q.delta),cc()),B(X,z).catch(J=>yr(J,gs.NAVIGATION_ABORTED|gs.NAVIGATION_CANCELLED)?J:yr(J,gs.NAVIGATION_GUARD_REDIRECT)?(D(Zt(p(J.to),{force:!0}),X).then(ne=>{yr(ne,gs.NAVIGATION_ABORTED|gs.NAVIGATION_DUPLICATED)&&!q.delta&&q.type===Tu.pop&&o.go(-1,!1)}).catch(ca),Promise.reject()):(q.delta&&o.go(-q.delta,!1),se(J,X,z))).then(J=>{J=J||$(X,z,!1),J&&(q.delta&&!yr(J,gs.NAVIGATION_CANCELLED)?o.go(-q.delta,!1):q.type===Tu.pop&&yr(J,gs.NAVIGATION_ABORTED|gs.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),L(X,z,J)}).catch(ca)}))}let re=jn(),I=jn(),ue;function se(W,O,q){K(W);const X=I.list();return X.length?X.forEach(ge=>ge(W,O,q)):console.error(W),Promise.reject(W)}function R(){return ue&&c.value!==qr?Promise.resolve():new Promise((W,O)=>{re.add([W,O])})}function K(W){return ue||(ue=!W,ie(),re.list().forEach(([O,q])=>W?q(W):O()),re.reset()),W}function G(W,O,q,X){const{scrollBehavior:ge}=t;if(!rn||!ge)return Promise.resolve();const z=!q&&jb(zh(W.fullPath,0))||(X||!q)&&history.state&&history.state.scroll||null;return Bs().then(()=>ge(W,O,z)).then(J=>J&&Ib(J)).catch(J=>se(J,W,O))}const U=W=>o.go(W);let pe;const Ae=new Set,Me={currentRoute:c,listening:!0,addRoute:_,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:b,resolve:v,options:t,push:y,replace:E,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:a.add,beforeResolve:l.add,afterEach:n.add,onError:I.add,isReady:R,install(W){W.component("RouterLink",fx),W.component("RouterView",vx),W.config.globalProperties.$router=Me,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Dt(c)}),rn&&!pe&&c.value===qr&&(pe=!0,y(o.location).catch(X=>{}));const O={};for(const X in qr)Object.defineProperty(O,X,{get:()=>c.value[X],enumerable:!0});W.provide(uc,Me),W.provide(vd,hp(O)),W.provide(Lu,c);const q=W.unmount;Ae.add(W),W.unmount=function(){Ae.delete(W),Ae.size<1&&(u=qr,P&&P(),P=null,c.value=qr,pe=!1,ue=!1),q()}}};function ye(W){return W.reduce((O,q)=>O.then(()=>C(q)),Promise.resolve())}return Me}function dc(){return Ji(uc)}function xx(t){return Ji(vd)}const Vi=(t,e)=>{const s=t.__vccOpts||t;for(const[r,o]of e)s[r]=o;return s},_x={},yx={class:"min-h-screen bg-gray-50"};function wx(t,e){const s=uo("router-view");return M(),T("div",yx,[gt(s)])}const kx=Vi(_x,[["render",wx]]),ao=""+new URL("favicon-B2poNsXw.ico",import.meta.url).href;function xm(t,e){return function(){return t.apply(e,arguments)}}const{toString:Sx}=Object.prototype,{getPrototypeOf:bd}=Object,{iterator:hc,toStringTag:_m}=Symbol,fc=(t=>e=>{const s=Sx.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),sr=t=>(t=t.toLowerCase(),e=>fc(e)===t),pc=t=>e=>typeof e===t,{isArray:En}=Array,_n=pc("undefined");function Ra(t){return t!==null&&!_n(t)&&t.constructor!==null&&!_n(t.constructor)&&_i(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ym=sr("ArrayBuffer");function Cx(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ym(t.buffer),e}const Ex=pc("string"),_i=pc("function"),wm=pc("number"),Ba=t=>t!==null&&typeof t=="object",Ax=t=>t===!0||t===!1,yl=t=>{if(fc(t)!=="object")return!1;const e=bd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_m in t)&&!(hc in t)},Mx=t=>{if(!Ba(t)||Ra(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Tx=sr("Date"),Dx=sr("File"),Lx=sr("Blob"),$x=sr("FileList"),Rx=t=>Ba(t)&&_i(t.pipe),Bx=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_i(t.append)&&((e=fc(t))==="formdata"||e==="object"&&_i(t.toString)&&t.toString()==="[object FormData]"))},Px=sr("URLSearchParams"),[Ox,Ix,Nx,jx]=["ReadableStream","Request","Response","Headers"].map(sr),Hx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pa(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),En(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(Ra(t))return;const a=s?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let n;for(r=0;r<l;r++)n=a[r],e.call(null,t[n],n,t)}}function km(t,e){if(Ra(t))return null;e=e.toLowerCase();const s=Object.keys(t);let r=s.length,o;for(;r-- >0;)if(o=s[r],e===o.toLowerCase())return o;return null}const Lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sm=t=>!_n(t)&&t!==Lo;function $u(){const{caseless:t,skipUndefined:e}=Sm(this)&&this||{},s={},r=(o,a)=>{const l=t&&km(s,a)||a;yl(s[l])&&yl(o)?s[l]=$u(s[l],o):yl(o)?s[l]=$u({},o):En(o)?s[l]=o.slice():(!e||!_n(o))&&(s[l]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Pa(arguments[o],r);return s}const zx=(t,e,s,{allOwnKeys:r}={})=>(Pa(e,(o,a)=>{s&&_i(o)?Object.defineProperty(t,a,{value:xm(o,s),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,a,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),Fx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ux=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Vx=(t,e,s,r)=>{let o,a,l;const n={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)l=o[a],(!r||r(l,t,e))&&!n[l]&&(e[l]=t[l],n[l]=!0);t=s!==!1&&bd(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Wx=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},qx=t=>{if(!t)return null;if(En(t))return t;let e=t.length;if(!wm(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Kx=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bd(Uint8Array)),Gx=(t,e)=>{const r=(t&&t[hc]).call(t);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},Xx=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},Yx=sr("HTMLFormElement"),Jx=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),e0=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Zx=sr("RegExp"),Cm=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};Pa(s,(o,a)=>{let l;(l=e(o,a,t))!==!1&&(r[a]=l||o)}),Object.defineProperties(t,r)},Qx=t=>{Cm(t,(e,s)=>{if(_i(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(_i(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},e_=(t,e)=>{const s={},r=o=>{o.forEach(a=>{s[a]=!0})};return En(t)?r(t):r(String(t).split(e)),s},t_=()=>{},s_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function i_(t){return!!(t&&_i(t.append)&&t[_m]==="FormData"&&t[hc])}const r_=t=>{const e=new Array(10),s=(r,o)=>{if(Ba(r)){if(e.indexOf(r)>=0)return;if(Ra(r))return r;if(!("toJSON"in r)){e[o]=r;const a=En(r)?[]:{};return Pa(r,(l,n)=>{const c=s(l,o+1);!_n(c)&&(a[n]=c)}),e[o]=void 0,a}}return r};return s(t,0)},o_=sr("AsyncFunction"),n_=t=>t&&(Ba(t)||_i(t))&&_i(t.then)&&_i(t.catch),Em=((t,e)=>t?setImmediate:e?((s,r)=>(Lo.addEventListener("message",({source:o,data:a})=>{o===Lo&&a===s&&r.length&&r.shift()()},!1),o=>{r.push(o),Lo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",_i(Lo.postMessage)),a_=typeof queueMicrotask<"u"?queueMicrotask.bind(Lo):typeof process<"u"&&process.nextTick||Em,l_=t=>t!=null&&_i(t[hc]),ke={isArray:En,isArrayBuffer:ym,isBuffer:Ra,isFormData:Bx,isArrayBufferView:Cx,isString:Ex,isNumber:wm,isBoolean:Ax,isObject:Ba,isPlainObject:yl,isEmptyObject:Mx,isReadableStream:Ox,isRequest:Ix,isResponse:Nx,isHeaders:jx,isUndefined:_n,isDate:Tx,isFile:Dx,isBlob:Lx,isRegExp:Zx,isFunction:_i,isStream:Rx,isURLSearchParams:Px,isTypedArray:Kx,isFileList:$x,forEach:Pa,merge:$u,extend:zx,trim:Hx,stripBOM:Fx,inherits:Ux,toFlatObject:Vx,kindOf:fc,kindOfTest:sr,endsWith:Wx,toArray:qx,forEachEntry:Gx,matchAll:Xx,isHTMLForm:Yx,hasOwnProperty:e0,hasOwnProp:e0,reduceDescriptors:Cm,freezeMethods:Qx,toObjectSet:e_,toCamelCase:Jx,noop:t_,toFiniteNumber:s_,findKey:km,global:Lo,isContextDefined:Sm,isSpecCompliantForm:i_,toJSONObject:r_,isAsyncFn:o_,isThenable:n_,setImmediate:Em,asap:a_,isIterable:l_};let xt=class Am extends Error{static from(e,s,r,o,a,l){const n=new Am(e.message,s||e.code,r,o,a);return n.cause=e,n.name=e.name,l&&Object.assign(n,l),n}constructor(e,s,r,o,a){super(e),this.name="AxiosError",this.isAxiosError=!0,s&&(this.code=s),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}};xt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";xt.ERR_BAD_OPTION="ERR_BAD_OPTION";xt.ECONNABORTED="ECONNABORTED";xt.ETIMEDOUT="ETIMEDOUT";xt.ERR_NETWORK="ERR_NETWORK";xt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";xt.ERR_DEPRECATED="ERR_DEPRECATED";xt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";xt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";xt.ERR_CANCELED="ERR_CANCELED";xt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";xt.ERR_INVALID_URL="ERR_INVALID_URL";const c_=null;function Ru(t){return ke.isPlainObject(t)||ke.isArray(t)}function Mm(t){return ke.endsWith(t,"[]")?t.slice(0,-2):t}function t0(t,e,s){return t?t.concat(e).map(function(o,a){return o=Mm(o),!s&&a?"["+o+"]":o}).join(s?".":""):e}function u_(t){return ke.isArray(t)&&!t.some(Ru)}const d_=ke.toFlatObject(ke,{},null,function(e){return/^is[A-Z]/.test(e)});function mc(t,e,s){if(!ke.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=ke.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,m){return!ke.isUndefined(m[b])});const r=s.metaTokens,o=s.visitor||d,a=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(e);if(!ke.isFunction(o))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(ke.isDate(w))return w.toISOString();if(ke.isBoolean(w))return w.toString();if(!c&&ke.isBlob(w))throw new xt("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(w)||ke.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,b,m){let v=w;if(w&&!m&&typeof w=="object"){if(ke.endsWith(b,"{}"))b=r?b:b.slice(0,-2),w=JSON.stringify(w);else if(ke.isArray(w)&&u_(w)||(ke.isFileList(w)||ke.endsWith(b,"[]"))&&(v=ke.toArray(w)))return b=Mm(b),v.forEach(function(x,y){!(ke.isUndefined(x)||x===null)&&e.append(l===!0?t0([b],y,a):l===null?b:b+"[]",u(x))}),!1}return Ru(w)?!0:(e.append(t0(m,b,a),u(w)),!1)}const h=[],g=Object.assign(d_,{defaultVisitor:d,convertValue:u,isVisitable:Ru});function _(w,b){if(!ke.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(w),ke.forEach(w,function(v,p){(!(ke.isUndefined(v)||v===null)&&o.call(e,v,ke.isString(p)?p.trim():p,b,g))===!0&&_(v,b?b.concat(p):[p])}),h.pop()}}if(!ke.isObject(t))throw new TypeError("data must be an object");return _(t),e}function s0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function xd(t,e){this._pairs=[],t&&mc(t,this,e)}const Tm=xd.prototype;Tm.append=function(e,s){this._pairs.push([e,s])};Tm.toString=function(e){const s=e?function(r){return e.call(this,r,s0)}:s0;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function h_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dm(t,e,s){if(!e)return t;const r=s&&s.encode||h_,o=ke.isFunction(s)?{serialize:s}:s,a=o&&o.serialize;let l;if(a?l=a(e,o):l=ke.isURLSearchParams(e)?e.toString():new xd(e,o).toString(r),l){const n=t.indexOf("#");n!==-1&&(t=t.slice(0,n)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class i0{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ke.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Lm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f_=typeof URLSearchParams<"u"?URLSearchParams:xd,p_=typeof FormData<"u"?FormData:null,m_=typeof Blob<"u"?Blob:null,g_={isBrowser:!0,classes:{URLSearchParams:f_,FormData:p_,Blob:m_},protocols:["http","https","file","blob","url","data"]},_d=typeof window<"u"&&typeof document<"u",Bu=typeof navigator=="object"&&navigator||void 0,v_=_d&&(!Bu||["ReactNative","NativeScript","NS"].indexOf(Bu.product)<0),b_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",x_=_d&&window.location.href||"http://localhost",__=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_d,hasStandardBrowserEnv:v_,hasStandardBrowserWebWorkerEnv:b_,navigator:Bu,origin:x_},Symbol.toStringTag,{value:"Module"})),Ks={...__,...g_};function y_(t,e){return mc(t,new Ks.classes.URLSearchParams,{visitor:function(s,r,o,a){return Ks.isNode&&ke.isBuffer(s)?(this.append(r,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function w_(t){return ke.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k_(t){const e={},s=Object.keys(t);let r;const o=s.length;let a;for(r=0;r<o;r++)a=s[r],e[a]=t[a];return e}function $m(t){function e(s,r,o,a){let l=s[a++];if(l==="__proto__")return!0;const n=Number.isFinite(+l),c=a>=s.length;return l=!l&&ke.isArray(o)?o.length:l,c?(ke.hasOwnProp(o,l)?o[l]=[o[l],r]:o[l]=r,!n):((!o[l]||!ke.isObject(o[l]))&&(o[l]=[]),e(s,r,o[l],a)&&ke.isArray(o[l])&&(o[l]=k_(o[l])),!n)}if(ke.isFormData(t)&&ke.isFunction(t.entries)){const s={};return ke.forEachEntry(t,(r,o)=>{e(w_(r),o,s,0)}),s}return null}function S_(t,e,s){if(ke.isString(t))try{return(e||JSON.parse)(t),ke.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const Oa={transitional:Lm,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,a=ke.isObject(e);if(a&&ke.isHTMLForm(e)&&(e=new FormData(e)),ke.isFormData(e))return o?JSON.stringify($m(e)):e;if(ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e)||ke.isReadableStream(e))return e;if(ke.isArrayBufferView(e))return e.buffer;if(ke.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return y_(e,this.formSerializer).toString();if((n=ke.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mc(n?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||o?(s.setContentType("application/json",!1),S_(e)):e}],transformResponse:[function(e){const s=this.transitional||Oa.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(ke.isResponse(e)||ke.isReadableStream(e))return e;if(e&&ke.isString(e)&&(r&&!this.responseType||o)){const l=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(n){if(l)throw n.name==="SyntaxError"?xt.from(n,xt.ERR_BAD_RESPONSE,this,null,this.response):n}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],t=>{Oa.headers[t]={}});const C_=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E_=t=>{const e={};let s,r,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),s=l.substring(0,o).trim().toLowerCase(),r=l.substring(o+1).trim(),!(!s||e[s]&&C_[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},r0=Symbol("internals");function Hn(t){return t&&String(t).trim().toLowerCase()}function wl(t){return t===!1||t==null?t:ke.isArray(t)?t.map(wl):String(t)}function A_(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const M_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Kc(t,e,s,r,o){if(ke.isFunction(r))return r.call(this,e,s);if(o&&(e=s),!!ke.isString(e)){if(ke.isString(r))return e.indexOf(r)!==-1;if(ke.isRegExp(r))return r.test(e)}}function T_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function D_(t,e){const s=ke.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(o,a,l){return this[r].call(this,e,o,a,l)},configurable:!0})})}let yi=class{constructor(e){e&&this.set(e)}set(e,s,r){const o=this;function a(n,c,u){const d=Hn(c);if(!d)throw new Error("header name must be a non-empty string");const h=ke.findKey(o,d);(!h||o[h]===void 0||u===!0||u===void 0&&o[h]!==!1)&&(o[h||c]=wl(n))}const l=(n,c)=>ke.forEach(n,(u,d)=>a(u,d,c));if(ke.isPlainObject(e)||e instanceof this.constructor)l(e,s);else if(ke.isString(e)&&(e=e.trim())&&!M_(e))l(E_(e),s);else if(ke.isObject(e)&&ke.isIterable(e)){let n={},c,u;for(const d of e){if(!ke.isArray(d))throw TypeError("Object iterator must return a key-value pair");n[u=d[0]]=(c=n[u])?ke.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(n,s)}else e!=null&&a(s,e,r);return this}get(e,s){if(e=Hn(e),e){const r=ke.findKey(this,e);if(r){const o=this[r];if(!s)return o;if(s===!0)return A_(o);if(ke.isFunction(s))return s.call(this,o,r);if(ke.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Hn(e),e){const r=ke.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||Kc(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let o=!1;function a(l){if(l=Hn(l),l){const n=ke.findKey(r,l);n&&(!s||Kc(r,r[n],n,s))&&(delete r[n],o=!0)}}return ke.isArray(e)?e.forEach(a):a(e),o}clear(e){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const a=s[r];(!e||Kc(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const s=this,r={};return ke.forEach(this,(o,a)=>{const l=ke.findKey(r,a);if(l){s[l]=wl(o),delete s[a];return}const n=e?T_(a):String(a).trim();n!==a&&delete s[a],s[n]=wl(o),r[n]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return ke.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=e&&ke.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[r0]=this[r0]={accessors:{}}).accessors,o=this.prototype;function a(l){const n=Hn(l);r[n]||(D_(o,l),r[n]=!0)}return ke.isArray(e)?e.forEach(a):a(e),this}};yi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ke.reduceDescriptors(yi.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});ke.freezeMethods(yi);function Gc(t,e){const s=this||Oa,r=e||s,o=yi.from(r.headers);let a=r.data;return ke.forEach(t,function(n){a=n.call(s,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function Rm(t){return!!(t&&t.__CANCEL__)}let Ia=class extends xt{constructor(e,s,r){super(e??"canceled",xt.ERR_CANCELED,s,r),this.name="CanceledError",this.__CANCEL__=!0}};function Bm(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new xt("Request failed with status code "+s.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function L_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $_(t,e){t=t||10;const s=new Array(t),r=new Array(t);let o=0,a=0,l;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[a];l||(l=u),s[o]=c,r[o]=u;let h=a,g=0;for(;h!==o;)g+=s[h++],h=h%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),u-l<e)return;const _=d&&u-d;return _?Math.round(g*1e3/_):void 0}}function R_(t,e){let s=0,r=1e3/e,o,a;const l=(u,d=Date.now())=>{s=d,o=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-s;h>=r?l(u,d):(o=u,a||(a=setTimeout(()=>{a=null,l(o)},r-h)))},()=>o&&l(o)]}const zl=(t,e,s=3)=>{let r=0;const o=$_(50,250);return R_(a=>{const l=a.loaded,n=a.lengthComputable?a.total:void 0,c=l-r,u=o(c),d=l<=n;r=l;const h={loaded:l,total:n,progress:n?l/n:void 0,bytes:c,rate:u||void 0,estimated:u&&n&&d?(n-l)/u:void 0,event:a,lengthComputable:n!=null,[e?"download":"upload"]:!0};t(h)},s)},o0=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},n0=t=>(...e)=>ke.asap(()=>t(...e)),B_=Ks.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Ks.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Ks.origin),Ks.navigator&&/(msie|trident)/i.test(Ks.navigator.userAgent)):()=>!0,P_=Ks.hasStandardBrowserEnv?{write(t,e,s,r,o,a,l){if(typeof document>"u")return;const n=[`${t}=${encodeURIComponent(e)}`];ke.isNumber(s)&&n.push(`expires=${new Date(s).toUTCString()}`),ke.isString(r)&&n.push(`path=${r}`),ke.isString(o)&&n.push(`domain=${o}`),a===!0&&n.push("secure"),ke.isString(l)&&n.push(`SameSite=${l}`),document.cookie=n.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function O_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function I_(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Pm(t,e,s){let r=!O_(e);return t&&(r||s==!1)?I_(t,e):e}const a0=t=>t instanceof yi?{...t}:t;function Fo(t,e){e=e||{};const s={};function r(u,d,h,g){return ke.isPlainObject(u)&&ke.isPlainObject(d)?ke.merge.call({caseless:g},u,d):ke.isPlainObject(d)?ke.merge({},d):ke.isArray(d)?d.slice():d}function o(u,d,h,g){if(ke.isUndefined(d)){if(!ke.isUndefined(u))return r(void 0,u,h,g)}else return r(u,d,h,g)}function a(u,d){if(!ke.isUndefined(d))return r(void 0,d)}function l(u,d){if(ke.isUndefined(d)){if(!ke.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function n(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:n,headers:(u,d,h)=>o(a0(u),a0(d),h,!0)};return ke.forEach(Object.keys({...t,...e}),function(d){const h=c[d]||o,g=h(t[d],e[d],d);ke.isUndefined(g)&&h!==n||(s[d]=g)}),s}const Om=t=>{const e=Fo({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:l,auth:n}=e;if(e.headers=l=yi.from(l),e.url=Dm(Pm(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),n&&l.set("Authorization","Basic "+btoa((n.username||"")+":"+(n.password?unescape(encodeURIComponent(n.password)):""))),ke.isFormData(s)){if(Ks.hasStandardBrowserEnv||Ks.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ke.isFunction(s.getHeaders)){const c=s.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&l.set(d,h)})}}if(Ks.hasStandardBrowserEnv&&(r&&ke.isFunction(r)&&(r=r(e)),r||r!==!1&&B_(e.url))){const c=o&&a&&P_.read(a);c&&l.set(o,c)}return e},N_=typeof XMLHttpRequest<"u",j_=N_&&function(t){return new Promise(function(s,r){const o=Om(t);let a=o.data;const l=yi.from(o.headers).normalize();let{responseType:n,onUploadProgress:c,onDownloadProgress:u}=o,d,h,g,_,w;function b(){_&&_(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let m=new XMLHttpRequest;m.open(o.method.toUpperCase(),o.url,!0),m.timeout=o.timeout;function v(){if(!m)return;const x=yi.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),E={data:!n||n==="text"||n==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:x,config:t,request:m};Bm(function(D){s(D),b()},function(D){r(D),b()},E),m=null}"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(r(new xt("Request aborted",xt.ECONNABORTED,t,m)),m=null)},m.onerror=function(y){const E=y&&y.message?y.message:"Network Error",A=new xt(E,xt.ERR_NETWORK,t,m);A.event=y||null,r(A),m=null},m.ontimeout=function(){let y=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const E=o.transitional||Lm;o.timeoutErrorMessage&&(y=o.timeoutErrorMessage),r(new xt(y,E.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,t,m)),m=null},a===void 0&&l.setContentType(null),"setRequestHeader"in m&&ke.forEach(l.toJSON(),function(y,E){m.setRequestHeader(E,y)}),ke.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),n&&n!=="json"&&(m.responseType=o.responseType),u&&([g,w]=zl(u,!0),m.addEventListener("progress",g)),c&&m.upload&&([h,_]=zl(c),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",_)),(o.cancelToken||o.signal)&&(d=x=>{m&&(r(!x||x.type?new Ia(null,t,m):x),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const p=L_(o.url);if(p&&Ks.protocols.indexOf(p)===-1){r(new xt("Unsupported protocol "+p+":",xt.ERR_BAD_REQUEST,t));return}m.send(a||null)})},H_=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,o;const a=function(u){if(!o){o=!0,n();const d=u instanceof Error?u:this.reason;r.abort(d instanceof xt?d:new Ia(d instanceof Error?d.message:d))}};let l=e&&setTimeout(()=>{l=null,a(new xt(`timeout of ${e}ms exceeded`,xt.ETIMEDOUT))},e);const n=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>ke.asap(n),c}},z_=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,o;for(;r<s;)o=r+e,yield t.slice(r,o),r=o},F_=async function*(t,e){for await(const s of U_(t))yield*z_(s,e)},U_=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},l0=(t,e,s,r)=>{const o=F_(t,e);let a=0,l,n=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await o.next();if(u){n(),c.close();return}let h=d.byteLength;if(s){let g=a+=h;s(g)}c.enqueue(new Uint8Array(d))}catch(u){throw n(u),u}},cancel(c){return n(c),o.return()}},{highWaterMark:2})},c0=64*1024,{isFunction:Qa}=ke,V_=(({Request:t,Response:e})=>({Request:t,Response:e}))(ke.global),{ReadableStream:u0,TextEncoder:d0}=ke.global,h0=(t,...e)=>{try{return!!t(...e)}catch{return!1}},W_=t=>{t=ke.merge.call({skipUndefined:!0},V_,t);const{fetch:e,Request:s,Response:r}=t,o=e?Qa(e):typeof fetch=="function",a=Qa(s),l=Qa(r);if(!o)return!1;const n=o&&Qa(u0),c=o&&(typeof d0=="function"?(w=>b=>w.encode(b))(new d0):async w=>new Uint8Array(await new s(w).arrayBuffer())),u=a&&n&&h0(()=>{let w=!1;const b=new s(Ks.origin,{body:new u0,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!b}),d=l&&n&&h0(()=>ke.isReadableStream(new r("").body)),h={stream:d&&(w=>w.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!h[w]&&(h[w]=(b,m)=>{let v=b&&b[w];if(v)return v.call(b);throw new xt(`Response type '${w}' is not supported`,xt.ERR_NOT_SUPPORT,m)})});const g=async w=>{if(w==null)return 0;if(ke.isBlob(w))return w.size;if(ke.isSpecCompliantForm(w))return(await new s(Ks.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ke.isArrayBufferView(w)||ke.isArrayBuffer(w))return w.byteLength;if(ke.isURLSearchParams(w)&&(w=w+""),ke.isString(w))return(await c(w)).byteLength},_=async(w,b)=>{const m=ke.toFiniteNumber(w.getContentLength());return m??g(b)};return async w=>{let{url:b,method:m,data:v,signal:p,cancelToken:x,timeout:y,onDownloadProgress:E,onUploadProgress:A,responseType:D,headers:S,withCredentials:C="same-origin",fetchOptions:B}=Om(w),L=e||fetch;D=D?(D+"").toLowerCase():"text";let $=H_([p,x&&x.toAbortSignal()],y),P=null;const ie=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let re;try{if(A&&u&&m!=="get"&&m!=="head"&&(re=await _(S,v))!==0){let G=new s(b,{method:"POST",body:v,duplex:"half"}),U;if(ke.isFormData(v)&&(U=G.headers.get("content-type"))&&S.setContentType(U),G.body){const[pe,Ae]=o0(re,zl(n0(A)));v=l0(G.body,c0,pe,Ae)}}ke.isString(C)||(C=C?"include":"omit");const I=a&&"credentials"in s.prototype,ue={...B,signal:$,method:m.toUpperCase(),headers:S.normalize().toJSON(),body:v,duplex:"half",credentials:I?C:void 0};P=a&&new s(b,ue);let se=await(a?L(P,B):L(b,ue));const R=d&&(D==="stream"||D==="response");if(d&&(E||R&&ie)){const G={};["status","statusText","headers"].forEach(Me=>{G[Me]=se[Me]});const U=ke.toFiniteNumber(se.headers.get("content-length")),[pe,Ae]=E&&o0(U,zl(n0(E),!0))||[];se=new r(l0(se.body,c0,pe,()=>{Ae&&Ae(),ie&&ie()}),G)}D=D||"text";let K=await h[ke.findKey(h,D)||"text"](se,w);return!R&&ie&&ie(),await new Promise((G,U)=>{Bm(G,U,{data:K,headers:yi.from(se.headers),status:se.status,statusText:se.statusText,config:w,request:P})})}catch(I){throw ie&&ie(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,w,P),{cause:I.cause||I}):xt.from(I,I&&I.code,w,P)}}},q_=new Map,Im=t=>{let e=t&&t.env||{};const{fetch:s,Request:r,Response:o}=e,a=[r,o,s];let l=a.length,n=l,c,u,d=q_;for(;n--;)c=a[n],u=d.get(c),u===void 0&&d.set(c,u=n?new Map:W_(e)),d=u;return u};Im();const yd={http:c_,xhr:j_,fetch:{get:Im}};ke.forEach(yd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const f0=t=>`- ${t}`,K_=t=>ke.isFunction(t)||t===null||t===!1;function G_(t,e){t=ke.isArray(t)?t:[t];const{length:s}=t;let r,o;const a={};for(let l=0;l<s;l++){r=t[l];let n;if(o=r,!K_(r)&&(o=yd[(n=String(r)).toLowerCase()],o===void 0))throw new xt(`Unknown adapter '${n}'`);if(o&&(ke.isFunction(o)||(o=o.get(e))))break;a[n||"#"+l]=o}if(!o){const l=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let n=s?l.length>1?`since :
`+l.map(f0).join(`
`):" "+f0(l[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return o}const Nm={getAdapter:G_,adapters:yd};function Xc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ia(null,t)}function p0(t){return Xc(t),t.headers=yi.from(t.headers),t.data=Gc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Nm.getAdapter(t.adapter||Oa.adapter,t)(t).then(function(r){return Xc(t),r.data=Gc.call(t,t.transformResponse,r),r.headers=yi.from(r.headers),r},function(r){return Rm(r)||(Xc(t),r&&r.response&&(r.response.data=Gc.call(t,t.transformResponse,r.response),r.response.headers=yi.from(r.response.headers))),Promise.reject(r)})}const jm="1.13.4",gc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gc[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const m0={};gc.transitional=function(e,s,r){function o(a,l){return"[Axios v"+jm+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,n)=>{if(e===!1)throw new xt(o(l," has been removed"+(s?" in "+s:"")),xt.ERR_DEPRECATED);return s&&!m0[l]&&(m0[l]=!0,console.warn(o(l," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(a,l,n):!0}};gc.spelling=function(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function X_(t,e,s){if(typeof t!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const a=r[o],l=e[a];if(l){const n=t[a],c=n===void 0||l(n,a,t);if(c!==!0)throw new xt("option "+a+" must be "+c,xt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new xt("Unknown option "+a,xt.ERR_BAD_OPTION)}}const kl={assertOptions:X_,validators:gc},ar=kl.validators;let Io=class{constructor(e){this.defaults=e||{},this.interceptors={request:new i0,response:new i0}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Fo(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:a}=s;r!==void 0&&kl.assertOptions(r,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),o!=null&&(ke.isFunction(o)?s.paramsSerializer={serialize:o}:kl.assertOptions(o,{encode:ar.function,serialize:ar.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),kl.assertOptions(s,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=a&&ke.merge(a.common,a[s.method]);a&&ke.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),s.headers=yi.concat(l,a);const n=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(c=c&&b.synchronous,n.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,h=0,g;if(!c){const w=[p0.bind(this),void 0];for(w.unshift(...n),w.push(...u),g=w.length,d=Promise.resolve(s);h<g;)d=d.then(w[h++],w[h++]);return d}g=n.length;let _=s;for(;h<g;){const w=n[h++],b=n[h++];try{_=w(_)}catch(m){b.call(this,m);break}}try{d=p0.call(this,_)}catch(w){return Promise.reject(w)}for(h=0,g=u.length;h<g;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Fo(this.defaults,e);const s=Pm(e.baseURL,e.url,e.allowAbsoluteUrls);return Dm(s,e.params,e.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(s,r){return this.request(Fo(r||{},{method:e,url:s,data:(r||{}).data}))}});ke.forEach(["post","put","patch"],function(e){function s(r){return function(a,l,n){return this.request(Fo(n||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Io.prototype[e]=s(),Io.prototype[e+"Form"]=s(!0)});let Y_=class Hm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(n=>{r.subscribe(n),a=n}).then(o);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,n){r.reason||(r.reason=new Ia(a,l,n),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Hm(function(o){e=o}),cancel:e}}};function J_(t){return function(s){return t.apply(null,s)}}function Z_(t){return ke.isObject(t)&&t.isAxiosError===!0}const Pu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Pu).forEach(([t,e])=>{Pu[e]=t});function zm(t){const e=new Io(t),s=xm(Io.prototype.request,e);return ke.extend(s,Io.prototype,e,{allOwnKeys:!0}),ke.extend(s,e,null,{allOwnKeys:!0}),s.create=function(o){return zm(Fo(t,o))},s}const ht=zm(Oa);ht.Axios=Io;ht.CanceledError=Ia;ht.CancelToken=Y_;ht.isCancel=Rm;ht.VERSION=jm;ht.toFormData=mc;ht.AxiosError=xt;ht.Cancel=ht.CanceledError;ht.all=function(e){return Promise.all(e)};ht.spread=J_;ht.isAxiosError=Z_;ht.mergeConfig=Fo;ht.AxiosHeaders=yi;ht.formToJSON=t=>$m(ke.isHTMLForm(t)?new FormData(t):t);ht.getAdapter=Nm.getAdapter;ht.HttpStatusCode=Pu;ht.default=ht;const{Axios:qX,AxiosError:KX,CanceledError:GX,isCancel:XX,CancelToken:YX,VERSION:JX,all:ZX,Cancel:QX,isAxiosError:eY,spread:tY,toFormData:sY,AxiosHeaders:iY,HttpStatusCode:rY,formToJSON:oY,getAdapter:nY,mergeConfig:aY}=ht;class nn{constructor(){this.cachedVersion=null,this.lastFetchTime=0,this.CACHE_DURATION=5*60*1e3}static getInstance(){return nn.instance||(nn.instance=new nn),nn.instance}async getVersion(){const e=Date.now();if(this.cachedVersion&&e-this.lastFetchTime<this.CACHE_DURATION)return this.cachedVersion;try{const s=sessionStorage.getItem("apiAuth"),r={};s&&(r.Authorization=`Basic ${s}`);const o=await ht.get("/api/version",{timeout:5e3,headers:r});if(o.data.success)return this.cachedVersion=o.data.version,this.lastFetchTime=e,o.data.version;throw new Error("")}catch(s){return console.warn(":",s),"3.4.1"}}async refreshVersion(){return this.cachedVersion=null,this.lastFetchTime=0,await this.getVersion()}clearCache(){this.cachedVersion=null,this.lastFetchTime=0}getCachedVersion(){return this.cachedVersion}shouldRefresh(){const e=Date.now();return!this.cachedVersion||e-this.lastFetchTime>=this.CACHE_DURATION}}const An=nn.getInstance(),Q_={class:"landing-page"},ey={class:"sci-fi-background"},ty={class:"particle-container"},sy={class:"navbar"},iy={class:"nav-container"},ry=["aria-expanded"],oy={class:"hero-section"},ny={class:"hero-content"},ay={class:"hero-badge"},ly={class:"badge-text"},cy={id:"features",class:"features-section"},uy={class:"section-container"},dy={class:"features-grid"},hy={class:"feature-icon"},fy={class:"feature-title"},py={class:"feature-description"},my={class:"feature-tags"},gy={id:"architecture",class:"architecture-section"},vy={class:"section-container"},by={class:"layer-number"},xy={class:"layer-content"},_y={class:"layer-title"},yy={class:"layer-description"},wy={class:"layer-tech"},ky={id:"tech-stack",class:"tech-stack-section"},Sy={class:"section-container"},Cy={class:"category-title"},Ey={class:"tech-items"},Ay={class:"tech-icon"},My={class:"tech-info"},Ty={class:"tech-name"},Dy={class:"tech-version"},Ly={class:"footer"},$y={class:"footer-container"},Ry={class:"footer-content"},By={class:"footer-section"},Py={class:"footer-links"},Oy={class:"footer-bottom"},Iy={class:"copyright"},Ny={key:0,class:"icp-inline"},jy=["href"],Hy={class:"version-text"},zy=Ai({__name:"Landing",setup(t){const e=dc(),s=V("V0.0.1"),r=V({enabled:!1,number:"",url:"https://beian.miit.gov.cn/"}),o=async()=>{try{const S=await fetch("/api/icp-info");if(S.ok){const C=await S.json();C.success&&C.icp&&(r.value={enabled:C.icp.enabled||!1,number:C.icp.number||"",url:C.icp.url||"https://beian.miit.gov.cn/"})}}catch(S){console.warn(":",S)}},a=V(!1),l=()=>{a.value=!a.value},n=()=>{a.value=!1},c=async()=>{try{const S=await An.getVersion();s.value=`V${S}`}catch(S){console.warn(":",S)}},u=V(null),d=V(new Array(7).fill(!1));let h=null;const g=V(null),_=V(new Array(4).fill(!1));let w=null;const b=()=>{u.value&&(h=new IntersectionObserver(S=>{S.forEach(C=>{C.isIntersecting&&(A.forEach((B,L)=>{setTimeout(()=>{d.value[L]=!0},L*150)}),h&&u.value&&h.unobserve(u.value))})},{threshold:.2,rootMargin:"0px 0px -100px 0px"}),h.observe(u.value))},m=()=>{g.value&&(w=new IntersectionObserver(S=>{S.forEach(C=>{C.isIntersecting&&(D.forEach((B,L)=>{setTimeout(()=>{_.value[L]=!0},L*150)}),w&&g.value&&w.unobserve(g.value))})},{threshold:.2,rootMargin:"0px 0px -100px 0px"}),w.observe(g.value))},v=()=>{e.push("/login")},p=()=>{e.push("/register")},x=()=>{const S=document.getElementById("features");S==null||S.scrollIntoView({behavior:"smooth"})},y=S=>{const C=Math.random()*3+1,B=Math.random()*20+10,L=Math.random()*5,$=Math.random()*100;return{width:`${C}px`,height:`${C}px`,left:`${$}%`,animationDuration:`${B}s`,animationDelay:`${L}s`}},E=[{icon:"",title:"",description:"",tags:["","",""]},{icon:"",title:"",description:"SSL/TLS",tags:["","",""]},{icon:"",title:"",description:"",tags:["SMTP","IMAP","POP3"]},{icon:"",title:"",description:"",tags:["","",""]},{icon:"",title:"",description:"",tags:["","",""]},{icon:"",title:"DNS",description:"Bind DNSDNSDNS",tags:["DNS","",""]},{icon:"",title:"",description:"",tags:["","",""]},{icon:"",title:"",description:"",tags:["","",""]}],A=[{name:"",description:"Web",tech:["Web","",""]},{name:"Web",description:"ApacheAPI",tech:["Apache 2.4","","SSL/TLS"]},{name:"",description:"Node.js ExpressAPI",tech:["Node.js","Express","WebSocket"]},{name:"",description:"19Bash",tech:["Bash","",""]},{name:"",description:"PostfixDovecot",tech:["Postfix","Dovecot","Maildir"]},{name:"",description:"15",tech:["MariaDB","15",""]},{name:"",description:"DNSsystemd",tech:["DNS","systemd",""]}],D=[{name:"",items:[{name:"Vue 3",version:"3.4.38",icon:""},{name:"TypeScript",version:"Latest",icon:""},{name:"Tailwind CSS",version:"3.4.0",icon:""},{name:"Vite",version:"5.4.8",icon:""}]},{name:"",items:[{name:"Node.js",version:"v20.20.0 (LTS Iron)",icon:""},{name:"Express",version:"4.19.2",icon:""},{name:"WebSocket",version:"8.16.0",icon:""},{name:"node-pty",version:"1.0.0",icon:""}]},{name:"",items:[{name:"Postfix",version:"Latest",icon:""},{name:"Dovecot",version:"Latest",icon:""},{name:"MariaDB",version:"10.5+",icon:""}]},{name:"",items:[{name:"Rocky Linux",version:"9.x",icon:""},{name:"Apache",version:"2.4",icon:""},{name:"systemd",version:"Latest",icon:""}]}];return Mi(()=>{c(),o(),setTimeout(()=>{b(),m()},100)}),oo(()=>{h&&(h.disconnect(),h=null),w&&(w.disconnect(),w=null)}),(S,C)=>{const B=uo("router-link");return M(),T("div",Q_,[i("div",ey,[C[0]||(C[0]=i("div",{class:"gradient-orb orb-1"},null,-1)),C[1]||(C[1]=i("div",{class:"gradient-orb orb-2"},null,-1)),C[2]||(C[2]=i("div",{class:"gradient-orb orb-3"},null,-1)),C[3]||(C[3]=i("div",{class:"grid-pattern"},null,-1)),i("div",ty,[(M(),T(Fe,null,Qe(50,L=>i("div",{key:L,class:"particle",style:vs(y())},null,4)),64))])]),i("nav",sy,[i("div",iy,[C[6]||(C[6]=i("div",{class:"logo"},[i("img",{src:ao,alt:"Logo",class:"logo-icon"}),i("span",{class:"logo-text"},"XM")],-1)),i("button",{class:"mobile-menu-toggle",onClick:l,"aria-expanded":a.value},[...C[4]||(C[4]=[i("span",{class:"hamburger-line"},null,-1),i("span",{class:"hamburger-line"},null,-1),i("span",{class:"hamburger-line"},null,-1)])],8,ry),i("div",{class:Le(["nav-links",{"mobile-menu-open":a.value}])},[i("a",{href:"#features",class:"nav-link",onClick:n},""),i("a",{href:"#architecture",class:"nav-link",onClick:n},""),i("a",{href:"#tech-stack",class:"nav-link",onClick:n},""),gt(B,{to:"/changelog",class:"nav-link",onClick:n},{default:Bt(()=>[...C[5]||(C[5]=[be("",-1)])]),_:1}),i("button",{onClick:p,class:"nav-button secondary"},""),i("button",{onClick:v,class:"nav-button"},"")],2)])]),i("section",oy,[i("div",ny,[i("div",ay,[i("span",ly,N(s.value),1),C[7]||(C[7]=i("span",{class:"badge-dot"},null,-1))]),C[10]||(C[10]=i("h1",{class:"hero-title"},[i("span",{class:"title-line"},""),i("span",{class:"title-line highlight"},"")],-1)),C[11]||(C[11]=i("p",{class:"hero-subtitle"},[be(" XM "),i("br"),be("  ")],-1)),i("div",{class:"hero-actions"},[i("button",{onClick:v,class:"cta-button primary"},[...C[8]||(C[8]=[i("span",null,"",-1),i("svg",{class:"arrow-icon",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M5 12h14M12 5l7 7-7 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),i("button",{onClick:x,class:"cta-button secondary"},[...C[9]||(C[9]=[i("span",null,"",-1)])])]),C[12]||(C[12]=Us('<div class="hero-stats" data-v-dba2604c><div class="stat-item" data-v-dba2604c><div class="stat-number" data-v-dba2604c>15</div><div class="stat-label" data-v-dba2604c></div></div><div class="stat-item" data-v-dba2604c><div class="stat-number" data-v-dba2604c>19</div><div class="stat-label" data-v-dba2604c></div></div><div class="stat-item" data-v-dba2604c><div class="stat-number" data-v-dba2604c>7</div><div class="stat-label" data-v-dba2604c></div></div><div class="stat-item" data-v-dba2604c><div class="stat-number" data-v-dba2604c></div><div class="stat-label" data-v-dba2604c></div></div></div>',1))])]),i("section",cy,[i("div",uy,[C[13]||(C[13]=i("div",{class:"section-header"},[i("h2",{class:"section-title"},""),i("p",{class:"section-subtitle"},"")],-1)),i("div",dy,[(M(),T(Fe,null,Qe(E,(L,$)=>i("div",{key:$,class:"feature-card",style:vs({animationDelay:`${$*.1}s`})},[i("div",hy,N(L.icon),1),i("h3",fy,N(L.title),1),i("p",py,N(L.description),1),i("div",my,[(M(!0),T(Fe,null,Qe(L.tags,P=>(M(),T("span",{key:P,class:"feature-tag"},N(P),1))),128))])],4)),64))])])]),i("section",gy,[i("div",vy,[C[14]||(C[14]=i("div",{class:"section-header"},[i("h2",{class:"section-title"},""),i("p",{class:"section-subtitle"},"")],-1)),i("div",{class:"architecture-visual",ref_key:"architectureRef",ref:u},[(M(),T(Fe,null,Qe(A,(L,$)=>i("div",{class:Le(["arch-layer",{"arch-layer-visible":d.value[$]}]),key:$,style:vs({animationDelay:`${$*.15}s`})},[i("div",by,N(String($+1).padStart(2,"0")),1),i("div",xy,[i("h3",_y,N(L.name),1),i("p",yy,N(L.description),1),i("div",wy,[(M(!0),T(Fe,null,Qe(L.tech,P=>(M(),T("span",{key:P,class:"tech-badge"},N(P),1))),128))])])],6)),64))],512)])]),i("section",ky,[i("div",Sy,[C[15]||(C[15]=i("div",{class:"section-header"},[i("h2",{class:"section-title"},""),i("p",{class:"section-subtitle"},"")],-1)),i("div",{class:"tech-categories",ref_key:"techStackRef",ref:g},[(M(),T(Fe,null,Qe(D,(L,$)=>i("div",{key:$,class:Le(["tech-category",{"tech-category-visible":_.value[$]}]),style:vs({animationDelay:`${$*.15}s`})},[i("h3",Cy,N(L.name),1),i("div",Ey,[(M(!0),T(Fe,null,Qe(L.items,P=>(M(),T("div",{key:P.name,class:"tech-item"},[i("div",Ay,N(P.icon),1),i("div",My,[i("div",Ty,N(P.name),1),i("div",Dy,N(P.version),1)])]))),128))])],6)),64))],512)])]),i("section",{class:"cta-section"},[i("div",{class:"cta-container"},[i("div",{class:"cta-content"},[C[18]||(C[18]=i("h2",{class:"cta-title"},"",-1)),C[19]||(C[19]=i("p",{class:"cta-subtitle"},"",-1)),i("div",{class:"cta-actions"},[i("button",{onClick:v,class:"cta-button large primary"},[...C[16]||(C[16]=[i("span",null,"",-1),i("svg",{class:"arrow-icon",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M5 12h14M12 5l7 7-7 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),i("button",{onClick:p,class:"cta-button large secondary"},[...C[17]||(C[17]=[i("span",null,"",-1)])])])])])]),i("footer",Ly,[i("div",$y,[i("div",Ry,[C[24]||(C[24]=Us('<div class="footer-section" data-v-dba2604c><div class="footer-logo" data-v-dba2604c><img src="'+ao+'" alt="Logo" class="logo-icon" data-v-dba2604c><span class="logo-text" data-v-dba2604c>XM</span></div><p class="footer-description" data-v-dba2604c></p></div><div class="footer-section" data-v-dba2604c><h4 class="footer-title" data-v-dba2604c></h4><ul class="footer-links" data-v-dba2604c><li data-v-dba2604c><a href="#features" data-v-dba2604c></a></li><li data-v-dba2604c><a href="#architecture" data-v-dba2604c></a></li><li data-v-dba2604c><a href="#tech-stack" data-v-dba2604c></a></li></ul></div>',2)),i("div",By,[C[23]||(C[23]=i("h4",{class:"footer-title"},"",-1)),i("ul",Py,[i("li",null,[gt(B,{to:"/changelog"},{default:Bt(()=>[...C[20]||(C[20]=[be("",-1)])]),_:1})]),C[21]||(C[21]=i("li",null,[i("a",{href:"#support"},"")],-1)),C[22]||(C[22]=i("li",null,[i("a",{href:"https://github.com/xm666xm666/XM-mail/",target:"_blank",rel:"noopener noreferrer"},"GitHub")],-1))])]),C[25]||(C[25]=Us('<div class="footer-section" data-v-dba2604c><h4 class="footer-title" data-v-dba2604c></h4><ul class="footer-links" data-v-dba2604c><li data-v-dba2604c><a href="mailto:xm@localhost" data-v-dba2604c></a></li><li data-v-dba2604c><a href="#contact" data-v-dba2604c></a></li></ul></div>',1))]),i("div",Oy,[i("div",Iy,[C[26]||(C[26]=i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("text",{x:"12",y:"16","text-anchor":"middle","font-size":"8","font-weight":"bold"},"C")],-1)),C[27]||(C[27]=i("span",null,"2024-2026 XM.",-1)),r.value.enabled&&r.value.number?(M(),T("span",Ny,[i("a",{href:r.value.url,target:"_blank",rel:"noopener noreferrer"},N(r.value.number),9,jy)])):Q("",!0)]),C[28]||(C[28]=i("div",{class:"footer-text"},"XM | ",-1)),i("div",Hy,"Powered by XM "+N(s.value),1)])])])])}}}),g0=Vi(zy,[["__scopeId","data-v-dba2604c"]]);class an{constructor(){this.logBuffer=[],this.maxBufferSize=50,this.flushInterval=3e4,setInterval(()=>{this.flushLogs()},this.flushInterval),window.addEventListener("beforeunload",()=>{this.flushLogs()})}static getInstance(){return an.instance||(an.instance=new an),an.instance}log(e,s){const r={timestamp:new Date().toISOString(),action:e,details:this.sanitizeDetails(s),user:this.getCurrentUser(),ip:this.getClientIP()};this.logBuffer.push(r),this.logBuffer.length>=this.maxBufferSize&&this.flushLogs()}logButtonClick(e,s){this.log("button_click",{button:e,context:s||"unknown",page:window.location.pathname})}logMailOperation(e,s){this.log("mail_operation",{operation:e,...this.sanitizeMailDetails(s)})}logLogin(e,s){this.log("login_attempt",{result:e,username:s?this.maskUsername(s):"unknown"})}logRegister(e,s){this.log("register_attempt",{result:e,username:s?this.maskUsername(s):"unknown"})}logPageView(e){this.log("page_view",{page:e,referrer:document.referrer})}sanitizeDetails(e){if(!e||typeof e!="object")return e;const s={...e};return["password","pass","pwd","token","secret","key"].forEach(o=>{s[o]&&(s[o]="[REDACTED]")}),s}sanitizeMailDetails(e){if(!e||typeof e!="object")return e;const s={...e};return s.to&&(s.to=this.maskEmail(s.to)),s.from&&(s.from=this.maskEmail(s.from)),s.cc&&(s.cc=Array.isArray(s.cc)?s.cc.map(r=>this.maskEmail(r)):this.maskEmail(s.cc)),s.bcc&&(s.bcc=Array.isArray(s.bcc)?s.bcc.map(r=>this.maskEmail(r)):this.maskEmail(s.bcc)),s.body&&(s.bodyLength=s.body.length,s.bodyType=typeof s.body,delete s.body),s.subject&&(s.subjectLength=s.subject.length,s.subjectPreview=s.subject.substring(0,20)+(s.subject.length>20?"...":""),delete s.subject),s}maskUsername(e){return e.length<=2?"*".repeat(e.length):e[0]+"*".repeat(e.length-2)+e[e.length-1]}maskEmail(e){const[s,r]=e.split("@");return r?`${s.length<=2?"*".repeat(s.length):s[0]+"*".repeat(s.length-2)+s[s.length-1]}@${r}`:e}getCurrentUser(){try{const e=sessionStorage.getItem("apiAuth");if(e)return atob(e).split(":")[0]||"unknown"}catch{}return"anonymous"}getClientIP(){return"client"}async flushLogs(){if(this.logBuffer.length===0)return;const e=[...this.logBuffer];this.logBuffer=[];try{const s=sessionStorage.getItem("apiAuth");if(!s)return;await fetch("/api/user-logs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${s}`},body:JSON.stringify({logs:e})})}catch(s){console.error("Failed to flush user logs:",s),this.logBuffer.unshift(...e)}}}const ft=an.getInstance(),Zo=5*60*1e3,Fy=30*1e3;class Uy{constructor(){this.lastActivityTime=Date.now(),this.checkTimer=null,this.isTracking=!1,this.onTimeoutCallback=null,this.inactivityTimeout=Zo,this.handleActivity=()=>{this.updateActivity()},this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.updateActivity()}}async loadSessionTimeout(){var e,s;try{const r=sessionStorage.getItem("apiAuth");if(!r){this.inactivityTimeout=Zo;return}const o=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${r}`}});if(o.ok){const a=await o.json();if(a.success&&((s=(e=a.settings)==null?void 0:e.security)!=null&&s.sessionTimeout)){const l=parseInt(a.settings.security.sessionTimeout,10);l>=5&&l<=1440?(this.inactivityTimeout=l*60*1e3,console.log(`: ${l}`)):(this.inactivityTimeout=Zo,console.warn(`: ${l}5`))}else this.inactivityTimeout=Zo}else this.inactivityTimeout=Zo}catch(r){console.warn(":",r),this.inactivityTimeout=Zo}}async start(e){if(this.isTracking)return;await this.loadSessionTimeout(),this.onTimeoutCallback=e,this.isTracking=!0,this.lastActivityTime=Date.now(),this.setupEventListeners(),this.startCheckTimer();const s=Math.floor(this.inactivityTimeout/6e4);console.log(`${s}`)}stop(){this.isTracking&&(this.isTracking=!1,this.removeEventListeners(),this.stopCheckTimer(),console.log(""))}updateActivity(){if(!this.isTracking)return;const e=Date.now();e-this.lastActivityTime>3e4?(this.lastActivityTime=e,console.log("")):this.lastActivityTime=e}setupEventListeners(){document.addEventListener("mousemove",this.handleActivity),document.addEventListener("mousedown",this.handleActivity),document.addEventListener("wheel",this.handleActivity),document.addEventListener("keydown",this.handleActivity),document.addEventListener("keypress",this.handleActivity),document.addEventListener("touchstart",this.handleActivity),document.addEventListener("touchmove",this.handleActivity),window.addEventListener("focus",this.handleActivity),document.addEventListener("visibilitychange",this.handleVisibilityChange)}removeEventListeners(){document.removeEventListener("mousemove",this.handleActivity),document.removeEventListener("mousedown",this.handleActivity),document.removeEventListener("wheel",this.handleActivity),document.removeEventListener("keydown",this.handleActivity),document.removeEventListener("keypress",this.handleActivity),document.removeEventListener("touchstart",this.handleActivity),document.removeEventListener("touchmove",this.handleActivity),window.removeEventListener("focus",this.handleActivity),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}startCheckTimer(){this.stopCheckTimer(),this.checkTimer=window.setInterval(()=>{this.checkInactivity()},Fy)}stopCheckTimer(){this.checkTimer!==null&&(clearInterval(this.checkTimer),this.checkTimer=null)}checkInactivity(){if(!this.isTracking)return;const s=Date.now()-this.lastActivityTime;if(s>=this.inactivityTimeout){const r=Math.floor(this.inactivityTimeout/6e4);console.warn(`${r}`),this.handleTimeout()}else{const r=Math.ceil((this.inactivityTimeout-s)/6e4);r<=1&&console.log(`${r}`)}}handleTimeout(){this.stop(),this.onTimeoutCallback&&this.onTimeoutCallback()}getRemainingTime(){if(!this.isTracking)return 0;const s=Date.now()-this.lastActivityTime,r=this.inactivityTimeout-s;return Math.max(0,Math.floor(r/1e3))}}const $o=new Uy,Vy={class:"login-page"},Wy={class:"sci-fi-background"},qy={class:"particle-container"},Ky={class:"back-home"},Gy={class:"login-container"},Xy={class:"login-card"},Yy={key:0,class:"notice-container"},Jy={key:0,class:"notice notice-error"},Zy={key:1,class:"notice notice-success"},Qy={key:2,class:"notice notice-info"},ew={class:"form-group"},tw={class:"input-wrapper"},sw={class:"form-group"},iw={class:"input-wrapper"},rw={class:"form-group"},ow={class:"captcha-wrapper"},nw={class:"input-wrapper flex-1"},aw={class:"captcha-display"},lw=["disabled"],cw={key:0},uw={key:1,class:"loading-spinner"},dw={key:2,class:"button-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},hw={class:"form-footer"},fw={class:"page-footer"},pw={class:"footer-content"},mw={class:"copyright"},gw={key:0,class:"icp-inline"},vw=["href"],bw={class:"version-text"},xw=Ai({__name:"Login",setup(t){const e=V(""),s=V(""),r=dc(),o=V(""),a=V("info"),l=V(""),n=V(""),c=V(""),u=V(!1),d=V(""),h=V("V0.0.1"),g=V({enabled:!1,number:"",url:"https://beian.miit.gov.cn/"}),_=async()=>{try{const x=await fetch("/api/icp-info");if(x.ok){const y=await x.json();y.success&&y.icp&&(g.value={enabled:y.icp.enabled||!1,number:y.icp.number||"",url:y.icp.url||"https://beian.miit.gov.cn/"})}}catch(x){console.warn(":",x)}},w=async()=>{try{const x=await An.getVersion();h.value=`V${x}`}catch(x){console.warn(":",x)}},b=x=>{const y=Math.random()*3+1,E=Math.random()*20+10,A=Math.random()*5,D=Math.random()*100;return{width:`${y}px`,height:`${y}px`,left:`${D}%`,animationDuration:`${E}s`,animationDelay:`${A}s`}};async function m(){try{const x=await fetch("/api/captcha/generate");if(!x.ok)throw new Error("");const y=await x.json();y.success&&(l.value=y.captchaId,n.value=y.question,c.value="")}catch(x){console.error(":",x),a.value="error",o.value=`: ${(x==null?void 0:x.message)||x}`}}async function v(){await m()}async function p(){try{if(u.value=!0,o.value="",a.value="info",!l.value||c.value==null||c.value===""){a.value="error",o.value="",u.value=!1;return}ft.logLogin("attempt",e.value);const x=btoa(`${e.value}:${s.value}`),y=await fetch("/api/ops",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${x}`},body:JSON.stringify({action:"app-login",params:{username:e.value,password:s.value,captchaId:l.value,captchaAnswer:c.value}})});if(!y.ok){let S="";try{const C=await y.json();C.error==="unauthorized"?S="":C.error?S=`${C.error}`:C.message?S=`${C.message}`:S=` (${y.status})`}catch{const B=await y.text();B.includes("unauthorized")||y.status===401?S="":S=`${y.status} - ${B||""}`}a.value="error",o.value=S,u.value=!1,y.status===400&&(S.includes("")||S.includes("captcha"))&&await v(),ft.logLogin("failed",e.value);return}const{opId:E}=await y.json();if(!E){a.value="error",o.value=": ",u.value=!1;return}d.value=E;let A=0;const D=120;for(;A<D;){A++;const S=await fetch(`/api/ops/${d.value}/log`,{headers:{Authorization:`Basic ${x}`}});if(S.ok){const B=(await S.text()).match(/OPERATION_END\] Exit code:\s*(\d+)/);if(B)if(parseInt(B[1]||"1",10)===0){sessionStorage.setItem("apiAuth",x),a.value="success",o.value="...",u.value=!1,ft.logLogin("success",e.value),$o.start(()=>{console.log(""),sessionStorage.removeItem("apiAuth"),r.push("/login"),alert("")}),e.value.trim().toLowerCase()==="xm"?r.push("/dashboard"):r.push("/mail");return}else{a.value="error",o.value="",u.value=!1,ft.logLogin("failed",e.value);return}}await new Promise(C=>setTimeout(C,500))}a.value="error",o.value="",u.value=!1,ft.logLogin("timeout",e.value)}catch(x){a.value="error",o.value=`: ${x.message||x}`,u.value=!1,ft.logLogin("error",e.value),console.error(":",x)}}return ft.logPageView("/login"),Mi(()=>{w(),_(),m()}),(x,y)=>{const E=uo("router-link");return M(),T("div",Vy,[i("div",Wy,[y[3]||(y[3]=i("div",{class:"gradient-orb orb-1"},null,-1)),y[4]||(y[4]=i("div",{class:"gradient-orb orb-2"},null,-1)),y[5]||(y[5]=i("div",{class:"gradient-orb orb-3"},null,-1)),y[6]||(y[6]=i("div",{class:"grid-pattern"},null,-1)),i("div",qy,[(M(),T(Fe,null,Qe(30,A=>i("div",{key:A,class:"particle",style:vs(b())},null,4)),64))])]),i("div",Ky,[gt(E,{to:"/",class:"back-button"},{default:Bt(()=>[...y[7]||(y[7]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),i("span",null,"",-1)])]),_:1})]),i("div",Gy,[i("div",Xy,[y[21]||(y[21]=Us('<div class="card-header" data-v-98ff43bf><div class="logo-section" data-v-98ff43bf><img src="'+ao+'" alt="Logo" class="logo-icon" data-v-98ff43bf><div class="logo-text" data-v-98ff43bf>XM</div></div><h2 class="card-title" data-v-98ff43bf></h2><p class="card-subtitle" data-v-98ff43bf></p></div>',1)),o.value?(M(),T("div",Yy,[a.value==="error"?(M(),T("div",Jy,[y[8]||(y[8]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})],-1)),i("span",null,N(o.value),1)])):a.value==="success"?(M(),T("div",Zy,[y[9]||(y[9]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i("polyline",{points:"22 4 12 14.01 9 11.01"})],-1)),i("span",null,N(o.value),1)])):(M(),T("div",Qy,[y[10]||(y[10]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)),i("span",null,N(o.value),1)]))])):Q("",!0),i("form",{onSubmit:ut(p,["prevent"]),class:"login-form"},[i("div",ew,[y[12]||(y[12]=i("label",{class:"form-label"},"",-1)),i("div",tw,[y[11]||(y[11]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),i("circle",{cx:"12",cy:"7",r:"4"})],-1)),Re(i("input",{"onUpdate:modelValue":y[0]||(y[0]=A=>e.value=A),required:"",class:"form-input",placeholder:""},null,512),[[je,e.value]])])]),i("div",sw,[y[14]||(y[14]=i("label",{class:"form-label"},"",-1)),i("div",iw,[y[13]||(y[13]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),i("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})],-1)),Re(i("input",{type:"password","onUpdate:modelValue":y[1]||(y[1]=A=>s.value=A),required:"",class:"form-input",placeholder:""},null,512),[[je,s.value]])])]),i("div",rw,[y[17]||(y[17]=i("label",{class:"form-label"},"",-1)),i("div",ow,[i("div",nw,[y[15]||(y[15]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0 1 12 2.944a11.955 11.955 0 0 1-8.618 3.04A12.02 12.02 0 0 0 3 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1)),Re(i("input",{"onUpdate:modelValue":y[2]||(y[2]=A=>c.value=A),required:"",type:"number",class:"form-input",placeholder:""},null,512),[[je,c.value]])]),i("div",aw,N(n.value),1),i("button",{type:"button",onClick:v,class:"refresh-button"},[...y[16]||(y[16]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("polyline",{points:"23 4 23 10 17 10"}),i("polyline",{points:"1 20 1 14 7 14"}),i("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})],-1)])])])]),i("button",{type:"submit",disabled:u.value,class:"submit-button"},[u.value?(M(),T("span",uw)):(M(),T("span",cw,"")),u.value?Q("",!0):(M(),T("svg",dw,[...y[18]||(y[18]=[i("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M13.8 12H3"},null,-1)])]))],8,lw)],32),i("div",hw,[gt(E,{to:"/register",class:"footer-link"},{default:Bt(()=>[...y[19]||(y[19]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i("circle",{cx:"8.5",cy:"7",r:"4"}),i("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),i("line",{x1:"23",y1:"11",x2:"17",y2:"11"})],-1),i("span",null,"",-1)])]),_:1}),gt(E,{to:"/reset",class:"footer-link"},{default:Bt(()=>[...y[20]||(y[20]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M15 7a2 2 0 0 1 2 2m4 0a6 6 0 0 1-7.743 5.743L11 17H9v2H7v2H4a1 1 0 0 1-1-1v-2.586a1 1 0 0 1 .293-.707l5.964-5.964A6 6 0 1 1 21 9z"})],-1),i("span",null,"",-1)])]),_:1})])])]),i("footer",fw,[i("div",pw,[i("div",mw,[y[22]||(y[22]=i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("text",{x:"12",y:"16","text-anchor":"middle","font-size":"8","font-weight":"bold"},"C")],-1)),y[23]||(y[23]=i("span",null,"2024-2026 XM.",-1)),g.value.enabled&&g.value.number?(M(),T("span",gw,[i("a",{href:g.value.url,target:"_blank",rel:"noopener noreferrer"},N(g.value.number),9,vw)])):Q("",!0)]),y[24]||(y[24]=i("div",{class:"footer-text"},"XM | ",-1)),i("div",bw,"Powered by XM "+N(h.value),1)])])])}}}),_w=Vi(xw,[["__scopeId","data-v-98ff43bf"]]),yw={class:"register-page"},ww={class:"sci-fi-background"},kw={class:"particle-container"},Sw={class:"back-home"},Cw={class:"register-container"},Ew={class:"register-card"},Aw={key:0,class:"notice-container"},Mw={key:0,class:"notice notice-error"},Tw={key:1,class:"notice notice-success"},Dw={key:2,class:"notice notice-info"},Lw={class:"form-group"},$w={class:"input-wrapper"},Rw={class:"form-group"},Bw={class:"input-wrapper"},Pw={class:"form-group"},Ow={class:"input-wrapper"},Iw={class:"form-group"},Nw={class:"captcha-wrapper"},jw={class:"input-wrapper flex-1"},Hw={class:"captcha-display"},zw={class:"form-footer"},Fw={class:"page-footer"},Uw={class:"footer-content"},Vw={class:"copyright"},Ww={key:0,class:"icp-inline"},qw=["href"],Kw={class:"version-text"},Gw=Ai({__name:"Register",setup(t){const e=V(""),s=V(""),r=V(""),o=V(""),a=V(""),l=V(""),n=V(""),c=V("V0.0.1"),u=V({enabled:!1,number:"",url:"https://beian.miit.gov.cn/"}),d=async()=>{try{const v=await fetch("/api/icp-info");if(v.ok){const p=await v.json();p.success&&p.icp&&(u.value={enabled:p.icp.enabled||!1,number:p.icp.number||"",url:p.icp.url||"https://beian.miit.gov.cn/"})}}catch(v){console.warn(":",v)}},h=async()=>{try{const v=await An.getVersion();c.value=`V${v}`}catch(v){console.warn(":",v)}},g=V("info"),_=v=>{const p=Math.random()*3+1,x=Math.random()*20+10,y=Math.random()*5,E=Math.random()*100;return{width:`${p}px`,height:`${p}px`,left:`${E}%`,animationDuration:`${x}s`,animationDelay:`${y}s`}};async function w(){try{const v=await fetch("/api/captcha/generate");if(!v.ok)throw new Error("");const p=await v.json();p.success&&(a.value=p.captchaId,l.value=p.question,n.value="")}catch(v){console.error(":",v),g.value="error",o.value=`: ${(v==null?void 0:v.message)||v}`}}async function b(){await w()}async function m(){var v;try{if(!a.value||n.value==null||n.value===""){g.value="error",o.value="";return}try{const y=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")||btoa("xm:xm666@")}`}});if(y.ok){const E=await y.json();if(E.success&&((v=E.settings)!=null&&v.security)){const A=E.settings.security,D=A.passwordMinLength||8,S=A.requireSpecialChars||!1;if(s.value.length<D){g.value="error",o.value=`${D}`;return}if(S){const C=/[A-Z]/.test(s.value),B=/[a-z]/.test(s.value),L=/[0-9]/.test(s.value),$=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(s.value);if(!C||!B||!L||!$){g.value="error";const P=[];C||P.push(""),B||P.push(""),L||P.push(""),$||P.push(""),o.value=`${P.join("")}`;return}}}}}catch{if(s.value.length<8){g.value="error",o.value="8";return}}let p=sessionStorage.getItem("apiAuth");p||(p=btoa("xm:xm666@"));const x=await fetch("/api/ops",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${p}`},body:JSON.stringify({action:"app-register",params:{username:e.value,email:r.value,password:s.value,captchaId:a.value,captchaAnswer:n.value}})});if(!x.ok){let y=` (HTTP ${x.status})`;try{const E=await x.json();E.error?y=E.error:E.message?y=E.message:y=await x.text()||y}catch{try{const A=await x.text();if(A)try{const D=JSON.parse(A);y=D.error||D.message||A}catch{y=A}}catch{}}g.value="error",o.value=y,x.status===400&&(y.includes("")||y.includes("captcha"))&&await b();return}g.value="success",o.value="",e.value="",s.value="",r.value="",n.value="",await b()}catch(p){g.value="error",o.value=`: ${(p==null?void 0:p.message)||p}`}}return Mi(()=>{h(),d(),w()}),(v,p)=>{const x=uo("router-link");return M(),T("div",yw,[i("div",ww,[p[4]||(p[4]=i("div",{class:"gradient-orb orb-1"},null,-1)),p[5]||(p[5]=i("div",{class:"gradient-orb orb-2"},null,-1)),p[6]||(p[6]=i("div",{class:"gradient-orb orb-3"},null,-1)),p[7]||(p[7]=i("div",{class:"grid-pattern"},null,-1)),i("div",kw,[(M(),T(Fe,null,Qe(30,y=>i("div",{key:y,class:"particle",style:vs(_())},null,4)),64))])]),i("div",Sw,[gt(x,{to:"/",class:"back-button"},{default:Bt(()=>[...p[8]||(p[8]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),i("span",null,"",-1)])]),_:1})]),i("div",Cw,[i("div",Ew,[p[24]||(p[24]=Us('<div class="card-header" data-v-55716c76><div class="logo-section" data-v-55716c76><img src="'+ao+'" alt="Logo" class="logo-icon" data-v-55716c76><div class="logo-text" data-v-55716c76>XM</div></div><h2 class="card-title" data-v-55716c76></h2><p class="card-subtitle" data-v-55716c76></p></div>',1)),o.value?(M(),T("div",Aw,[g.value==="error"?(M(),T("div",Mw,[p[9]||(p[9]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})],-1)),i("span",null,N(o.value),1)])):g.value==="success"?(M(),T("div",Tw,[p[10]||(p[10]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i("polyline",{points:"22 4 12 14.01 9 11.01"})],-1)),i("span",null,N(o.value),1)])):(M(),T("div",Dw,[p[11]||(p[11]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)),i("span",null,N(o.value),1)]))])):Q("",!0),i("form",{onSubmit:ut(m,["prevent"]),class:"register-form"},[i("div",Lw,[p[13]||(p[13]=i("label",{class:"form-label"},"",-1)),i("div",$w,[p[12]||(p[12]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),i("circle",{cx:"12",cy:"7",r:"4"})],-1)),Re(i("input",{"onUpdate:modelValue":p[0]||(p[0]=y=>e.value=y),required:"",class:"form-input",placeholder:""},null,512),[[je,e.value]])])]),i("div",Rw,[p[15]||(p[15]=i("label",{class:"form-label"},"",-1)),i("div",Bw,[p[14]||(p[14]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),i("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})],-1)),Re(i("input",{type:"password","onUpdate:modelValue":p[1]||(p[1]=y=>s.value=y),required:"",class:"form-input",placeholder:""},null,512),[[je,s.value]])])]),i("div",Pw,[p[17]||(p[17]=i("label",{class:"form-label"},"",-1)),i("div",Ow,[p[16]||(p[16]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i("polyline",{points:"22,6 12,13 2,6"})],-1)),Re(i("input",{"onUpdate:modelValue":p[2]||(p[2]=y=>r.value=y),required:"",type:"email",class:"form-input",placeholder:""},null,512),[[je,r.value]])])]),i("div",Iw,[p[20]||(p[20]=i("label",{class:"form-label"},"",-1)),i("div",Nw,[i("div",jw,[p[18]||(p[18]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0 1 12 2.944a11.955 11.955 0 0 1-8.618 3.04A12.02 12.02 0 0 0 3 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1)),Re(i("input",{"onUpdate:modelValue":p[3]||(p[3]=y=>n.value=y),required:"",type:"number",class:"form-input",placeholder:""},null,512),[[je,n.value]])]),i("div",Hw,N(l.value),1),i("button",{type:"button",onClick:b,class:"refresh-button"},[...p[19]||(p[19]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("polyline",{points:"23 4 23 10 17 10"}),i("polyline",{points:"1 20 1 14 7 14"}),i("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})],-1)])])])]),p[21]||(p[21]=Us('<button type="submit" class="submit-button" data-v-55716c76><svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-55716c76><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-55716c76></path><circle cx="8.5" cy="7" r="4" data-v-55716c76></circle><line x1="20" y1="8" x2="20" y2="14" data-v-55716c76></line><line x1="23" y1="11" x2="17" y2="11" data-v-55716c76></line></svg><span data-v-55716c76></span></button>',1))],32),i("div",zw,[gt(x,{to:"/login",class:"footer-link"},{default:Bt(()=>[...p[22]||(p[22]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M13.8 12H3"})],-1),i("span",null,"",-1)])]),_:1}),gt(x,{to:"/reset",class:"footer-link"},{default:Bt(()=>[...p[23]||(p[23]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M15 7a2 2 0 0 1 2 2m4 0a6 6 0 0 1-7.743 5.743L11 17H9v2H7v2H4a1 1 0 0 1-1-1v-2.586a1 1 0 0 1 .293-.707l5.964-5.964A6 6 0 1 1 21 9z"})],-1),i("span",null,"",-1)])]),_:1})])])]),i("footer",Fw,[i("div",Uw,[i("div",Vw,[p[25]||(p[25]=i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("text",{x:"12",y:"16","text-anchor":"middle","font-size":"8","font-weight":"bold"},"C")],-1)),p[26]||(p[26]=i("span",null,"2024-2026 XM.",-1)),u.value.enabled&&u.value.number?(M(),T("span",Ww,[i("a",{href:u.value.url,target:"_blank",rel:"noopener noreferrer"},N(u.value.number),9,qw)])):Q("",!0)]),p[27]||(p[27]=i("div",{class:"footer-text"},"XM | ",-1)),i("div",Kw,"Powered by XM "+N(c.value),1)])])])}}}),Xw=Vi(Gw,[["__scopeId","data-v-55716c76"]]);var Fm={exports:{}};(function(t,e){(function(s,r){t.exports=r()})(globalThis,()=>(()=>{var s={4567:function(l,n,c){var u=this&&this.__decorate||function(p,x,y,E){var A,D=arguments.length,S=D<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,x,y,E);else for(var C=p.length-1;C>=0;C--)(A=p[C])&&(S=(D<3?A(S):D>3?A(x,y,S):A(x,y))||S);return D>3&&S&&Object.defineProperty(x,y,S),S},d=this&&this.__param||function(p,x){return function(y,E){x(y,E,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const h=c(9042),g=c(9924),_=c(844),w=c(4725),b=c(2585),m=c(3656);let v=n.AccessibilityManager=class extends _.Disposable{constructor(p,x,y,E){super(),this._terminal=p,this._coreBrowserService=y,this._renderService=E,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let A=0;A<this._terminal.rows;A++)this._rowElements[A]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[A]);if(this._topBoundaryFocusListener=A=>this._handleBoundaryFocus(A,0),this._bottomBoundaryFocusListener=A=>this._handleBoundaryFocus(A,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(A=>this._handleResize(A.rows))),this.register(this._terminal.onRender(A=>this._refreshRows(A.start,A.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(A=>this._handleChar(A))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(A=>this._handleTab(A))),this.register(this._terminal.onKey(A=>this._handleKey(A.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,m.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,_.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(p){for(let x=0;x<p;x++)this._handleChar(" ")}_handleChar(p){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==p&&(this._charsToAnnounce+=p):this._charsToAnnounce+=p,p===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(p){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(p)||this._charsToConsume.push(p)}_refreshRows(p,x){this._liveRegionDebouncer.refresh(p,x,this._terminal.rows)}_renderRows(p,x){const y=this._terminal.buffer,E=y.lines.length.toString();for(let A=p;A<=x;A++){const D=y.lines.get(y.ydisp+A),S=[],C=(D==null?void 0:D.translateToString(!0,void 0,void 0,S))||"",B=(y.ydisp+A+1).toString(),L=this._rowElements[A];L&&(C.length===0?(L.innerText="",this._rowColumns.set(L,[0,1])):(L.textContent=C,this._rowColumns.set(L,S)),L.setAttribute("aria-posinset",B),L.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(p,x){const y=p.target,E=this._rowElements[x===0?1:this._rowElements.length-2];if(y.getAttribute("aria-posinset")===(x===0?"1":`${this._terminal.buffer.lines.length}`)||p.relatedTarget!==E)return;let A,D;if(x===0?(A=y,D=this._rowElements.pop(),this._rowContainer.removeChild(D)):(A=this._rowElements.shift(),D=y,this._rowContainer.removeChild(A)),A.removeEventListener("focus",this._topBoundaryFocusListener),D.removeEventListener("focus",this._bottomBoundaryFocusListener),x===0){const S=this._createAccessibilityTreeNode();this._rowElements.unshift(S),this._rowContainer.insertAdjacentElement("afterbegin",S)}else{const S=this._createAccessibilityTreeNode();this._rowElements.push(S),this._rowContainer.appendChild(S)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(x===0?-1:1),this._rowElements[x===0?1:this._rowElements.length-2].focus(),p.preventDefault(),p.stopImmediatePropagation()}_handleSelectionChange(){var C;if(this._rowElements.length===0)return;const p=document.getSelection();if(!p)return;if(p.isCollapsed)return void(this._rowContainer.contains(p.anchorNode)&&this._terminal.clearSelection());if(!p.anchorNode||!p.focusNode)return void console.error("anchorNode and/or focusNode are null");let x={node:p.anchorNode,offset:p.anchorOffset},y={node:p.focusNode,offset:p.focusOffset};if((x.node.compareDocumentPosition(y.node)&Node.DOCUMENT_POSITION_PRECEDING||x.node===y.node&&x.offset>y.offset)&&([x,y]=[y,x]),x.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(x={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(x.node))return;const E=this._rowElements.slice(-1)[0];if(y.node.compareDocumentPosition(E)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(y={node:E,offset:((C=E.textContent)==null?void 0:C.length)??0}),!this._rowContainer.contains(y.node))return;const A=({node:B,offset:L})=>{const $=B instanceof Text?B.parentNode:B;let P=parseInt($==null?void 0:$.getAttribute("aria-posinset"),10)-1;if(isNaN(P))return console.warn("row is invalid. Race condition?"),null;const ie=this._rowColumns.get($);if(!ie)return console.warn("columns is null. Race condition?"),null;let re=L<ie.length?ie[L]:ie.slice(-1)[0]+1;return re>=this._terminal.cols&&(++P,re=0),{row:P,column:re}},D=A(x),S=A(y);if(D&&S){if(D.row>S.row||D.row===S.row&&D.column>=S.column)throw new Error("invalid range");this._terminal.select(D.column,D.row,(S.row-D.row)*this._terminal.cols-D.column+S.column)}}_handleResize(p){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let x=this._rowContainer.children.length;x<this._terminal.rows;x++)this._rowElements[x]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[x]);for(;this._rowElements.length>p;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const p=this._coreBrowserService.mainDocument.createElement("div");return p.setAttribute("role","listitem"),p.tabIndex=-1,this._refreshRowDimensions(p),p}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let p=0;p<this._terminal.rows;p++)this._refreshRowDimensions(this._rowElements[p])}}_refreshRowDimensions(p){p.style.height=`${this._renderService.dimensions.css.cell.height}px`}};n.AccessibilityManager=v=u([d(1,b.IInstantiationService),d(2,w.ICoreBrowserService),d(3,w.IRenderService)],v)},3614:(l,n)=>{function c(g){return g.replace(/\r?\n/g,"\r")}function u(g,_){return _?"\x1B[200~"+g+"\x1B[201~":g}function d(g,_,w,b){g=u(g=c(g),w.decPrivateModes.bracketedPasteMode&&b.rawOptions.ignoreBracketedPasteMode!==!0),w.triggerDataEvent(g,!0),_.value=""}function h(g,_,w){const b=w.getBoundingClientRect(),m=g.clientX-b.left-10,v=g.clientY-b.top-10;_.style.width="20px",_.style.height="20px",_.style.left=`${m}px`,_.style.top=`${v}px`,_.style.zIndex="1000",_.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=c,n.bracketTextForPaste=u,n.copyHandler=function(g,_){g.clipboardData&&g.clipboardData.setData("text/plain",_.selectionText),g.preventDefault()},n.handlePasteEvent=function(g,_,w,b){g.stopPropagation(),g.clipboardData&&d(g.clipboardData.getData("text/plain"),_,w,b)},n.paste=d,n.moveTextAreaUnderMouseCursor=h,n.rightClickHandler=function(g,_,w,b,m){h(g,_,w),m&&b.rightClickSelect(g),_.value=b.selectionText,_.select()}},7239:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const u=c(1505);n.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(d,h,g){this._css.set(d,h,g)}getCss(d,h){return this._css.get(d,h)}setColor(d,h,g){this._color.set(d,h,g)}getColor(d,h){return this._color.get(d,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(c,u,d,h){c.addEventListener(u,d,h);let g=!1;return{dispose:()=>{g||(g=!0,c.removeEventListener(u,d,h))}}}},3551:function(l,n,c){var u=this&&this.__decorate||function(v,p,x,y){var E,A=arguments.length,D=A<3?p:y===null?y=Object.getOwnPropertyDescriptor(p,x):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(v,p,x,y);else for(var S=v.length-1;S>=0;S--)(E=v[S])&&(D=(A<3?E(D):A>3?E(p,x,D):E(p,x))||D);return A>3&&D&&Object.defineProperty(p,x,D),D},d=this&&this.__param||function(v,p){return function(x,y){p(x,y,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier=void 0;const h=c(3656),g=c(8460),_=c(844),w=c(2585),b=c(4725);let m=n.Linkifier=class extends _.Disposable{get currentLink(){return this._currentLink}constructor(v,p,x,y,E){super(),this._element=v,this._mouseService=p,this._renderService=x,this._bufferService=y,this._linkProviderService=E,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,_.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,_.toDisposable)(()=>{var A;this._lastMouseEvent=void 0,(A=this._activeProviderReplies)==null||A.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(v){this._lastMouseEvent=v;const p=this._positionFromMouseEvent(v,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const x=v.composedPath();for(let y=0;y<x.length;y++){const E=x[y];if(E.classList.contains("xterm"))break;if(E.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(v){if(this._activeLine!==v.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(v,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,v)||(this._clearCurrentLink(),this._askForLink(v,!0))}_askForLink(v,p){var y,E;this._activeProviderReplies&&p||((y=this._activeProviderReplies)==null||y.forEach(A=>{A==null||A.forEach(D=>{D.link.dispose&&D.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=v.y);let x=!1;for(const[A,D]of this._linkProviderService.linkProviders.entries())p?(E=this._activeProviderReplies)!=null&&E.get(A)&&(x=this._checkLinkProviderResult(A,v,x)):D.provideLinks(v.y,S=>{var B,L;if(this._isMouseOut)return;const C=S==null?void 0:S.map($=>({link:$}));(B=this._activeProviderReplies)==null||B.set(A,C),x=this._checkLinkProviderResult(A,v,x),((L=this._activeProviderReplies)==null?void 0:L.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(v.y,this._activeProviderReplies)})}_removeIntersectingLinks(v,p){const x=new Set;for(let y=0;y<p.size;y++){const E=p.get(y);if(E)for(let A=0;A<E.length;A++){const D=E[A],S=D.link.range.start.y<v?0:D.link.range.start.x,C=D.link.range.end.y>v?this._bufferService.cols:D.link.range.end.x;for(let B=S;B<=C;B++){if(x.has(B)){E.splice(A--,1);break}x.add(B)}}}}_checkLinkProviderResult(v,p,x){var A;if(!this._activeProviderReplies)return x;const y=this._activeProviderReplies.get(v);let E=!1;for(let D=0;D<v;D++)this._activeProviderReplies.has(D)&&!this._activeProviderReplies.get(D)||(E=!0);if(!E&&y){const D=y.find(S=>this._linkAtPosition(S.link,p));D&&(x=!0,this._handleNewLink(D))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!x)for(let D=0;D<this._activeProviderReplies.size;D++){const S=(A=this._activeProviderReplies.get(D))==null?void 0:A.find(C=>this._linkAtPosition(C.link,p));if(S){x=!0,this._handleNewLink(S);break}}return x}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(v){if(!this._currentLink)return;const p=this._positionFromMouseEvent(v,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(v,this._currentLink.link.text)}_clearCurrentLink(v,p){this._currentLink&&this._lastMouseEvent&&(!v||!p||this._currentLink.link.range.start.y>=v&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,_.disposeArray)(this._linkCacheDisposables))}_handleNewLink(v){if(!this._lastMouseEvent)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(v.link,p)&&(this._currentLink=v,this._currentLink.state={decorations:{underline:v.link.decorations===void 0||v.link.decorations.underline,pointerCursor:v.link.decorations===void 0||v.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,v.link,this._lastMouseEvent),v.link.decorations={},Object.defineProperties(v.link.decorations,{pointerCursor:{get:()=>{var x,y;return(y=(x=this._currentLink)==null?void 0:x.state)==null?void 0:y.decorations.pointerCursor},set:x=>{var y;(y=this._currentLink)!=null&&y.state&&this._currentLink.state.decorations.pointerCursor!==x&&(this._currentLink.state.decorations.pointerCursor=x,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",x))}},underline:{get:()=>{var x,y;return(y=(x=this._currentLink)==null?void 0:x.state)==null?void 0:y.decorations.underline},set:x=>{var y,E,A;(y=this._currentLink)!=null&&y.state&&((A=(E=this._currentLink)==null?void 0:E.state)==null?void 0:A.decorations.underline)!==x&&(this._currentLink.state.decorations.underline=x,this._currentLink.state.isHovered&&this._fireUnderlineEvent(v.link,x))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(x=>{if(!this._currentLink)return;const y=x.start===0?0:x.start+1+this._bufferService.buffer.ydisp,E=this._bufferService.buffer.ydisp+1+x.end;if(this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=E&&(this._clearCurrentLink(y,E),this._lastMouseEvent)){const A=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);A&&this._askForLink(A,!1)}})))}_linkHover(v,p,x){var y;(y=this._currentLink)!=null&&y.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&v.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(x,p.text)}_fireUnderlineEvent(v,p){const x=v.range,y=this._bufferService.buffer.ydisp,E=this._createLinkUnderlineEvent(x.start.x-1,x.start.y-y-1,x.end.x,x.end.y-y-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(E)}_linkLeave(v,p,x){var y;(y=this._currentLink)!=null&&y.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&v.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(x,p.text)}_linkAtPosition(v,p){const x=v.range.start.y*this._bufferService.cols+v.range.start.x,y=v.range.end.y*this._bufferService.cols+v.range.end.x,E=p.y*this._bufferService.cols+p.x;return x<=E&&E<=y}_positionFromMouseEvent(v,p,x){const y=x.getCoords(v,p,this._bufferService.cols,this._bufferService.rows);if(y)return{x:y[0],y:y[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(v,p,x,y,E){return{x1:v,y1:p,x2:x,y2:y,cols:this._bufferService.cols,fg:E}}};n.Linkifier=m=u([d(1,b.IMouseService),d(2,b.IRenderService),d(3,w.IBufferService),d(4,b.ILinkProviderService)],m)},9042:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,n,c){var u=this&&this.__decorate||function(b,m,v,p){var x,y=arguments.length,E=y<3?m:p===null?p=Object.getOwnPropertyDescriptor(m,v):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(b,m,v,p);else for(var A=b.length-1;A>=0;A--)(x=b[A])&&(E=(y<3?x(E):y>3?x(m,v,E):x(m,v))||E);return y>3&&E&&Object.defineProperty(m,v,E),E},d=this&&this.__param||function(b,m){return function(v,p){m(v,p,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const h=c(511),g=c(2585);let _=n.OscLinkProvider=class{constructor(b,m,v){this._bufferService=b,this._optionsService=m,this._oscLinkService=v}provideLinks(b,m){var C;const v=this._bufferService.buffer.lines.get(b-1);if(!v)return void m(void 0);const p=[],x=this._optionsService.rawOptions.linkHandler,y=new h.CellData,E=v.getTrimmedLength();let A=-1,D=-1,S=!1;for(let B=0;B<E;B++)if(D!==-1||v.hasContent(B)){if(v.loadCell(B,y),y.hasExtendedAttrs()&&y.extended.urlId){if(D===-1){D=B,A=y.extended.urlId;continue}S=y.extended.urlId!==A}else D!==-1&&(S=!0);if(S||D!==-1&&B===E-1){const L=(C=this._oscLinkService.getLinkData(A))==null?void 0:C.uri;if(L){const $={start:{x:D+1,y:b},end:{x:B+(S||B!==E-1?0:1),y:b}};let P=!1;if(!(x!=null&&x.allowNonHttpProtocols))try{const ie=new URL(L);["http:","https:"].includes(ie.protocol)||(P=!0)}catch{P=!0}P||p.push({text:L,range:$,activate:(ie,re)=>x?x.activate(ie,re,$):w(0,re),hover:(ie,re)=>{var I;return(I=x==null?void 0:x.hover)==null?void 0:I.call(x,ie,re,$)},leave:(ie,re)=>{var I;return(I=x==null?void 0:x.leave)==null?void 0:I.call(x,ie,re,$)}})}S=!1,y.hasExtendedAttrs()&&y.extended.urlId?(D=B,A=y.extended.urlId):(D=-1,A=-1)}}m(p)}};function w(b,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const v=window.open();if(v){try{v.opener=null}catch{}v.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}n.OscLinkProvider=_=u([d(0,g.IBufferService),d(1,g.IOptionsService),d(2,g.IOscLinkService)],_)},6193:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(c,u){this._renderCallback=c,this._coreBrowserService=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(c,u,d){this._rowCount=d,c=c!==void 0?c:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},3236:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const u=c(3614),d=c(3656),h=c(3551),g=c(9042),_=c(3730),w=c(1680),b=c(3107),m=c(5744),v=c(2950),p=c(1296),x=c(428),y=c(4269),E=c(5114),A=c(8934),D=c(3230),S=c(9312),C=c(4725),B=c(6731),L=c(8055),$=c(8969),P=c(8460),ie=c(844),re=c(6114),I=c(8437),ue=c(2584),se=c(7399),R=c(5941),K=c(9074),G=c(2585),U=c(5435),pe=c(4567),Ae=c(779);class Me extends $.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(W={}){super(W),this.browser=re,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new ie.MutableDisposable),this._onCursorMove=this.register(new P.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new P.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new P.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new P.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new P.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new P.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new P.EventEmitter),this._onBlur=this.register(new P.EventEmitter),this._onA11yCharEmitter=this.register(new P.EventEmitter),this._onA11yTabEmitter=this.register(new P.EventEmitter),this._onWillOpen=this.register(new P.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(K.DecorationService),this._instantiationService.setService(G.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(Ae.LinkProviderService),this._instantiationService.setService(C.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(_.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((O,q)=>this.refresh(O,q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(O=>this._reportWindowsOptions(O))),this.register(this._inputHandler.onColor(O=>this._handleColorEvent(O))),this.register((0,P.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,P.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(O=>this._afterResize(O.cols,O.rows))),this.register((0,ie.toDisposable)(()=>{var O,q;this._customKeyEventHandler=void 0,(q=(O=this.element)==null?void 0:O.parentNode)==null||q.removeChild(this.element)}))}_handleColorEvent(W){if(this._themeService)for(const O of W){let q,X="";switch(O.index){case 256:q="foreground",X="10";break;case 257:q="background",X="11";break;case 258:q="cursor",X="12";break;default:q="ansi",X="4;"+O.index}switch(O.type){case 0:const ge=L.color.toColorRGB(q==="ansi"?this._themeService.colors.ansi[O.index]:this._themeService.colors[q]);this.coreService.triggerDataEvent(`${ue.C0.ESC}]${X};${(0,R.toRgbString)(ge)}${ue.C1_ESCAPED.ST}`);break;case 1:if(q==="ansi")this._themeService.modifyColors(z=>z.ansi[O.index]=L.channels.toColor(...O.color));else{const z=q;this._themeService.modifyColors(J=>J[z]=L.channels.toColor(...O.color))}break;case 2:this._themeService.restoreColor(O.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(W){W?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(pe.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(W){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ue.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var W;return(W=this.textarea)==null?void 0:W.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ue.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const W=this.buffer.ybase+this.buffer.y,O=this.buffer.lines.get(W);if(!O)return;const q=Math.min(this.buffer.x,this.cols-1),X=this._renderService.dimensions.css.cell.height,ge=O.getWidth(q),z=this._renderService.dimensions.css.cell.width*ge,J=this.buffer.y*this._renderService.dimensions.css.cell.height,ne=q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ne+"px",this.textarea.style.top=J+"px",this.textarea.style.width=z+"px",this.textarea.style.height=X+"px",this.textarea.style.lineHeight=X+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,d.addDisposableDomListener)(this.element,"copy",O=>{this.hasSelection()&&(0,u.copyHandler)(O,this._selectionService)}));const W=O=>(0,u.handlePasteEvent)(O,this.textarea,this.coreService,this.optionsService);this.register((0,d.addDisposableDomListener)(this.textarea,"paste",W)),this.register((0,d.addDisposableDomListener)(this.element,"paste",W)),re.isFirefox?this.register((0,d.addDisposableDomListener)(this.element,"mousedown",O=>{O.button===2&&(0,u.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,d.addDisposableDomListener)(this.element,"contextmenu",O=>{(0,u.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),re.isLinux&&this.register((0,d.addDisposableDomListener)(this.element,"auxclick",O=>{O.button===1&&(0,u.moveTextAreaUnderMouseCursor)(O,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,d.addDisposableDomListener)(this.textarea,"keyup",W=>this._keyUp(W),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keydown",W=>this._keyDown(W),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keypress",W=>this._keyPress(W),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionupdate",W=>this._compositionHelper.compositionupdate(W))),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,d.addDisposableDomListener)(this.textarea,"input",W=>this._inputEvent(W),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(W){var q;if(!W)throw new Error("Terminal requires a parent element.");if(W.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((q=this.element)==null?void 0:q.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=W.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),W.appendChild(this.element);const O=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),O.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,d.addDisposableDomListener)(this.screenElement,"mousemove",X=>this.updateCursorStyle(X))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),O.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),re.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(E.CoreBrowserService,this.textarea,W.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,d.addDisposableDomListener)(this.textarea,"focus",X=>this._handleTextAreaFocus(X))),this.register((0,d.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(x.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(B.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(D.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(X=>this._onRender.fire(X))),this.onResize(X=>this._renderService.resize(X.cols,X.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(v.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(O);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(w.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(X=>this.scrollLines(X.amount,X.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(S.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(X=>this.scrollLines(X.amount,X.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(X=>this._renderService.handleSelectionChanged(X.start,X.end,X.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(X=>{this.textarea.value=X,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(X=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(b.BufferDecorationRenderer,this.screenElement)),this.register((0,d.addDisposableDomListener)(this.element,"mousedown",X=>this._selectionService.handleMouseDown(X))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(pe.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",X=>this._handleScreenReaderModeOptionChange(X))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",X=>{!this._overviewRulerRenderer&&X&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(p.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const W=this,O=this.element;function q(z){const J=W._mouseService.getMouseReportCoords(z,W.screenElement);if(!J)return!1;let ne,fe;switch(z.overrideType||z.type){case"mousemove":fe=32,z.buttons===void 0?(ne=3,z.button!==void 0&&(ne=z.button<3?z.button:3)):ne=1&z.buttons?0:4&z.buttons?1:2&z.buttons?2:3;break;case"mouseup":fe=0,ne=z.button<3?z.button:3;break;case"mousedown":fe=1,ne=z.button<3?z.button:3;break;case"wheel":if(W._customWheelEventHandler&&W._customWheelEventHandler(z)===!1||W.viewport.getLinesScrolled(z)===0)return!1;fe=z.deltaY<0?0:1,ne=4;break;default:return!1}return!(fe===void 0||ne===void 0||ne>4)&&W.coreMouseService.triggerMouseEvent({col:J.col,row:J.row,x:J.x,y:J.y,button:ne,action:fe,ctrl:z.ctrlKey,alt:z.altKey,shift:z.shiftKey})}const X={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ge={mouseup:z=>(q(z),z.buttons||(this._document.removeEventListener("mouseup",X.mouseup),X.mousedrag&&this._document.removeEventListener("mousemove",X.mousedrag)),this.cancel(z)),wheel:z=>(q(z),this.cancel(z,!0)),mousedrag:z=>{z.buttons&&q(z)},mousemove:z=>{z.buttons||q(z)}};this.register(this.coreMouseService.onProtocolChange(z=>{z?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(z)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&z?X.mousemove||(O.addEventListener("mousemove",ge.mousemove),X.mousemove=ge.mousemove):(O.removeEventListener("mousemove",X.mousemove),X.mousemove=null),16&z?X.wheel||(O.addEventListener("wheel",ge.wheel,{passive:!1}),X.wheel=ge.wheel):(O.removeEventListener("wheel",X.wheel),X.wheel=null),2&z?X.mouseup||(X.mouseup=ge.mouseup):(this._document.removeEventListener("mouseup",X.mouseup),X.mouseup=null),4&z?X.mousedrag||(X.mousedrag=ge.mousedrag):(this._document.removeEventListener("mousemove",X.mousedrag),X.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,d.addDisposableDomListener)(O,"mousedown",z=>{if(z.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(z))return q(z),X.mouseup&&this._document.addEventListener("mouseup",X.mouseup),X.mousedrag&&this._document.addEventListener("mousemove",X.mousedrag),this.cancel(z)})),this.register((0,d.addDisposableDomListener)(O,"wheel",z=>{if(!X.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(z)===!1)return!1;if(!this.buffer.hasScrollback){const J=this.viewport.getLinesScrolled(z);if(J===0)return;const ne=ue.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(z.deltaY<0?"A":"B");let fe="";for(let xe=0;xe<Math.abs(J);xe++)fe+=ne;return this.coreService.triggerDataEvent(fe,!0),this.cancel(z,!0)}return this.viewport.handleWheel(z)?this.cancel(z):void 0}},{passive:!1})),this.register((0,d.addDisposableDomListener)(O,"touchstart",z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(z),this.cancel(z)},{passive:!0})),this.register((0,d.addDisposableDomListener)(O,"touchmove",z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(z)?void 0:this.cancel(z)},{passive:!1}))}refresh(W,O){var q;(q=this._renderService)==null||q.refreshRows(W,O)}updateCursorStyle(W){var O;(O=this._selectionService)!=null&&O.shouldColumnSelect(W)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(W,O,q=0){var X;q===1?(super.scrollLines(W,O,q),this.refresh(0,this.rows-1)):(X=this.viewport)==null||X.scrollLines(W)}paste(W){(0,u.paste)(W,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(W){this._customKeyEventHandler=W}attachCustomWheelEventHandler(W){this._customWheelEventHandler=W}registerLinkProvider(W){return this._linkProviderService.registerLinkProvider(W)}registerCharacterJoiner(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const O=this._characterJoinerService.register(W);return this.refresh(0,this.rows-1),O}deregisterCharacterJoiner(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(W)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(W){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+W)}registerDecoration(W){return this._decorationService.registerDecoration(W)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(W,O,q){this._selectionService.setSelection(W,O,q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var W;(W=this._selectionService)==null||W.clearSelection()}selectAll(){var W;(W=this._selectionService)==null||W.selectAll()}selectLines(W,O){var q;(q=this._selectionService)==null||q.selectLines(W,O)}_keyDown(W){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;const O=this.browser.isMac&&this.options.macOptionIsMeta&&W.altKey;if(!O&&!this._compositionHelper.keydown(W))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;O||W.key!=="Dead"&&W.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const q=(0,se.evaluateKeyboardEvent)(W,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(W),q.type===3||q.type===2){const X=this.rows-1;return this.scrollLines(q.type===2?-X:X),this.cancel(W,!0)}return q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,W)||(q.cancel&&this.cancel(W,!0),!q.key||!!(W.key&&!W.ctrlKey&&!W.altKey&&!W.metaKey&&W.key.length===1&&W.key.charCodeAt(0)>=65&&W.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(q.key!==ue.C0.ETX&&q.key!==ue.C0.CR||(this.textarea.value=""),this._onKey.fire({key:q.key,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(q.key,!0),!this.optionsService.rawOptions.screenReaderMode||W.altKey||W.ctrlKey?this.cancel(W,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(W,O){const q=W.isMac&&!this.options.macOptionIsMeta&&O.altKey&&!O.ctrlKey&&!O.metaKey||W.isWindows&&O.altKey&&O.ctrlKey&&!O.metaKey||W.isWindows&&O.getModifierState("AltGraph");return O.type==="keypress"?q:q&&(!O.keyCode||O.keyCode>47)}_keyUp(W){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1||(function(O){return O.keyCode===16||O.keyCode===17||O.keyCode===18}(W)||this.focus(),this.updateCursorStyle(W),this._keyPressHandled=!1)}_keyPress(W){let O;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;if(this.cancel(W),W.charCode)O=W.charCode;else if(W.which===null||W.which===void 0)O=W.keyCode;else{if(W.which===0||W.charCode===0)return!1;O=W.which}return!(!O||(W.altKey||W.ctrlKey||W.metaKey)&&!this._isThirdLevelShift(this.browser,W)||(O=String.fromCharCode(O),this._onKey.fire({key:O,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(O,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(W){if(W.data&&W.inputType==="insertText"&&(!W.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const O=W.data;return this.coreService.triggerDataEvent(O,!0),this.cancel(W),!0}return!1}resize(W,O){W!==this.cols||O!==this.rows?super.resize(W,O):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(W,O){var q,X;(q=this._charSizeService)==null||q.measure(),(X=this.viewport)==null||X.syncScrollArea(!0)}clear(){var W;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let O=1;O<this.rows;O++)this.buffer.lines.push(this.buffer.getBlankLine(I.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(W=this.viewport)==null||W.reset(),this.refresh(0,this.rows-1)}}reset(){var O,q;this.options.rows=this.rows,this.options.cols=this.cols;const W=this._customKeyEventHandler;this._setup(),super.reset(),(O=this._selectionService)==null||O.reset(),this._decorationService.reset(),(q=this.viewport)==null||q.reset(),this._customKeyEventHandler=W,this.refresh(0,this.rows-1)}clearTextureAtlas(){var W;(W=this._renderService)==null||W.clearTextureAtlas()}_reportFocus(){var W;(W=this.element)!=null&&W.classList.contains("focus")?this.coreService.triggerDataEvent(ue.C0.ESC+"[I"):this.coreService.triggerDataEvent(ue.C0.ESC+"[O")}_reportWindowsOptions(W){if(this._renderService)switch(W){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const O=this._renderService.dimensions.css.canvas.width.toFixed(0),q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ue.C0.ESC}[4;${q};${O}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const X=this._renderService.dimensions.css.cell.width.toFixed(0),ge=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ue.C0.ESC}[6;${ge};${X}t`)}}cancel(W,O){if(this.options.cancelEvents||O)return W.preventDefault(),W.stopPropagation(),!1}}n.Terminal=Me},9924:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(c,u=1e3){this._renderCallback=c,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,u,d){this._rowCount=d,c=c!==void 0?c:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=h-this._lastRefreshMs,_=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},_)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,u)}}},1680:function(l,n,c){var u=this&&this.__decorate||function(v,p,x,y){var E,A=arguments.length,D=A<3?p:y===null?y=Object.getOwnPropertyDescriptor(p,x):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(v,p,x,y);else for(var S=v.length-1;S>=0;S--)(E=v[S])&&(D=(A<3?E(D):A>3?E(p,x,D):E(p,x))||D);return A>3&&D&&Object.defineProperty(p,x,D),D},d=this&&this.__param||function(v,p){return function(x,y){p(x,y,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const h=c(3656),g=c(4725),_=c(8460),w=c(844),b=c(2585);let m=n.Viewport=class extends w.Disposable{constructor(v,p,x,y,E,A,D,S){super(),this._viewportElement=v,this._scrollArea=p,this._bufferService=x,this._optionsService=y,this._charSizeService=E,this._renderService=A,this._coreBrowserService=D,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(C=>this._activeBuffer=C.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(C=>this._renderDimensions=C)),this._handleThemeChange(S.colors),this.register(S.onChangeColors(C=>this._handleThemeChange(C))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(v){this._viewportElement.style.backgroundColor=v.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(v){if(v)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const p=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==p&&(this._lastRecordedBufferHeight=p,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const v=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==v&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=v),this._refreshAnimationFrame=null}syncScrollArea(v=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(v);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(v)}_handleScroll(v){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const p=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const v=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(v*(this._smoothScrollState.target-this._smoothScrollState.origin)),v<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(v,p){const x=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(p<0&&this._viewportElement.scrollTop!==0||p>0&&x<this._lastRecordedBufferHeight)||(v.cancelable&&v.preventDefault(),!1)}handleWheel(v){const p=this._getPixelsScrolled(v);return p!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+p:this._smoothScrollState.target+=p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=p,this._bubbleScroll(v,p))}scrollLines(v){if(v!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const p=v*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:v,suppressScrollEvent:!1})}_getPixelsScrolled(v){if(v.deltaY===0||v.shiftKey)return 0;let p=this._applyScrollModifier(v.deltaY,v);return v.deltaMode===WheelEvent.DOM_DELTA_LINE?p*=this._currentRowHeight:v.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._currentRowHeight*this._bufferService.rows),p}getBufferElements(v,p){var S;let x,y="";const E=[],A=p??this._bufferService.buffer.lines.length,D=this._bufferService.buffer.lines;for(let C=v;C<A;C++){const B=D.get(C);if(!B)continue;const L=(S=D.get(C+1))==null?void 0:S.isWrapped;if(y+=B.translateToString(!L),!L||C===D.length-1){const $=document.createElement("div");$.textContent=y,E.push($),y.length>0&&(x=$),y=""}}return{bufferElements:E,cursorElement:x}}getLinesScrolled(v){if(v.deltaY===0||v.shiftKey)return 0;let p=this._applyScrollModifier(v.deltaY,v);return v.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(p/=this._currentRowHeight+0,this._wheelPartialScroll+=p,p=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):v.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._bufferService.rows),p}_applyScrollModifier(v,p){const x=this._optionsService.rawOptions.fastScrollModifier;return x==="alt"&&p.altKey||x==="ctrl"&&p.ctrlKey||x==="shift"&&p.shiftKey?v*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:v*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(v){this._lastTouchY=v.touches[0].pageY}handleTouchMove(v){const p=this._lastTouchY-v.touches[0].pageY;return this._lastTouchY=v.touches[0].pageY,p!==0&&(this._viewportElement.scrollTop+=p,this._bubbleScroll(v,p))}};n.Viewport=m=u([d(2,b.IBufferService),d(3,b.IOptionsService),d(4,g.ICharSizeService),d(5,g.IRenderService),d(6,g.ICoreBrowserService),d(7,g.IThemeService)],m)},3107:function(l,n,c){var u=this&&this.__decorate||function(b,m,v,p){var x,y=arguments.length,E=y<3?m:p===null?p=Object.getOwnPropertyDescriptor(m,v):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(b,m,v,p);else for(var A=b.length-1;A>=0;A--)(x=b[A])&&(E=(y<3?x(E):y>3?x(m,v,E):x(m,v))||E);return y>3&&E&&Object.defineProperty(m,v,E),E},d=this&&this.__param||function(b,m){return function(v,p){m(v,p,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const h=c(4725),g=c(844),_=c(2585);let w=n.BufferDecorationRenderer=class extends g.Disposable{constructor(b,m,v,p,x){super(),this._screenElement=b,this._bufferService=m,this._coreBrowserService=v,this._decorationService=p,this._renderService=x,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const b of this._decorationService.decorations)this._renderDecoration(b);this._dimensionsChanged=!1}_renderDecoration(b){this._refreshStyle(b),this._dimensionsChanged&&this._refreshXPosition(b)}_createElement(b){var p;const m=this._coreBrowserService.mainDocument.createElement("div");m.classList.add("xterm-decoration"),m.classList.toggle("xterm-decoration-top-layer",((p=b==null?void 0:b.options)==null?void 0:p.layer)==="top"),m.style.width=`${Math.round((b.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,m.style.height=(b.options.height||1)*this._renderService.dimensions.css.cell.height+"px",m.style.top=(b.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",m.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const v=b.options.x??0;return v&&v>this._bufferService.cols&&(m.style.display="none"),this._refreshXPosition(b,m),m}_refreshStyle(b){const m=b.marker.line-this._bufferService.buffers.active.ydisp;if(m<0||m>=this._bufferService.rows)b.element&&(b.element.style.display="none",b.onRenderEmitter.fire(b.element));else{let v=this._decorationElements.get(b);v||(v=this._createElement(b),b.element=v,this._decorationElements.set(b,v),this._container.appendChild(v),b.onDispose(()=>{this._decorationElements.delete(b),v.remove()})),v.style.top=m*this._renderService.dimensions.css.cell.height+"px",v.style.display=this._altBufferIsActive?"none":"block",b.onRenderEmitter.fire(v)}}_refreshXPosition(b,m=b.element){if(!m)return;const v=b.options.x??0;(b.options.anchor||"left")==="right"?m.style.right=v?v*this._renderService.dimensions.css.cell.width+"px":"":m.style.left=v?v*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(b){var m;(m=this._decorationElements.get(b))==null||m.remove(),this._decorationElements.delete(b),b.dispose()}};n.BufferDecorationRenderer=w=u([d(1,_.IBufferService),d(2,h.ICoreBrowserService),d(3,_.IDecorationService),d(4,h.IRenderService)],w)},5871:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const u of this._zones)if(u.color===c.options.overviewRulerOptions.color&&u.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,c.marker.line))return;if(this._lineAdjacentToZone(u,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(u,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,u){return u>=c.startBufferLine&&u<=c.endBufferLine}_lineAdjacentToZone(c,u,d){return u>=c.startBufferLine-this._linePadding[d||"full"]&&u<=c.endBufferLine+this._linePadding[d||"full"]}_addLineToZone(c,u){c.startBufferLine=Math.min(c.startBufferLine,u),c.endBufferLine=Math.max(c.endBufferLine,u)}}},5744:function(l,n,c){var u=this&&this.__decorate||function(x,y,E,A){var D,S=arguments.length,C=S<3?y:A===null?A=Object.getOwnPropertyDescriptor(y,E):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(x,y,E,A);else for(var B=x.length-1;B>=0;B--)(D=x[B])&&(C=(S<3?D(C):S>3?D(y,E,C):D(y,E))||C);return S>3&&C&&Object.defineProperty(y,E,C),C},d=this&&this.__param||function(x,y){return function(E,A){y(E,A,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const h=c(5871),g=c(4725),_=c(844),w=c(2585),b={full:0,left:0,center:0,right:0},m={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0};let p=n.OverviewRulerRenderer=class extends _.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(x,y,E,A,D,S,C){var L;super(),this._viewportElement=x,this._screenElement=y,this._bufferService=E,this._decorationService=A,this._renderService=D,this._optionsService=S,this._coreBrowserService=C,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(L=this._viewportElement.parentElement)==null||L.insertBefore(this._canvas,this._viewportElement);const B=this._canvas.getContext("2d");if(!B)throw new Error("Ctx cannot be null");this._ctx=B,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,_.toDisposable)(()=>{var $;($=this._canvas)==null||$.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const x=Math.floor(this._canvas.width/3),y=Math.ceil(this._canvas.width/3);m.full=this._canvas.width,m.left=x,m.center=y,m.right=x,this._refreshDrawHeightConstants(),v.full=0,v.left=0,v.center=m.left,v.right=m.left+m.center}_refreshDrawHeightConstants(){b.full=Math.round(2*this._coreBrowserService.dpr);const x=this._canvas.height/this._bufferService.buffer.lines.length,y=Math.round(Math.max(Math.min(x,12),6)*this._coreBrowserService.dpr);b.left=y,b.center=y,b.right=y}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*b.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*b.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*b.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*b.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const y of this._decorationService.decorations)this._colorZoneStore.addDecoration(y);this._ctx.lineWidth=1;const x=this._colorZoneStore.zones;for(const y of x)y.position!=="full"&&this._renderColorZone(y);for(const y of x)y.position==="full"&&this._renderColorZone(y);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(x){this._ctx.fillStyle=x.color,this._ctx.fillRect(v[x.position||"full"],Math.round((this._canvas.height-1)*(x.startBufferLine/this._bufferService.buffers.active.lines.length)-b[x.position||"full"]/2),m[x.position||"full"],Math.round((this._canvas.height-1)*((x.endBufferLine-x.startBufferLine)/this._bufferService.buffers.active.lines.length)+b[x.position||"full"]))}_queueRefresh(x,y){this._shouldUpdateDimensions=x||this._shouldUpdateDimensions,this._shouldUpdateAnchor=y||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};n.OverviewRulerRenderer=p=u([d(2,w.IBufferService),d(3,w.IDecorationService),d(4,g.IRenderService),d(5,w.IOptionsService),d(6,g.ICoreBrowserService)],p)},2950:function(l,n,c){var u=this&&this.__decorate||function(b,m,v,p){var x,y=arguments.length,E=y<3?m:p===null?p=Object.getOwnPropertyDescriptor(m,v):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(b,m,v,p);else for(var A=b.length-1;A>=0;A--)(x=b[A])&&(E=(y<3?x(E):y>3?x(m,v,E):x(m,v))||E);return y>3&&E&&Object.defineProperty(m,v,E),E},d=this&&this.__param||function(b,m){return function(v,p){m(v,p,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const h=c(4725),g=c(2585),_=c(2584);let w=n.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(b,m,v,p,x,y){this._textarea=b,this._compositionView=m,this._bufferService=v,this._optionsService=p,this._coreService=x,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(b){this._compositionView.textContent=b.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(b){if(this._isComposing||this._isSendingComposition){if(b.keyCode===229||b.keyCode===16||b.keyCode===17||b.keyCode===18)return!1;this._finalizeComposition(!1)}return b.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(b){if(this._compositionView.classList.remove("active"),this._isComposing=!1,b){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let v;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,v=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),v.length>0&&this._coreService.triggerDataEvent(v,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const b=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,v=m.replace(b,"");this._dataAlreadySent=v,m.length>b.length?this._coreService.triggerDataEvent(v,!0):m.length<b.length?this._coreService.triggerDataEvent(`${_.C0.DEL}`,!0):m.length===b.length&&m!==b&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(b){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),v=this._renderService.dimensions.css.cell.height,p=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,x=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=x+"px",this._compositionView.style.top=p+"px",this._compositionView.style.height=v+"px",this._compositionView.style.lineHeight=v+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=x+"px",this._textarea.style.top=p+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}b||setTimeout(()=>this.updateCompositionElements(!0),0)}}};n.CompositionHelper=w=u([d(2,g.IBufferService),d(3,g.IOptionsService),d(4,g.ICoreService),d(5,h.IRenderService)],w)},9806:(l,n)=>{function c(u,d,h){const g=h.getBoundingClientRect(),_=u.getComputedStyle(h),w=parseInt(_.getPropertyValue("padding-left")),b=parseInt(_.getPropertyValue("padding-top"));return[d.clientX-g.left-w,d.clientY-g.top-b]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=c,n.getCoords=function(u,d,h,g,_,w,b,m,v){if(!w)return;const p=c(u,d,h);return p?(p[0]=Math.ceil((p[0]+(v?b/2:0))/b),p[1]=Math.ceil(p[1]/m),p[0]=Math.min(Math.max(p[0],1),g+(v?1:0)),p[1]=Math.min(Math.max(p[1],1),_),p):void 0}},9504:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const u=c(2584);function d(m,v,p,x){const y=m-h(m,p),E=v-h(v,p),A=Math.abs(y-E)-function(D,S,C){let B=0;const L=D-h(D,C),$=S-h(S,C);for(let P=0;P<Math.abs(L-$);P++){const ie=g(D,S)==="A"?-1:1,re=C.buffer.lines.get(L+ie*P);re!=null&&re.isWrapped&&B++}return B}(m,v,p);return b(A,w(g(m,v),x))}function h(m,v){let p=0,x=v.buffer.lines.get(m),y=x==null?void 0:x.isWrapped;for(;y&&m>=0&&m<v.rows;)p++,x=v.buffer.lines.get(--m),y=x==null?void 0:x.isWrapped;return p}function g(m,v){return m>v?"A":"B"}function _(m,v,p,x,y,E){let A=m,D=v,S="";for(;A!==p||D!==x;)A+=y?1:-1,y&&A>E.cols-1?(S+=E.buffer.translateBufferLineToString(D,!1,m,A),A=0,m=0,D++):!y&&A<0&&(S+=E.buffer.translateBufferLineToString(D,!1,0,m+1),A=E.cols-1,m=A,D--);return S+E.buffer.translateBufferLineToString(D,!1,m,A)}function w(m,v){const p=v?"O":"[";return u.C0.ESC+p+m}function b(m,v){m=Math.floor(m);let p="";for(let x=0;x<m;x++)p+=v;return p}n.moveToCellSequence=function(m,v,p,x){const y=p.buffer.x,E=p.buffer.y;if(!p.buffer.hasScrollback)return function(S,C,B,L,$,P){return d(C,L,$,P).length===0?"":b(_(S,C,S,C-h(C,$),!1,$).length,w("D",P))}(y,E,0,v,p,x)+d(E,v,p,x)+function(S,C,B,L,$,P){let ie;ie=d(C,L,$,P).length>0?L-h(L,$):C;const re=L,I=function(ue,se,R,K,G,U){let pe;return pe=d(R,K,G,U).length>0?K-h(K,G):se,ue<R&&pe<=K||ue>=R&&pe<K?"C":"D"}(S,C,B,L,$,P);return b(_(S,ie,B,re,I==="C",$).length,w(I,P))}(y,E,m,v,p,x);let A;if(E===v)return A=y>m?"D":"C",b(Math.abs(y-m),w(A,x));A=E>v?"D":"C";const D=Math.abs(E-v);return b(function(S,C){return C.cols-S}(E>v?m:y,p)+(D-1)*p.cols+1+((E>v?y:m)-1),w(A,x))}},1296:function(l,n,c){var u=this&&this.__decorate||function(P,ie,re,I){var ue,se=arguments.length,R=se<3?ie:I===null?I=Object.getOwnPropertyDescriptor(ie,re):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(P,ie,re,I);else for(var K=P.length-1;K>=0;K--)(ue=P[K])&&(R=(se<3?ue(R):se>3?ue(ie,re,R):ue(ie,re))||R);return se>3&&R&&Object.defineProperty(ie,re,R),R},d=this&&this.__param||function(P,ie){return function(re,I){ie(re,I,P)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const h=c(3787),g=c(2550),_=c(2223),w=c(6171),b=c(6052),m=c(4725),v=c(8055),p=c(8460),x=c(844),y=c(2585),E="xterm-dom-renderer-owner-",A="xterm-rows",D="xterm-fg-",S="xterm-bg-",C="xterm-focus",B="xterm-selection";let L=1,$=n.DomRenderer=class extends x.Disposable{constructor(P,ie,re,I,ue,se,R,K,G,U,pe,Ae,Me){super(),this._terminal=P,this._document=ie,this._element=re,this._screenElement=I,this._viewportElement=ue,this._helperContainer=se,this._linkifier2=R,this._charSizeService=G,this._optionsService=U,this._bufferService=pe,this._coreBrowserService=Ae,this._themeService=Me,this._terminalClass=L++,this._rowElements=[],this._selectionRenderModel=(0,b.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(A),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(B),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,w.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ye=>this._injectCss(ye))),this._injectCss(this._themeService.colors),this._rowFactory=K.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(E+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ye=>this._handleLinkHover(ye))),this.register(this._linkifier2.onHideLinkUnderline(ye=>this._handleLinkLeave(ye))),this.register((0,x.toDisposable)(()=>{this._element.classList.remove(E+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const P=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*P,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*P),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/P),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/P),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const re of this._rowElements)re.style.width=`${this.dimensions.css.canvas.width}px`,re.style.height=`${this.dimensions.css.cell.height}px`,re.style.lineHeight=`${this.dimensions.css.cell.height}px`,re.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const ie=`${this._terminalSelector} .${A} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=ie,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(P){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let ie=`${this._terminalSelector} .${A} { color: ${P.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;ie+=`${this._terminalSelector} .${A} .xterm-dim { color: ${v.color.multiplyOpacity(P.foreground,.5).css};}`,ie+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const re=`blink_underline_${this._terminalClass}`,I=`blink_bar_${this._terminalClass}`,ue=`blink_block_${this._terminalClass}`;ie+=`@keyframes ${re} { 50% {  border-bottom-style: hidden; }}`,ie+=`@keyframes ${I} { 50% {  box-shadow: none; }}`,ie+=`@keyframes ${ue} { 0% {  background-color: ${P.cursor.css};  color: ${P.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${P.cursor.css}; }}`,ie+=`${this._terminalSelector} .${A}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${re} 1s step-end infinite;}${this._terminalSelector} .${A}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${I} 1s step-end infinite;}${this._terminalSelector} .${A}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${ue} 1s step-end infinite;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-block { background-color: ${P.cursor.css}; color: ${P.cursorAccent.css};}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${P.cursor.css} !important; color: ${P.cursorAccent.css} !important;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${P.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${P.cursor.css} inset;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${P.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,ie+=`${this._terminalSelector} .${B} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${B} div { position: absolute; background-color: ${P.selectionBackgroundOpaque.css};}${this._terminalSelector} .${B} div { position: absolute; background-color: ${P.selectionInactiveBackgroundOpaque.css};}`;for(const[se,R]of P.ansi.entries())ie+=`${this._terminalSelector} .${D}${se} { color: ${R.css}; }${this._terminalSelector} .${D}${se}.xterm-dim { color: ${v.color.multiplyOpacity(R,.5).css}; }${this._terminalSelector} .${S}${se} { background-color: ${R.css}; }`;ie+=`${this._terminalSelector} .${D}${_.INVERTED_DEFAULT_COLOR} { color: ${v.color.opaque(P.background).css}; }${this._terminalSelector} .${D}${_.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${v.color.multiplyOpacity(v.color.opaque(P.background),.5).css}; }${this._terminalSelector} .${S}${_.INVERTED_DEFAULT_COLOR} { background-color: ${P.foreground.css}; }`,this._themeStyleElement.textContent=ie}_setDefaultSpacing(){const P=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${P}px`,this._rowFactory.defaultSpacing=P}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(P,ie){for(let re=this._rowElements.length;re<=ie;re++){const I=this._document.createElement("div");this._rowContainer.appendChild(I),this._rowElements.push(I)}for(;this._rowElements.length>ie;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(P,ie){this._refreshRowElements(P,ie),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(C),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(C),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(P,ie,re){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(P,ie,re),this.renderRows(0,this._bufferService.rows-1),!P||!ie)return;this._selectionRenderModel.update(this._terminal,P,ie,re);const I=this._selectionRenderModel.viewportStartRow,ue=this._selectionRenderModel.viewportEndRow,se=this._selectionRenderModel.viewportCappedStartRow,R=this._selectionRenderModel.viewportCappedEndRow;if(se>=this._bufferService.rows||R<0)return;const K=this._document.createDocumentFragment();if(re){const G=P[0]>ie[0];K.appendChild(this._createSelectionElement(se,G?ie[0]:P[0],G?P[0]:ie[0],R-se+1))}else{const G=I===se?P[0]:0,U=se===ue?ie[0]:this._bufferService.cols;K.appendChild(this._createSelectionElement(se,G,U));const pe=R-se-1;if(K.appendChild(this._createSelectionElement(se+1,0,this._bufferService.cols,pe)),se!==R){const Ae=ue===R?ie[0]:this._bufferService.cols;K.appendChild(this._createSelectionElement(R,0,Ae))}}this._selectionContainer.appendChild(K)}_createSelectionElement(P,ie,re,I=1){const ue=this._document.createElement("div"),se=ie*this.dimensions.css.cell.width;let R=this.dimensions.css.cell.width*(re-ie);return se+R>this.dimensions.css.canvas.width&&(R=this.dimensions.css.canvas.width-se),ue.style.height=I*this.dimensions.css.cell.height+"px",ue.style.top=P*this.dimensions.css.cell.height+"px",ue.style.left=`${se}px`,ue.style.width=`${R}px`,ue}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const P of this._rowElements)P.replaceChildren()}renderRows(P,ie){const re=this._bufferService.buffer,I=re.ybase+re.y,ue=Math.min(re.x,this._bufferService.cols-1),se=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,K=this._optionsService.rawOptions.cursorInactiveStyle;for(let G=P;G<=ie;G++){const U=G+re.ydisp,pe=this._rowElements[G],Ae=re.lines.get(U);if(!pe||!Ae)break;pe.replaceChildren(...this._rowFactory.createRow(Ae,U,U===I,R,K,ue,se,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${E}${this._terminalClass}`}_handleLinkHover(P){this._setCellUnderline(P.x1,P.x2,P.y1,P.y2,P.cols,!0)}_handleLinkLeave(P){this._setCellUnderline(P.x1,P.x2,P.y1,P.y2,P.cols,!1)}_setCellUnderline(P,ie,re,I,ue,se){re<0&&(P=0),I<0&&(ie=0);const R=this._bufferService.rows-1;re=Math.max(Math.min(re,R),0),I=Math.max(Math.min(I,R),0),ue=Math.min(ue,this._bufferService.cols);const K=this._bufferService.buffer,G=K.ybase+K.y,U=Math.min(K.x,ue-1),pe=this._optionsService.rawOptions.cursorBlink,Ae=this._optionsService.rawOptions.cursorStyle,Me=this._optionsService.rawOptions.cursorInactiveStyle;for(let ye=re;ye<=I;++ye){const W=ye+K.ydisp,O=this._rowElements[ye],q=K.lines.get(W);if(!O||!q)break;O.replaceChildren(...this._rowFactory.createRow(q,W,W===G,Ae,Me,U,pe,this.dimensions.css.cell.width,this._widthCache,se?ye===re?P:0:-1,se?(ye===I?ie:ue)-1:-1))}}};n.DomRenderer=$=u([d(7,y.IInstantiationService),d(8,m.ICharSizeService),d(9,y.IOptionsService),d(10,y.IBufferService),d(11,m.ICoreBrowserService),d(12,m.IThemeService)],$)},3787:function(l,n,c){var u=this&&this.__decorate||function(A,D,S,C){var B,L=arguments.length,$=L<3?D:C===null?C=Object.getOwnPropertyDescriptor(D,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(A,D,S,C);else for(var P=A.length-1;P>=0;P--)(B=A[P])&&($=(L<3?B($):L>3?B(D,S,$):B(D,S))||$);return L>3&&$&&Object.defineProperty(D,S,$),$},d=this&&this.__param||function(A,D){return function(S,C){D(S,C,A)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=void 0;const h=c(2223),g=c(643),_=c(511),w=c(2585),b=c(8055),m=c(4725),v=c(4269),p=c(6171),x=c(3734);let y=n.DomRendererRowFactory=class{constructor(A,D,S,C,B,L,$){this._document=A,this._characterJoinerService=D,this._optionsService=S,this._coreBrowserService=C,this._coreService=B,this._decorationService=L,this._themeService=$,this._workCell=new _.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(A,D,S){this._selectionStart=A,this._selectionEnd=D,this._columnSelectMode=S}createRow(A,D,S,C,B,L,$,P,ie,re,I){const ue=[],se=this._characterJoinerService.getJoinedCharacters(D),R=this._themeService.colors;let K,G=A.getNoBgTrimmedLength();S&&G<L+1&&(G=L+1);let U=0,pe="",Ae=0,Me=0,ye=0,W=!1,O=0,q=!1,X=0;const ge=[],z=re!==-1&&I!==-1;for(let J=0;J<G;J++){A.loadCell(J,this._workCell);let ne=this._workCell.getWidth();if(ne===0)continue;let fe=!1,xe=J,ae=this._workCell;if(se.length>0&&J===se[0][0]){fe=!0;const rt=se.shift();ae=new v.JoinedCellData(this._workCell,A.translateToString(!0,rt[0],rt[1]),rt[1]-rt[0]),xe=rt[1]-1,ne=ae.getWidth()}const Ce=this._isCellInSelection(J,D),Pe=S&&J===L,De=z&&J>=re&&J<=I;let Se=!1;this._decorationService.forEachDecorationAtCell(J,D,void 0,rt=>{Se=!0});let He=ae.getChars()||g.WHITESPACE_CELL_CHAR;if(He===" "&&(ae.isUnderline()||ae.isOverline())&&(He=""),X=ne*P-ie.get(He,ae.isBold(),ae.isItalic()),K){if(U&&(Ce&&q||!Ce&&!q&&ae.bg===Ae)&&(Ce&&q&&R.selectionForeground||ae.fg===Me)&&ae.extended.ext===ye&&De===W&&X===O&&!Pe&&!fe&&!Se){ae.isInvisible()?pe+=g.WHITESPACE_CELL_CHAR:pe+=He,U++;continue}U&&(K.textContent=pe),K=this._document.createElement("span"),U=0,pe=""}else K=this._document.createElement("span");if(Ae=ae.bg,Me=ae.fg,ye=ae.extended.ext,W=De,O=X,q=Ce,fe&&L>=J&&L<=xe&&(L=J),!this._coreService.isCursorHidden&&Pe&&this._coreService.isCursorInitialized){if(ge.push("xterm-cursor"),this._coreBrowserService.isFocused)$&&ge.push("xterm-cursor-blink"),ge.push(C==="bar"?"xterm-cursor-bar":C==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(B)switch(B){case"outline":ge.push("xterm-cursor-outline");break;case"block":ge.push("xterm-cursor-block");break;case"bar":ge.push("xterm-cursor-bar");break;case"underline":ge.push("xterm-cursor-underline")}}if(ae.isBold()&&ge.push("xterm-bold"),ae.isItalic()&&ge.push("xterm-italic"),ae.isDim()&&ge.push("xterm-dim"),pe=ae.isInvisible()?g.WHITESPACE_CELL_CHAR:ae.getChars()||g.WHITESPACE_CELL_CHAR,ae.isUnderline()&&(ge.push(`xterm-underline-${ae.extended.underlineStyle}`),pe===" "&&(pe=""),!ae.isUnderlineColorDefault()))if(ae.isUnderlineColorRGB())K.style.textDecorationColor=`rgb(${x.AttributeData.toColorRGB(ae.getUnderlineColor()).join(",")})`;else{let rt=ae.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ae.isBold()&&rt<8&&(rt+=8),K.style.textDecorationColor=R.ansi[rt].css}ae.isOverline()&&(ge.push("xterm-overline"),pe===" "&&(pe="")),ae.isStrikethrough()&&ge.push("xterm-strikethrough"),De&&(K.style.textDecoration="underline");let Ne=ae.getFgColor(),Ve=ae.getFgColorMode(),Be=ae.getBgColor(),Ye=ae.getBgColorMode();const st=!!ae.isInverse();if(st){const rt=Ne;Ne=Be,Be=rt;const Wt=Ve;Ve=Ye,Ye=Wt}let qe,_t,wt,at=!1;switch(this._decorationService.forEachDecorationAtCell(J,D,void 0,rt=>{rt.options.layer!=="top"&&at||(rt.backgroundColorRGB&&(Ye=50331648,Be=rt.backgroundColorRGB.rgba>>8&16777215,qe=rt.backgroundColorRGB),rt.foregroundColorRGB&&(Ve=50331648,Ne=rt.foregroundColorRGB.rgba>>8&16777215,_t=rt.foregroundColorRGB),at=rt.options.layer==="top")}),!at&&Ce&&(qe=this._coreBrowserService.isFocused?R.selectionBackgroundOpaque:R.selectionInactiveBackgroundOpaque,Be=qe.rgba>>8&16777215,Ye=50331648,at=!0,R.selectionForeground&&(Ve=50331648,Ne=R.selectionForeground.rgba>>8&16777215,_t=R.selectionForeground)),at&&ge.push("xterm-decoration-top"),Ye){case 16777216:case 33554432:wt=R.ansi[Be],ge.push(`xterm-bg-${Be}`);break;case 50331648:wt=b.channels.toColor(Be>>16,Be>>8&255,255&Be),this._addStyle(K,`background-color:#${E((Be>>>0).toString(16),"0",6)}`);break;default:st?(wt=R.foreground,ge.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):wt=R.background}switch(qe||ae.isDim()&&(qe=b.color.multiplyOpacity(wt,.5)),Ve){case 16777216:case 33554432:ae.isBold()&&Ne<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Ne+=8),this._applyMinimumContrast(K,wt,R.ansi[Ne],ae,qe,void 0)||ge.push(`xterm-fg-${Ne}`);break;case 50331648:const rt=b.channels.toColor(Ne>>16&255,Ne>>8&255,255&Ne);this._applyMinimumContrast(K,wt,rt,ae,qe,_t)||this._addStyle(K,`color:#${E(Ne.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(K,wt,R.foreground,ae,qe,_t)||st&&ge.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}ge.length&&(K.className=ge.join(" "),ge.length=0),Pe||fe||Se?K.textContent=pe:U++,X!==this.defaultSpacing&&(K.style.letterSpacing=`${X}px`),ue.push(K),J=xe}return K&&U&&(K.textContent=pe),ue}_applyMinimumContrast(A,D,S,C,B,L){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,p.treatGlyphAsBackgroundColor)(C.getCode()))return!1;const $=this._getContrastCache(C);let P;if(B||L||(P=$.getColor(D.rgba,S.rgba)),P===void 0){const ie=this._optionsService.rawOptions.minimumContrastRatio/(C.isDim()?2:1);P=b.color.ensureContrastRatio(B||D,L||S,ie),$.setColor((B||D).rgba,(L||S).rgba,P??null)}return!!P&&(this._addStyle(A,`color:${P.css}`),!0)}_getContrastCache(A){return A.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(A,D){A.setAttribute("style",`${A.getAttribute("style")||""}${D};`)}_isCellInSelection(A,D){const S=this._selectionStart,C=this._selectionEnd;return!(!S||!C)&&(this._columnSelectMode?S[0]<=C[0]?A>=S[0]&&D>=S[1]&&A<C[0]&&D<=C[1]:A<S[0]&&D>=S[1]&&A>=C[0]&&D<=C[1]:D>S[1]&&D<C[1]||S[1]===C[1]&&D===S[1]&&A>=S[0]&&A<C[0]||S[1]<C[1]&&D===C[1]&&A<C[0]||S[1]<C[1]&&D===S[1]&&A>=S[0])}};function E(A,D,S){for(;A.length<S;)A=D+A;return A}n.DomRendererRowFactory=y=u([d(1,m.ICharacterJoinerService),d(2,w.IOptionsService),d(3,m.ICoreBrowserService),d(4,w.ICoreService),d(5,w.IDecorationService),d(6,m.IThemeService)],y)},2550:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WidthCache=void 0,n.WidthCache=class{constructor(c,u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const d=c.createElement("span");d.classList.add("xterm-char-measure-element");const h=c.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const g=c.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const _=c.createElement("span");_.classList.add("xterm-char-measure-element"),_.style.fontWeight="bold",_.style.fontStyle="italic",this._measureElements=[d,h,g,_],this._container.appendChild(d),this._container.appendChild(h),this._container.appendChild(g),this._container.appendChild(_),u.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,u,d,h){c===this._font&&u===this._fontSize&&d===this._weight&&h===this._weightBold||(this._font=c,this._fontSize=u,this._weight=d,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${d}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${d}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(c,u,d){let h=0;if(!u&&!d&&c.length===1&&(h=c.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];const w=this._measure(c,0);return w>0&&(this._flat[h]=w),w}let g=c;u&&(g+="B"),d&&(g+="I");let _=this._holey.get(g);if(_===void 0){let w=0;u&&(w|=1),d&&(w|=2),_=this._measure(c,w),_>0&&this._holey.set(g,_)}return _}_measure(c,u){const d=this._measureElements[u];return d.textContent=c.repeat(32),d.offsetWidth/32}}},2223:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const u=c(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(l,n)=>{function c(d){return 57508<=d&&d<=57558}function u(d){return d>=128512&&d<=128591||d>=127744&&d<=128511||d>=128640&&d<=128767||d>=9728&&d<=9983||d>=9984&&d<=10175||d>=65024&&d<=65039||d>=129280&&d<=129535||d>=127462&&d<=127487}Object.defineProperty(n,"__esModule",{value:!0}),n.computeNextVariantOffset=n.createRenderDimensions=n.treatGlyphAsBackgroundColor=n.allowRescaling=n.isEmoji=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},n.isPowerlineGlyph=c,n.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},n.isEmoji=u,n.allowRescaling=function(d,h,g,_){return h===1&&g>Math.ceil(1.5*_)&&d!==void 0&&d>255&&!u(d)&&!c(d)&&!function(w){return 57344<=w&&w<=63743}(d)},n.treatGlyphAsBackgroundColor=function(d){return c(d)||function(h){return 9472<=h&&h<=9631}(d)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},n.computeNextVariantOffset=function(d,h,g=0){return(d-(2*Math.round(h)-g))%(2*Math.round(h))}},6052:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createSelectionRenderModel=void 0;class c{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(d,h,g,_=!1){if(this.selectionStart=h,this.selectionEnd=g,!h||!g||h[0]===g[0]&&h[1]===g[1])return void this.clear();const w=d.buffers.active.ydisp,b=h[1]-w,m=g[1]-w,v=Math.max(b,0),p=Math.min(m,d.rows-1);v>=d.rows||p<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=_,this.viewportStartRow=b,this.viewportEndRow=m,this.viewportCappedStartRow=v,this.viewportCappedEndRow=p,this.startCol=h[0],this.endCol=g[0])}isCellSelected(d,h,g){return!!this.hasSelection&&(g-=d.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&g>=this.viewportCappedStartRow&&h<this.endCol&&g<=this.viewportCappedEndRow:h<this.startCol&&g>=this.viewportCappedStartRow&&h>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&h>=this.startCol)}}n.createSelectionRenderModel=function(){return new c}},456:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,u=this.selectionEnd;return!(!c||!u)&&(c[1]>u[1]||c[1]===u[1]&&c[0]>u[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,n,c){var u=this&&this.__decorate||function(p,x,y,E){var A,D=arguments.length,S=D<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,x,y,E);else for(var C=p.length-1;C>=0;C--)(A=p[C])&&(S=(D<3?A(S):D>3?A(x,y,S):A(x,y))||S);return D>3&&S&&Object.defineProperty(x,y,S),S},d=this&&this.__param||function(p,x){return function(y,E){x(y,E,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const h=c(2585),g=c(8460),_=c(844);let w=n.CharSizeService=class extends _.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(p,x,y){super(),this._optionsService=y,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new v(this._optionsService))}catch{this._measureStrategy=this.register(new m(p,x,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const p=this._measureStrategy.measure();p.width===this.width&&p.height===this.height||(this.width=p.width,this.height=p.height,this._onCharSizeChange.fire())}};n.CharSizeService=w=u([d(2,h.IOptionsService)],w);class b extends _.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(x,y){x!==void 0&&x>0&&y!==void 0&&y>0&&(this._result.width=x,this._result.height=y)}}class m extends b{constructor(x,y,E){super(),this._document=x,this._parentElement=y,this._optionsService=E,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class v extends b{constructor(x){super(),this._optionsService=x,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const y=this._ctx.measureText("W");if(!("width"in y&&"fontBoundingBoxAscent"in y&&"fontBoundingBoxDescent"in y))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const x=this._ctx.measureText("W");return this._validateAndSet(x.width,x.fontBoundingBoxAscent+x.fontBoundingBoxDescent),this._result}}},4269:function(l,n,c){var u=this&&this.__decorate||function(v,p,x,y){var E,A=arguments.length,D=A<3?p:y===null?y=Object.getOwnPropertyDescriptor(p,x):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(v,p,x,y);else for(var S=v.length-1;S>=0;S--)(E=v[S])&&(D=(A<3?E(D):A>3?E(p,x,D):E(p,x))||D);return A>3&&D&&Object.defineProperty(p,x,D),D},d=this&&this.__param||function(v,p){return function(x,y){p(x,y,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const h=c(3734),g=c(643),_=c(511),w=c(2585);class b extends h.AttributeData{constructor(p,x,y){super(),this.content=0,this.combinedData="",this.fg=p.fg,this.bg=p.bg,this.combinedData=x,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(p){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=b;let m=n.CharacterJoinerService=class Um{constructor(p){this._bufferService=p,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new _.CellData}register(p){const x={id:this._nextCharacterJoinerId++,handler:p};return this._characterJoiners.push(x),x.id}deregister(p){for(let x=0;x<this._characterJoiners.length;x++)if(this._characterJoiners[x].id===p)return this._characterJoiners.splice(x,1),!0;return!1}getJoinedCharacters(p){if(this._characterJoiners.length===0)return[];const x=this._bufferService.buffer.lines.get(p);if(!x||x.length===0)return[];const y=[],E=x.translateToString(!0);let A=0,D=0,S=0,C=x.getFg(0),B=x.getBg(0);for(let L=0;L<x.getTrimmedLength();L++)if(x.loadCell(L,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==C||this._workCell.bg!==B){if(L-A>1){const $=this._getJoinedRanges(E,S,D,x,A);for(let P=0;P<$.length;P++)y.push($[P])}A=L,S=D,C=this._workCell.fg,B=this._workCell.bg}D+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-A>1){const L=this._getJoinedRanges(E,S,D,x,A);for(let $=0;$<L.length;$++)y.push(L[$])}return y}_getJoinedRanges(p,x,y,E,A){const D=p.substring(x,y);let S=[];try{S=this._characterJoiners[0].handler(D)}catch(C){console.error(C)}for(let C=1;C<this._characterJoiners.length;C++)try{const B=this._characterJoiners[C].handler(D);for(let L=0;L<B.length;L++)Um._mergeRanges(S,B[L])}catch(B){console.error(B)}return this._stringRangesToCellRanges(S,E,A),S}_stringRangesToCellRanges(p,x,y){let E=0,A=!1,D=0,S=p[E];if(S){for(let C=y;C<this._bufferService.cols;C++){const B=x.getWidth(C),L=x.getString(C).length||g.WHITESPACE_CELL_CHAR.length;if(B!==0){if(!A&&S[0]<=D&&(S[0]=C,A=!0),S[1]<=D){if(S[1]=C,S=p[++E],!S)break;S[0]<=D?(S[0]=C,A=!0):A=!1}D+=L}}S&&(S[1]=this._bufferService.cols)}}static _mergeRanges(p,x){let y=!1;for(let E=0;E<p.length;E++){const A=p[E];if(y){if(x[1]<=A[0])return p[E-1][1]=x[1],p;if(x[1]<=A[1])return p[E-1][1]=Math.max(x[1],A[1]),p.splice(E,1),p;p.splice(E,1),E--}else{if(x[1]<=A[0])return p.splice(E,0,x),p;if(x[1]<=A[1])return A[0]=Math.min(x[0],A[0]),p;x[0]<A[1]&&(A[0]=Math.min(x[0],A[0]),y=!0)}}return y?p[p.length-1][1]=x[1]:p.push(x),p}};n.CharacterJoinerService=m=u([d(0,w.IBufferService)],m)},5114:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0;const u=c(844),d=c(8460),h=c(3656);class g extends u.Disposable{constructor(b,m,v){super(),this._textarea=b,this._window=m,this.mainDocument=v,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new _(this._window),this._onDprChange=this.register(new d.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new d.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(p=>this._screenDprMonitor.setWindow(p))),this.register((0,d.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(b){this._window!==b&&(this._window=b,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}n.CoreBrowserService=g;class _ extends u.Disposable{constructor(b){super(),this._parentWindow=b,this._windowResizeListener=this.register(new u.MutableDisposable),this._onDprChange=this.register(new d.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,u.toDisposable)(()=>this.clearListener()))}setWindow(b){this._parentWindow=b,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var b;this._outerListener&&((b=this._resolutionMediaMatchList)==null||b.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LinkProviderService=void 0;const u=c(844);class d extends u.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,u.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const _=this.linkProviders.indexOf(g);_!==-1&&this.linkProviders.splice(_,1)}}}}n.LinkProviderService=d},8934:function(l,n,c){var u=this&&this.__decorate||function(w,b,m,v){var p,x=arguments.length,y=x<3?b:v===null?v=Object.getOwnPropertyDescriptor(b,m):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(w,b,m,v);else for(var E=w.length-1;E>=0;E--)(p=w[E])&&(y=(x<3?p(y):x>3?p(b,m,y):p(b,m))||y);return x>3&&y&&Object.defineProperty(b,m,y),y},d=this&&this.__param||function(w,b){return function(m,v){b(m,v,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const h=c(4725),g=c(9806);let _=n.MouseService=class{constructor(w,b){this._renderService=w,this._charSizeService=b}getCoords(w,b,m,v,p){return(0,g.getCoords)(window,w,b,m,v,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,p)}getMouseReportCoords(w,b){const m=(0,g.getCoordsRelativeToElement)(window,w,b);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};n.MouseService=_=u([d(0,h.IRenderService),d(1,h.ICharSizeService)],_)},3230:function(l,n,c){var u=this&&this.__decorate||function(p,x,y,E){var A,D=arguments.length,S=D<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,x,y,E);else for(var C=p.length-1;C>=0;C--)(A=p[C])&&(S=(D<3?A(S):D>3?A(x,y,S):A(x,y))||S);return D>3&&S&&Object.defineProperty(x,y,S),S},d=this&&this.__param||function(p,x){return function(y,E){x(y,E,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const h=c(6193),g=c(4725),_=c(8460),w=c(844),b=c(7226),m=c(2585);let v=n.RenderService=class extends w.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(p,x,y,E,A,D,S,C){super(),this._rowCount=p,this._charSizeService=E,this._renderer=this.register(new w.MutableDisposable),this._pausedResizeTask=new b.DebouncedIdleTask,this._observerDisposable=this.register(new w.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new _.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new _.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new _.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new _.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer((B,L)=>this._renderRows(B,L),S),this.register(this._renderDebouncer),this.register(S.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(D.onResize(()=>this._fullRefresh())),this.register(D.buffers.onBufferActivate(()=>{var B;return(B=this._renderer.value)==null?void 0:B.clear()})),this.register(y.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(A.onDecorationRegistered(()=>this._fullRefresh())),this.register(A.onDecorationRemoved(()=>this._fullRefresh())),this.register(y.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(D.cols,D.rows),this._fullRefresh()})),this.register(y.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(D.buffer.y,D.buffer.y,!0))),this.register(C.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(S.window,x),this.register(S.onWindowChange(B=>this._registerIntersectionObserver(B,x)))}_registerIntersectionObserver(p,x){if("IntersectionObserver"in p){const y=new p.IntersectionObserver(E=>this._handleIntersectionChange(E[E.length-1]),{threshold:0});y.observe(x),this._observerDisposable.value=(0,w.toDisposable)(()=>y.disconnect())}}_handleIntersectionChange(p){this._isPaused=p.isIntersecting===void 0?p.intersectionRatio===0:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,x,y=!1){this._isPaused?this._needsFullRefresh=!0:(y||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,x,this._rowCount))}_renderRows(p,x){this._renderer.value&&(p=Math.min(p,this._rowCount-1),x=Math.min(x,this._rowCount-1),this._renderer.value.renderRows(p,x),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:x}),this._onRender.fire({start:p,end:x}),this._isNextRenderRedrawOnly=!0)}resize(p,x){this._rowCount=x,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(p){this._renderer.value=p,this._renderer.value&&(this._renderer.value.onRequestRedraw(x=>this.refreshRows(x.start,x.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,x;this._renderer.value&&((x=(p=this._renderer.value).clearTextureAtlas)==null||x.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,x){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var y;return(y=this._renderer.value)==null?void 0:y.handleResize(p,x)}):this._renderer.value.handleResize(p,x),this._fullRefresh())}handleCharSizeChanged(){var p;(p=this._renderer.value)==null||p.handleCharSizeChanged()}handleBlur(){var p;(p=this._renderer.value)==null||p.handleBlur()}handleFocus(){var p;(p=this._renderer.value)==null||p.handleFocus()}handleSelectionChanged(p,x,y){var E;this._selectionState.start=p,this._selectionState.end=x,this._selectionState.columnSelectMode=y,(E=this._renderer.value)==null||E.handleSelectionChanged(p,x,y)}handleCursorMove(){var p;(p=this._renderer.value)==null||p.handleCursorMove()}clear(){var p;(p=this._renderer.value)==null||p.clear()}};n.RenderService=v=u([d(2,m.IOptionsService),d(3,g.ICharSizeService),d(4,m.IDecorationService),d(5,m.IBufferService),d(6,g.ICoreBrowserService),d(7,g.IThemeService)],v)},9312:function(l,n,c){var u=this&&this.__decorate||function(S,C,B,L){var $,P=arguments.length,ie=P<3?C:L===null?L=Object.getOwnPropertyDescriptor(C,B):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(S,C,B,L);else for(var re=S.length-1;re>=0;re--)($=S[re])&&(ie=(P<3?$(ie):P>3?$(C,B,ie):$(C,B))||ie);return P>3&&ie&&Object.defineProperty(C,B,ie),ie},d=this&&this.__param||function(S,C){return function(B,L){C(B,L,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const h=c(9806),g=c(9504),_=c(456),w=c(4725),b=c(8460),m=c(844),v=c(6114),p=c(4841),x=c(511),y=c(2585),E="",A=new RegExp(E,"g");let D=n.SelectionService=class extends m.Disposable{constructor(S,C,B,L,$,P,ie,re,I){super(),this._element=S,this._screenElement=C,this._linkifier=B,this._bufferService=L,this._coreService=$,this._mouseService=P,this._optionsService=ie,this._renderService=re,this._coreBrowserService=I,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new x.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new b.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new b.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new b.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ue=>this._handleMouseMove(ue),this._mouseUpListener=ue=>this._handleMouseUp(ue),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ue=>this._handleTrim(ue)),this.register(this._bufferService.buffers.onBufferActivate(ue=>this._handleBufferActivate(ue))),this.enable(),this._model=new _.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const S=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;return!(!S||!C||S[0]===C[0]&&S[1]===C[1])}get selectionText(){const S=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;if(!S||!C)return"";const B=this._bufferService.buffer,L=[];if(this._activeSelectionMode===3){if(S[0]===C[0])return"";const $=S[0]<C[0]?S[0]:C[0],P=S[0]<C[0]?C[0]:S[0];for(let ie=S[1];ie<=C[1];ie++){const re=B.translateBufferLineToString(ie,!0,$,P);L.push(re)}}else{const $=S[1]===C[1]?C[0]:void 0;L.push(B.translateBufferLineToString(S[1],!0,S[0],$));for(let P=S[1]+1;P<=C[1]-1;P++){const ie=B.lines.get(P),re=B.translateBufferLineToString(P,!0);ie!=null&&ie.isWrapped?L[L.length-1]+=re:L.push(re)}if(S[1]!==C[1]){const P=B.lines.get(C[1]),ie=B.translateBufferLineToString(C[1],!0,0,C[0]);P&&P.isWrapped?L[L.length-1]+=ie:L.push(ie)}}return L.map($=>$.replace(A," ")).join(v.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(S){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),v.isLinux&&S&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(S){const C=this._getMouseBufferCoords(S),B=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!!(B&&L&&C)&&this._areCoordsInSelection(C,B,L)}isCellInSelection(S,C){const B=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!B||!L)&&this._areCoordsInSelection([S,C],B,L)}_areCoordsInSelection(S,C,B){return S[1]>C[1]&&S[1]<B[1]||C[1]===B[1]&&S[1]===C[1]&&S[0]>=C[0]&&S[0]<B[0]||C[1]<B[1]&&S[1]===B[1]&&S[0]<B[0]||C[1]<B[1]&&S[1]===C[1]&&S[0]>=C[0]}_selectWordAtCursor(S,C){var $,P;const B=(P=($=this._linkifier.currentLink)==null?void 0:$.link)==null?void 0:P.range;if(B)return this._model.selectionStart=[B.start.x-1,B.start.y-1],this._model.selectionStartLength=(0,p.getRangeLength)(B,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const L=this._getMouseBufferCoords(S);return!!L&&(this._selectWordAt(L,C),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(S,C){this._model.clearSelection(),S=Math.max(S,0),C=Math.min(C,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,S],this._model.selectionEnd=[this._bufferService.cols,C],this.refresh(),this._onSelectionChange.fire()}_handleTrim(S){this._model.handleTrim(S)&&this.refresh()}_getMouseBufferCoords(S){const C=this._mouseService.getCoords(S,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(C)return C[0]--,C[1]--,C[1]+=this._bufferService.buffer.ydisp,C}_getMouseEventScrollAmount(S){let C=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,S,this._screenElement)[1];const B=this._renderService.dimensions.css.canvas.height;return C>=0&&C<=B?0:(C>B&&(C-=B),C=Math.min(Math.max(C,-50),50),C/=50,C/Math.abs(C)+Math.round(14*C))}shouldForceSelection(S){return v.isMac?S.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:S.shiftKey}handleMouseDown(S){if(this._mouseDownTimeStamp=S.timeStamp,(S.button!==2||!this.hasSelection)&&S.button===0){if(!this._enabled){if(!this.shouldForceSelection(S))return;S.stopPropagation()}S.preventDefault(),this._dragScrollAmount=0,this._enabled&&S.shiftKey?this._handleIncrementalClick(S):S.detail===1?this._handleSingleClick(S):S.detail===2?this._handleDoubleClick(S):S.detail===3&&this._handleTripleClick(S),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(S){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(S))}_handleSingleClick(S){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(S)?3:0,this._model.selectionStart=this._getMouseBufferCoords(S),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const C=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);C&&C.length!==this._model.selectionStart[0]&&C.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(S){this._selectWordAtCursor(S,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(S){const C=this._getMouseBufferCoords(S);C&&(this._activeSelectionMode=2,this._selectLineAt(C[1]))}shouldColumnSelect(S){return S.altKey&&!(v.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(S){if(S.stopImmediatePropagation(),!this._model.selectionStart)return;const C=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(S),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(S),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const B=this._bufferService.buffer;if(this._model.selectionEnd[1]<B.lines.length){const L=B.lines.get(this._model.selectionEnd[1]);L&&L.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}C&&C[0]===this._model.selectionEnd[0]&&C[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const S=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(S.ydisp+this._bufferService.rows,S.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=S.ydisp),this.refresh()}}_handleMouseUp(S){const C=S.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&C<500&&S.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const B=this._mouseService.getCoords(S,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(B&&B[0]!==void 0&&B[1]!==void 0){const L=(0,g.moveToCellSequence)(B[0]-1,B[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(L,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const S=this._model.finalSelectionStart,C=this._model.finalSelectionEnd,B=!(!S||!C||S[0]===C[0]&&S[1]===C[1]);B?S&&C&&(this._oldSelectionStart&&this._oldSelectionEnd&&S[0]===this._oldSelectionStart[0]&&S[1]===this._oldSelectionStart[1]&&C[0]===this._oldSelectionEnd[0]&&C[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(S,C,B)):this._oldHasSelection&&this._fireOnSelectionChange(S,C,B)}_fireOnSelectionChange(S,C,B){this._oldSelectionStart=S,this._oldSelectionEnd=C,this._oldHasSelection=B,this._onSelectionChange.fire()}_handleBufferActivate(S){this.clearSelection(),this._trimListener.dispose(),this._trimListener=S.activeBuffer.lines.onTrim(C=>this._handleTrim(C))}_convertViewportColToCharacterIndex(S,C){let B=C;for(let L=0;C>=L;L++){const $=S.loadCell(L,this._workCell).getChars().length;this._workCell.getWidth()===0?B--:$>1&&C!==L&&(B+=$-1)}return B}setSelection(S,C,B){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[S,C],this._model.selectionStartLength=B,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(S){this._isClickInSelection(S)||(this._selectWordAtCursor(S,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(S,C,B=!0,L=!0){if(S[0]>=this._bufferService.cols)return;const $=this._bufferService.buffer,P=$.lines.get(S[1]);if(!P)return;const ie=$.translateBufferLineToString(S[1],!1);let re=this._convertViewportColToCharacterIndex(P,S[0]),I=re;const ue=S[0]-re;let se=0,R=0,K=0,G=0;if(ie.charAt(re)===" "){for(;re>0&&ie.charAt(re-1)===" ";)re--;for(;I<ie.length&&ie.charAt(I+1)===" ";)I++}else{let Ae=S[0],Me=S[0];P.getWidth(Ae)===0&&(se++,Ae--),P.getWidth(Me)===2&&(R++,Me++);const ye=P.getString(Me).length;for(ye>1&&(G+=ye-1,I+=ye-1);Ae>0&&re>0&&!this._isCharWordSeparator(P.loadCell(Ae-1,this._workCell));){P.loadCell(Ae-1,this._workCell);const W=this._workCell.getChars().length;this._workCell.getWidth()===0?(se++,Ae--):W>1&&(K+=W-1,re-=W-1),re--,Ae--}for(;Me<P.length&&I+1<ie.length&&!this._isCharWordSeparator(P.loadCell(Me+1,this._workCell));){P.loadCell(Me+1,this._workCell);const W=this._workCell.getChars().length;this._workCell.getWidth()===2?(R++,Me++):W>1&&(G+=W-1,I+=W-1),I++,Me++}}I++;let U=re+ue-se+K,pe=Math.min(this._bufferService.cols,I-re+se+R-K-G);if(C||ie.slice(re,I).trim()!==""){if(B&&U===0&&P.getCodePoint(0)!==32){const Ae=$.lines.get(S[1]-1);if(Ae&&P.isWrapped&&Ae.getCodePoint(this._bufferService.cols-1)!==32){const Me=this._getWordAt([this._bufferService.cols-1,S[1]-1],!1,!0,!1);if(Me){const ye=this._bufferService.cols-Me.start;U-=ye,pe+=ye}}}if(L&&U+pe===this._bufferService.cols&&P.getCodePoint(this._bufferService.cols-1)!==32){const Ae=$.lines.get(S[1]+1);if(Ae!=null&&Ae.isWrapped&&Ae.getCodePoint(0)!==32){const Me=this._getWordAt([0,S[1]+1],!1,!1,!0);Me&&(pe+=Me.length)}}return{start:U,length:pe}}}_selectWordAt(S,C){const B=this._getWordAt(S,C);if(B){for(;B.start<0;)B.start+=this._bufferService.cols,S[1]--;this._model.selectionStart=[B.start,S[1]],this._model.selectionStartLength=B.length}}_selectToWordAt(S){const C=this._getWordAt(S,!0);if(C){let B=S[1];for(;C.start<0;)C.start+=this._bufferService.cols,B--;if(!this._model.areSelectionValuesReversed())for(;C.start+C.length>this._bufferService.cols;)C.length-=this._bufferService.cols,B++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?C.start:C.start+C.length,B]}}_isCharWordSeparator(S){return S.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(S.getChars())>=0}_selectLineAt(S){const C=this._bufferService.buffer.getWrappedRangeForLine(S),B={start:{x:0,y:C.first},end:{x:this._bufferService.cols-1,y:C.last}};this._model.selectionStart=[0,C.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,p.getRangeLength)(B,this._bufferService.cols)}};n.SelectionService=D=u([d(3,y.IBufferService),d(4,y.ICoreService),d(5,w.IMouseService),d(6,y.IOptionsService),d(7,w.IRenderService),d(8,w.ICoreBrowserService)],D)},4725:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ILinkProviderService=n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const u=c(8343);n.ICharSizeService=(0,u.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),n.IMouseService=(0,u.createDecorator)("MouseService"),n.IRenderService=(0,u.createDecorator)("RenderService"),n.ISelectionService=(0,u.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,u.createDecorator)("ThemeService"),n.ILinkProviderService=(0,u.createDecorator)("LinkProviderService")},6731:function(l,n,c){var u=this&&this.__decorate||function(D,S,C,B){var L,$=arguments.length,P=$<3?S:B===null?B=Object.getOwnPropertyDescriptor(S,C):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(D,S,C,B);else for(var ie=D.length-1;ie>=0;ie--)(L=D[ie])&&(P=($<3?L(P):$>3?L(S,C,P):L(S,C))||P);return $>3&&P&&Object.defineProperty(S,C,P),P},d=this&&this.__param||function(D,S){return function(C,B){S(C,B,D)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const h=c(7239),g=c(8055),_=c(8460),w=c(844),b=c(2585),m=g.css.toColor("#ffffff"),v=g.css.toColor("#000000"),p=g.css.toColor("#ffffff"),x=g.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const D=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],S=[0,95,135,175,215,255];for(let C=0;C<216;C++){const B=S[C/36%6|0],L=S[C/6%6|0],$=S[C%6];D.push({css:g.channels.toCss(B,L,$),rgba:g.channels.toRgba(B,L,$)})}for(let C=0;C<24;C++){const B=8+10*C;D.push({css:g.channels.toCss(B,B,B),rgba:g.channels.toRgba(B,B,B)})}return D})());let E=n.ThemeService=class extends w.Disposable{get colors(){return this._colors}constructor(D){super(),this._optionsService=D,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new _.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:v,cursor:p,cursorAccent:x,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:g.color.blend(v,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:g.color.blend(v,y),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(D={}){const S=this._colors;if(S.foreground=A(D.foreground,m),S.background=A(D.background,v),S.cursor=A(D.cursor,p),S.cursorAccent=A(D.cursorAccent,x),S.selectionBackgroundTransparent=A(D.selectionBackground,y),S.selectionBackgroundOpaque=g.color.blend(S.background,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundTransparent=A(D.selectionInactiveBackground,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundOpaque=g.color.blend(S.background,S.selectionInactiveBackgroundTransparent),S.selectionForeground=D.selectionForeground?A(D.selectionForeground,g.NULL_COLOR):void 0,S.selectionForeground===g.NULL_COLOR&&(S.selectionForeground=void 0),g.color.isOpaque(S.selectionBackgroundTransparent)&&(S.selectionBackgroundTransparent=g.color.opacity(S.selectionBackgroundTransparent,.3)),g.color.isOpaque(S.selectionInactiveBackgroundTransparent)&&(S.selectionInactiveBackgroundTransparent=g.color.opacity(S.selectionInactiveBackgroundTransparent,.3)),S.ansi=n.DEFAULT_ANSI_COLORS.slice(),S.ansi[0]=A(D.black,n.DEFAULT_ANSI_COLORS[0]),S.ansi[1]=A(D.red,n.DEFAULT_ANSI_COLORS[1]),S.ansi[2]=A(D.green,n.DEFAULT_ANSI_COLORS[2]),S.ansi[3]=A(D.yellow,n.DEFAULT_ANSI_COLORS[3]),S.ansi[4]=A(D.blue,n.DEFAULT_ANSI_COLORS[4]),S.ansi[5]=A(D.magenta,n.DEFAULT_ANSI_COLORS[5]),S.ansi[6]=A(D.cyan,n.DEFAULT_ANSI_COLORS[6]),S.ansi[7]=A(D.white,n.DEFAULT_ANSI_COLORS[7]),S.ansi[8]=A(D.brightBlack,n.DEFAULT_ANSI_COLORS[8]),S.ansi[9]=A(D.brightRed,n.DEFAULT_ANSI_COLORS[9]),S.ansi[10]=A(D.brightGreen,n.DEFAULT_ANSI_COLORS[10]),S.ansi[11]=A(D.brightYellow,n.DEFAULT_ANSI_COLORS[11]),S.ansi[12]=A(D.brightBlue,n.DEFAULT_ANSI_COLORS[12]),S.ansi[13]=A(D.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),S.ansi[14]=A(D.brightCyan,n.DEFAULT_ANSI_COLORS[14]),S.ansi[15]=A(D.brightWhite,n.DEFAULT_ANSI_COLORS[15]),D.extendedAnsi){const C=Math.min(S.ansi.length-16,D.extendedAnsi.length);for(let B=0;B<C;B++)S.ansi[B+16]=A(D.extendedAnsi[B],n.DEFAULT_ANSI_COLORS[B+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(D){this._restoreColor(D),this._onChangeColors.fire(this.colors)}_restoreColor(D){if(D!==void 0)switch(D){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[D]=this._restoreColors.ansi[D]}else for(let S=0;S<this._restoreColors.ansi.length;++S)this._colors.ansi[S]=this._restoreColors.ansi[S]}modifyColors(D){D(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function A(D,S){if(D!==void 0)try{return g.css.toColor(D)}catch{}return S}n.ThemeService=E=u([d(0,b.IOptionsService)],E)},6349:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const u=c(8460),d=c(844);class h extends d.Disposable{constructor(_){super(),this._maxLength=_,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(_){if(this._maxLength===_)return;const w=new Array(_);for(let b=0;b<Math.min(_,this.length);b++)w[b]=this._array[this._getCyclicIndex(b)];this._array=w,this._maxLength=_,this._startIndex=0}get length(){return this._length}set length(_){if(_>this._length)for(let w=this._length;w<_;w++)this._array[w]=void 0;this._length=_}get(_){return this._array[this._getCyclicIndex(_)]}set(_,w){this._array[this._getCyclicIndex(_)]=w}push(_){this._array[this._getCyclicIndex(this._length)]=_,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(_,w,...b){if(w){for(let m=_;m<this._length-w;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+w)];this._length-=w,this.onDeleteEmitter.fire({index:_,amount:w})}for(let m=this._length-1;m>=_;m--)this._array[this._getCyclicIndex(m+b.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<b.length;m++)this._array[this._getCyclicIndex(_+m)]=b[m];if(b.length&&this.onInsertEmitter.fire({index:_,amount:b.length}),this._length+b.length>this._maxLength){const m=this._length+b.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=b.length}trimStart(_){_>this._length&&(_=this._length),this._startIndex+=_,this._length-=_,this.onTrimEmitter.fire(_)}shiftElements(_,w,b){if(!(w<=0)){if(_<0||_>=this._length)throw new Error("start argument out of range");if(_+b<0)throw new Error("Cannot shift elements in list beyond index 0");if(b>0){for(let v=w-1;v>=0;v--)this.set(_+v+b,this.get(_+v));const m=_+w+b-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<w;m++)this.set(_+m+b,this.get(_+m))}}_getCyclicIndex(_){return(this._startIndex+_)%this._maxLength}}n.CircularList=h},1439:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function c(u,d=5){if(typeof u!="object")return u;const h=Array.isArray(u)?[]:{};for(const g in u)h[g]=d<=1?u[g]:u[g]&&c(u[g],d-1);return h}},8055:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;let c=0,u=0,d=0,h=0;var g,_,w,b,m;function v(x){const y=x.toString(16);return y.length<2?"0"+y:y}function p(x,y){return x<y?(y+.05)/(x+.05):(x+.05)/(y+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(x){x.toCss=function(y,E,A,D){return D!==void 0?`#${v(y)}${v(E)}${v(A)}${v(D)}`:`#${v(y)}${v(E)}${v(A)}`},x.toRgba=function(y,E,A,D=255){return(y<<24|E<<16|A<<8|D)>>>0},x.toColor=function(y,E,A,D){return{css:x.toCss(y,E,A,D),rgba:x.toRgba(y,E,A,D)}}}(g||(n.channels=g={})),function(x){function y(E,A){return h=Math.round(255*A),[c,u,d]=m.toChannels(E.rgba),{css:g.toCss(c,u,d,h),rgba:g.toRgba(c,u,d,h)}}x.blend=function(E,A){if(h=(255&A.rgba)/255,h===1)return{css:A.css,rgba:A.rgba};const D=A.rgba>>24&255,S=A.rgba>>16&255,C=A.rgba>>8&255,B=E.rgba>>24&255,L=E.rgba>>16&255,$=E.rgba>>8&255;return c=B+Math.round((D-B)*h),u=L+Math.round((S-L)*h),d=$+Math.round((C-$)*h),{css:g.toCss(c,u,d),rgba:g.toRgba(c,u,d)}},x.isOpaque=function(E){return(255&E.rgba)==255},x.ensureContrastRatio=function(E,A,D){const S=m.ensureContrastRatio(E.rgba,A.rgba,D);if(S)return g.toColor(S>>24&255,S>>16&255,S>>8&255)},x.opaque=function(E){const A=(255|E.rgba)>>>0;return[c,u,d]=m.toChannels(A),{css:g.toCss(c,u,d),rgba:A}},x.opacity=y,x.multiplyOpacity=function(E,A){return h=255&E.rgba,y(E,h*A/255)},x.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}}(_||(n.color=_={})),function(x){let y,E;try{const A=document.createElement("canvas");A.width=1,A.height=1;const D=A.getContext("2d",{willReadFrequently:!0});D&&(y=D,y.globalCompositeOperation="copy",E=y.createLinearGradient(0,0,1,1))}catch{}x.toColor=function(A){if(A.match(/#[\da-f]{3,8}/i))switch(A.length){case 4:return c=parseInt(A.slice(1,2).repeat(2),16),u=parseInt(A.slice(2,3).repeat(2),16),d=parseInt(A.slice(3,4).repeat(2),16),g.toColor(c,u,d);case 5:return c=parseInt(A.slice(1,2).repeat(2),16),u=parseInt(A.slice(2,3).repeat(2),16),d=parseInt(A.slice(3,4).repeat(2),16),h=parseInt(A.slice(4,5).repeat(2),16),g.toColor(c,u,d,h);case 7:return{css:A,rgba:(parseInt(A.slice(1),16)<<8|255)>>>0};case 9:return{css:A,rgba:parseInt(A.slice(1),16)>>>0}}const D=A.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(D)return c=parseInt(D[1]),u=parseInt(D[2]),d=parseInt(D[3]),h=Math.round(255*(D[5]===void 0?1:parseFloat(D[5]))),g.toColor(c,u,d,h);if(!y||!E)throw new Error("css.toColor: Unsupported css format");if(y.fillStyle=E,y.fillStyle=A,typeof y.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(y.fillRect(0,0,1,1),[c,u,d,h]=y.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(c,u,d,h),css:A}}}(w||(n.css=w={})),function(x){function y(E,A,D){const S=E/255,C=A/255,B=D/255;return .2126*(S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4))+.7152*(C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))+.0722*(B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4))}x.relativeLuminance=function(E){return y(E>>16&255,E>>8&255,255&E)},x.relativeLuminance2=y}(b||(n.rgb=b={})),function(x){function y(A,D,S){const C=A>>24&255,B=A>>16&255,L=A>>8&255;let $=D>>24&255,P=D>>16&255,ie=D>>8&255,re=p(b.relativeLuminance2($,P,ie),b.relativeLuminance2(C,B,L));for(;re<S&&($>0||P>0||ie>0);)$-=Math.max(0,Math.ceil(.1*$)),P-=Math.max(0,Math.ceil(.1*P)),ie-=Math.max(0,Math.ceil(.1*ie)),re=p(b.relativeLuminance2($,P,ie),b.relativeLuminance2(C,B,L));return($<<24|P<<16|ie<<8|255)>>>0}function E(A,D,S){const C=A>>24&255,B=A>>16&255,L=A>>8&255;let $=D>>24&255,P=D>>16&255,ie=D>>8&255,re=p(b.relativeLuminance2($,P,ie),b.relativeLuminance2(C,B,L));for(;re<S&&($<255||P<255||ie<255);)$=Math.min(255,$+Math.ceil(.1*(255-$))),P=Math.min(255,P+Math.ceil(.1*(255-P))),ie=Math.min(255,ie+Math.ceil(.1*(255-ie))),re=p(b.relativeLuminance2($,P,ie),b.relativeLuminance2(C,B,L));return($<<24|P<<16|ie<<8|255)>>>0}x.blend=function(A,D){if(h=(255&D)/255,h===1)return D;const S=D>>24&255,C=D>>16&255,B=D>>8&255,L=A>>24&255,$=A>>16&255,P=A>>8&255;return c=L+Math.round((S-L)*h),u=$+Math.round((C-$)*h),d=P+Math.round((B-P)*h),g.toRgba(c,u,d)},x.ensureContrastRatio=function(A,D,S){const C=b.relativeLuminance(A>>8),B=b.relativeLuminance(D>>8);if(p(C,B)<S){if(B<C){const P=y(A,D,S),ie=p(C,b.relativeLuminance(P>>8));if(ie<S){const re=E(A,D,S);return ie>p(C,b.relativeLuminance(re>>8))?P:re}return P}const L=E(A,D,S),$=p(C,b.relativeLuminance(L>>8));if($<S){const P=y(A,D,S);return $>p(C,b.relativeLuminance(P>>8))?L:P}return L}},x.reduceLuminance=y,x.increaseLuminance=E,x.toChannels=function(A){return[A>>24&255,A>>16&255,A>>8&255,255&A]}}(m||(n.rgba=m={})),n.toPaddedHex=v,n.contrastRatio=p},8969:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const u=c(844),d=c(2585),h=c(4348),g=c(7866),_=c(744),w=c(7302),b=c(6975),m=c(8460),v=c(1753),p=c(1480),x=c(7994),y=c(9282),E=c(5435),A=c(5981),D=c(2660);let S=!1;class C extends u.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(L=>{var $;($=this._onScrollApi)==null||$.fire(L.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(L){for(const $ in L)this.optionsService.options[$]=L[$]}constructor(L){super(),this._windowsWrappingHeuristics=this.register(new u.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new w.OptionsService(L)),this._instantiationService.setService(d.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(_.BufferService)),this._instantiationService.setService(d.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(d.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(b.CoreService)),this._instantiationService.setService(d.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(v.CoreMouseService)),this._instantiationService.setService(d.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(p.UnicodeService)),this._instantiationService.setService(d.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(x.CharsetService),this._instantiationService.setService(d.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(D.OscLinkService),this._instantiationService.setService(d.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new E.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new A.WriteBuffer(($,P)=>this._inputHandler.parse($,P))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(L,$){this._writeBuffer.write(L,$)}writeSync(L,$){this._logService.logLevel<=d.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(L,$)}input(L,$=!0){this.coreService.triggerDataEvent(L,$)}resize(L,$){isNaN(L)||isNaN($)||(L=Math.max(L,_.MINIMUM_COLS),$=Math.max($,_.MINIMUM_ROWS),this._bufferService.resize(L,$))}scroll(L,$=!1){this._bufferService.scroll(L,$)}scrollLines(L,$,P){this._bufferService.scrollLines(L,$,P)}scrollPages(L){this.scrollLines(L*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(L){const $=L-this._bufferService.buffer.ydisp;$!==0&&this.scrollLines($)}registerEscHandler(L,$){return this._inputHandler.registerEscHandler(L,$)}registerDcsHandler(L,$){return this._inputHandler.registerDcsHandler(L,$)}registerCsiHandler(L,$){return this._inputHandler.registerCsiHandler(L,$)}registerOscHandler(L,$){return this._inputHandler.registerOscHandler(L,$)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let L=!1;const $=this.optionsService.rawOptions.windowsPty;$&&$.buildNumber!==void 0&&$.buildNumber!==void 0?L=$.backend==="conpty"&&$.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(L=!0),L?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const L=[];L.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),L.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,u.toDisposable)(()=>{for(const $ of L)$.dispose()})}}}n.CoreTerminal=C},8460:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.runAndSubscribe=n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===c)return void this._listeners.splice(u,1)}}})),this._event}fire(c,u){const d=[];for(let h=0;h<this._listeners.length;h++)d.push(this._listeners[h]);for(let h=0;h<d.length;h++)d[h].call(void 0,c,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(c,u){return c(d=>u.fire(d))},n.runAndSubscribe=function(c,u){return u(void 0),c(d=>u(d))}},5435:function(l,n,c){var u=this&&this.__decorate||function(se,R,K,G){var U,pe=arguments.length,Ae=pe<3?R:G===null?G=Object.getOwnPropertyDescriptor(R,K):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(se,R,K,G);else for(var Me=se.length-1;Me>=0;Me--)(U=se[Me])&&(Ae=(pe<3?U(Ae):pe>3?U(R,K,Ae):U(R,K))||Ae);return pe>3&&Ae&&Object.defineProperty(R,K,Ae),Ae},d=this&&this.__param||function(se,R){return function(K,G){R(K,G,se)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const h=c(2584),g=c(7116),_=c(2015),w=c(844),b=c(482),m=c(8437),v=c(8460),p=c(643),x=c(511),y=c(3734),E=c(2585),A=c(1480),D=c(6242),S=c(6351),C=c(5941),B={"(":0,")":1,"*":2,"+":3,"-":1,".":2},L=131072;function $(se,R){if(se>24)return R.setWinLines||!1;switch(se){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var P;(function(se){se[se.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",se[se.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(P||(n.WindowsOptionsReportType=P={}));let ie=0;class re extends w.Disposable{getAttrData(){return this._curAttrData}constructor(R,K,G,U,pe,Ae,Me,ye,W=new _.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=K,this._coreService=G,this._logService=U,this._optionsService=pe,this._oscLinkService=Ae,this._coreMouseService=Me,this._unicodeService=ye,this._parser=W,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new b.StringToUtf32,this._utf8Decoder=new b.Utf8ToUtf32,this._workCell=new x.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new v.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new v.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new v.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new v.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new v.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new v.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new v.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new v.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new v.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new v.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new v.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new v.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new v.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new I(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(O=>this._activeBuffer=O.activeBuffer)),this._parser.setCsiHandlerFallback((O,q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(O),params:q.toArray()})}),this._parser.setEscHandlerFallback(O=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(O)})}),this._parser.setExecuteHandlerFallback(O=>{this._logService.debug("Unknown EXECUTE code: ",{code:O})}),this._parser.setOscHandlerFallback((O,q,X)=>{this._logService.debug("Unknown OSC code: ",{identifier:O,action:q,data:X})}),this._parser.setDcsHandlerFallback((O,q,X)=>{q==="HOOK"&&(X=X.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(O),action:q,payload:X})}),this._parser.setPrintHandler((O,q,X)=>this.print(O,q,X)),this._parser.registerCsiHandler({final:"@"},O=>this.insertChars(O)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},O=>this.scrollLeft(O)),this._parser.registerCsiHandler({final:"A"},O=>this.cursorUp(O)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},O=>this.scrollRight(O)),this._parser.registerCsiHandler({final:"B"},O=>this.cursorDown(O)),this._parser.registerCsiHandler({final:"C"},O=>this.cursorForward(O)),this._parser.registerCsiHandler({final:"D"},O=>this.cursorBackward(O)),this._parser.registerCsiHandler({final:"E"},O=>this.cursorNextLine(O)),this._parser.registerCsiHandler({final:"F"},O=>this.cursorPrecedingLine(O)),this._parser.registerCsiHandler({final:"G"},O=>this.cursorCharAbsolute(O)),this._parser.registerCsiHandler({final:"H"},O=>this.cursorPosition(O)),this._parser.registerCsiHandler({final:"I"},O=>this.cursorForwardTab(O)),this._parser.registerCsiHandler({final:"J"},O=>this.eraseInDisplay(O,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},O=>this.eraseInDisplay(O,!0)),this._parser.registerCsiHandler({final:"K"},O=>this.eraseInLine(O,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},O=>this.eraseInLine(O,!0)),this._parser.registerCsiHandler({final:"L"},O=>this.insertLines(O)),this._parser.registerCsiHandler({final:"M"},O=>this.deleteLines(O)),this._parser.registerCsiHandler({final:"P"},O=>this.deleteChars(O)),this._parser.registerCsiHandler({final:"S"},O=>this.scrollUp(O)),this._parser.registerCsiHandler({final:"T"},O=>this.scrollDown(O)),this._parser.registerCsiHandler({final:"X"},O=>this.eraseChars(O)),this._parser.registerCsiHandler({final:"Z"},O=>this.cursorBackwardTab(O)),this._parser.registerCsiHandler({final:"`"},O=>this.charPosAbsolute(O)),this._parser.registerCsiHandler({final:"a"},O=>this.hPositionRelative(O)),this._parser.registerCsiHandler({final:"b"},O=>this.repeatPrecedingCharacter(O)),this._parser.registerCsiHandler({final:"c"},O=>this.sendDeviceAttributesPrimary(O)),this._parser.registerCsiHandler({prefix:">",final:"c"},O=>this.sendDeviceAttributesSecondary(O)),this._parser.registerCsiHandler({final:"d"},O=>this.linePosAbsolute(O)),this._parser.registerCsiHandler({final:"e"},O=>this.vPositionRelative(O)),this._parser.registerCsiHandler({final:"f"},O=>this.hVPosition(O)),this._parser.registerCsiHandler({final:"g"},O=>this.tabClear(O)),this._parser.registerCsiHandler({final:"h"},O=>this.setMode(O)),this._parser.registerCsiHandler({prefix:"?",final:"h"},O=>this.setModePrivate(O)),this._parser.registerCsiHandler({final:"l"},O=>this.resetMode(O)),this._parser.registerCsiHandler({prefix:"?",final:"l"},O=>this.resetModePrivate(O)),this._parser.registerCsiHandler({final:"m"},O=>this.charAttributes(O)),this._parser.registerCsiHandler({final:"n"},O=>this.deviceStatus(O)),this._parser.registerCsiHandler({prefix:"?",final:"n"},O=>this.deviceStatusPrivate(O)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},O=>this.softReset(O)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},O=>this.setCursorStyle(O)),this._parser.registerCsiHandler({final:"r"},O=>this.setScrollRegion(O)),this._parser.registerCsiHandler({final:"s"},O=>this.saveCursor(O)),this._parser.registerCsiHandler({final:"t"},O=>this.windowOptions(O)),this._parser.registerCsiHandler({final:"u"},O=>this.restoreCursor(O)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},O=>this.insertColumns(O)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},O=>this.deleteColumns(O)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},O=>this.selectProtected(O)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},O=>this.requestMode(O,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},O=>this.requestMode(O,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new D.OscHandler(O=>(this.setTitle(O),this.setIconName(O),!0))),this._parser.registerOscHandler(1,new D.OscHandler(O=>this.setIconName(O))),this._parser.registerOscHandler(2,new D.OscHandler(O=>this.setTitle(O))),this._parser.registerOscHandler(4,new D.OscHandler(O=>this.setOrReportIndexedColor(O))),this._parser.registerOscHandler(8,new D.OscHandler(O=>this.setHyperlink(O))),this._parser.registerOscHandler(10,new D.OscHandler(O=>this.setOrReportFgColor(O))),this._parser.registerOscHandler(11,new D.OscHandler(O=>this.setOrReportBgColor(O))),this._parser.registerOscHandler(12,new D.OscHandler(O=>this.setOrReportCursorColor(O))),this._parser.registerOscHandler(104,new D.OscHandler(O=>this.restoreIndexedColor(O))),this._parser.registerOscHandler(110,new D.OscHandler(O=>this.restoreFgColor(O))),this._parser.registerOscHandler(111,new D.OscHandler(O=>this.restoreBgColor(O))),this._parser.registerOscHandler(112,new D.OscHandler(O=>this.restoreCursorColor(O))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const O in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:O},()=>this.selectCharset("("+O)),this._parser.registerEscHandler({intermediates:")",final:O},()=>this.selectCharset(")"+O)),this._parser.registerEscHandler({intermediates:"*",final:O},()=>this.selectCharset("*"+O)),this._parser.registerEscHandler({intermediates:"+",final:O},()=>this.selectCharset("+"+O)),this._parser.registerEscHandler({intermediates:"-",final:O},()=>this.selectCharset("-"+O)),this._parser.registerEscHandler({intermediates:".",final:O},()=>this.selectCharset("."+O)),this._parser.registerEscHandler({intermediates:"/",final:O},()=>this.selectCharset("/"+O));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(O=>(this._logService.error("Parsing error: ",O),O)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new S.DcsHandler((O,q)=>this.requestStatusString(O,q)))}_preserveStack(R,K,G,U){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=K,this._parseStack.decodedLength=G,this._parseStack.position=U}_logSlowResolvingAsync(R){this._logService.logLevel<=E.LogLevelEnum.WARN&&Promise.race([R,new Promise((K,G)=>setTimeout(()=>G("#SLOW_TIMEOUT"),5e3))]).catch(K=>{if(K!=="#SLOW_TIMEOUT")throw K;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,K){let G,U=this._activeBuffer.x,pe=this._activeBuffer.y,Ae=0;const Me=this._parseStack.paused;if(Me){if(G=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,K))return this._logSlowResolvingAsync(G),G;U=this._parseStack.cursorStartX,pe=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>L&&(Ae=this._parseStack.position+L)}if(this._logService.logLevel<=E.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,O=>String.fromCharCode(O)).join("")}"`),typeof R=="string"?R.split("").map(O=>O.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<L&&(this._parseBuffer=new Uint32Array(Math.min(R.length,L))),Me||this._dirtyRowTracker.clearRange(),R.length>L)for(let O=Ae;O<R.length;O+=L){const q=O+L<R.length?O+L:R.length,X=typeof R=="string"?this._stringDecoder.decode(R.substring(O,q),this._parseBuffer):this._utf8Decoder.decode(R.subarray(O,q),this._parseBuffer);if(G=this._parser.parse(this._parseBuffer,X))return this._preserveStack(U,pe,X,O),this._logSlowResolvingAsync(G),G}else if(!Me){const O=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(G=this._parser.parse(this._parseBuffer,O))return this._preserveStack(U,pe,O,0),this._logSlowResolvingAsync(G),G}this._activeBuffer.x===U&&this._activeBuffer.y===pe||this._onCursorMove.fire();const ye=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),W=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);W<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(W,this._bufferService.rows-1),Math.min(ye,this._bufferService.rows-1))}print(R,K,G){let U,pe;const Ae=this._charsetService.charset,Me=this._optionsService.rawOptions.screenReaderMode,ye=this._bufferService.cols,W=this._coreService.decPrivateModes.wraparound,O=this._coreService.modes.insertMode,q=this._curAttrData;let X=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&G-K>0&&X.getWidth(this._activeBuffer.x-1)===2&&X.setCellFromCodepoint(this._activeBuffer.x-1,0,1,q);let ge=this._parser.precedingJoinState;for(let z=K;z<G;++z){if(U=R[z],U<127&&Ae){const xe=Ae[String.fromCharCode(U)];xe&&(U=xe.charCodeAt(0))}const J=this._unicodeService.charProperties(U,ge);pe=A.UnicodeService.extractWidth(J);const ne=A.UnicodeService.extractShouldJoin(J),fe=ne?A.UnicodeService.extractWidth(ge):0;if(ge=J,Me&&this._onA11yChar.fire((0,b.stringFromCodePoint)(U)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+pe-fe>ye){if(W){const xe=X;let ae=this._activeBuffer.x-fe;for(this._activeBuffer.x=fe,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),X=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),fe>0&&X instanceof m.BufferLine&&X.copyCellsFrom(xe,ae,0,fe,!1);ae<ye;)xe.setCellFromCodepoint(ae++,0,1,q)}else if(this._activeBuffer.x=ye-1,pe===2)continue}if(ne&&this._activeBuffer.x){const xe=X.getWidth(this._activeBuffer.x-1)?1:2;X.addCodepointToCell(this._activeBuffer.x-xe,U,pe);for(let ae=pe-fe;--ae>=0;)X.setCellFromCodepoint(this._activeBuffer.x++,0,0,q)}else if(O&&(X.insertCells(this._activeBuffer.x,pe-fe,this._activeBuffer.getNullCell(q)),X.getWidth(ye-1)===2&&X.setCellFromCodepoint(ye-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,q)),X.setCellFromCodepoint(this._activeBuffer.x++,U,pe,q),pe>0)for(;--pe;)X.setCellFromCodepoint(this._activeBuffer.x++,0,0,q)}this._parser.precedingJoinState=ge,this._activeBuffer.x<ye&&G-K>0&&X.getWidth(this._activeBuffer.x)===0&&!X.hasContent(this._activeBuffer.x)&&X.setCellFromCodepoint(this._activeBuffer.x,0,1,q),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,K){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,K):this._parser.registerCsiHandler(R,G=>!$(G.params[0],this._optionsService.rawOptions.windowOptions)||K(G))}registerDcsHandler(R,K){return this._parser.registerDcsHandler(R,new S.DcsHandler(K))}registerEscHandler(R,K){return this._parser.registerEscHandler(R,K)}registerOscHandler(R,K){return this._parser.registerOscHandler(R,new D.OscHandler(K))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);K.hasWidth(this._activeBuffer.x)&&!K.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,K){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+K):(this._activeBuffer.x=R,this._activeBuffer.y=K),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,K){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+K)}cursorUp(R){const K=this._activeBuffer.y-this._activeBuffer.scrollTop;return K>=0?this._moveCursor(0,-Math.min(K,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const K=this._activeBuffer.scrollBottom-this._activeBuffer.y;return K>=0?this._moveCursor(0,Math.min(K,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const K=R.params[0];return K===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:K===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let K=R.params[0]||1;for(;K--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let K=R.params[0]||1;for(;K--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const K=R.params[0];return K===1&&(this._curAttrData.bg|=536870912),K!==2&&K!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,K,G,U=!1,pe=!1){const Ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);Ae.replaceCells(K,G,this._activeBuffer.getNullCell(this._eraseAttrData()),pe),U&&(Ae.isWrapped=!1)}_resetBufferLine(R,K=!1){const G=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);G&&(G.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),K),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),G.isWrapped=!1)}eraseInDisplay(R,K=!1){let G;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(G=this._activeBuffer.y,this._dirtyRowTracker.markDirty(G),this._eraseInBufferLine(G++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,K);G<this._bufferService.rows;G++)this._resetBufferLine(G,K);this._dirtyRowTracker.markDirty(G);break;case 1:for(G=this._activeBuffer.y,this._dirtyRowTracker.markDirty(G),this._eraseInBufferLine(G,0,this._activeBuffer.x+1,!0,K),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(G+1).isWrapped=!1);G--;)this._resetBufferLine(G,K);this._dirtyRowTracker.markDirty(0);break;case 2:for(G=this._bufferService.rows,this._dirtyRowTracker.markDirty(G-1);G--;)this._resetBufferLine(G,K);this._dirtyRowTracker.markDirty(0);break;case 3:const U=this._activeBuffer.lines.length-this._bufferService.rows;U>0&&(this._activeBuffer.lines.trimStart(U),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-U,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-U,0),this._onScroll.fire(0))}return!0}eraseInLine(R,K=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,K);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,K);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,K)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let K=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const G=this._activeBuffer.ybase+this._activeBuffer.y,U=this._bufferService.rows-1-this._activeBuffer.scrollBottom,pe=this._bufferService.rows-1+this._activeBuffer.ybase-U+1;for(;K--;)this._activeBuffer.lines.splice(pe-1,1),this._activeBuffer.lines.splice(G,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let K=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const G=this._activeBuffer.ybase+this._activeBuffer.y;let U;for(U=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-U;K--;)this._activeBuffer.lines.splice(G,1),this._activeBuffer.lines.splice(U,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return K&&(K.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return K&&(K.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let K=R.params[0]||1;for(;K--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let K=R.params[0]||1;for(;K--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=R.params[0]||1;for(let G=this._activeBuffer.scrollTop;G<=this._activeBuffer.scrollBottom;++G){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+G);U.deleteCells(0,K,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=R.params[0]||1;for(let G=this._activeBuffer.scrollTop;G<=this._activeBuffer.scrollBottom;++G){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+G);U.insertCells(0,K,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=R.params[0]||1;for(let G=this._activeBuffer.scrollTop;G<=this._activeBuffer.scrollBottom;++G){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+G);U.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const K=R.params[0]||1;for(let G=this._activeBuffer.scrollTop;G<=this._activeBuffer.scrollBottom;++G){const U=this._activeBuffer.lines.get(this._activeBuffer.ybase+G);U.deleteCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(this._eraseAttrData())),U.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return K&&(K.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){const K=this._parser.precedingJoinState;if(!K)return!0;const G=R.params[0]||1,U=A.UnicodeService.extractWidth(K),pe=this._activeBuffer.x-U,Ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(pe),Me=new Uint32Array(Ae.length*G);let ye=0;for(let O=0;O<Ae.length;){const q=Ae.codePointAt(O)||0;Me[ye++]=q,O+=q>65535?2:1}let W=ye;for(let O=1;O<G;++O)Me.copyWithin(W,0,ye),W+=ye;return this.print(Me,0,W),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let K=0;K<R.length;K++)switch(R.params[K]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let K=0;K<R.length;K++)switch(R.params[K]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let K=0;K<R.length;K++)switch(R.params[K]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let K=0;K<R.length;K++)switch(R.params[K]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[K]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,K){const G=this._coreService.decPrivateModes,{activeProtocol:U,activeEncoding:pe}=this._coreMouseService,Ae=this._coreService,{buffers:Me,cols:ye}=this._bufferService,{active:W,alt:O}=Me,q=this._optionsService.rawOptions,X=ne=>ne?1:2,ge=R.params[0];return z=ge,J=K?ge===2?4:ge===4?X(Ae.modes.insertMode):ge===12?3:ge===20?X(q.convertEol):0:ge===1?X(G.applicationCursorKeys):ge===3?q.windowOptions.setWinLines?ye===80?2:ye===132?1:0:0:ge===6?X(G.origin):ge===7?X(G.wraparound):ge===8?3:ge===9?X(U==="X10"):ge===12?X(q.cursorBlink):ge===25?X(!Ae.isCursorHidden):ge===45?X(G.reverseWraparound):ge===66?X(G.applicationKeypad):ge===67?4:ge===1e3?X(U==="VT200"):ge===1002?X(U==="DRAG"):ge===1003?X(U==="ANY"):ge===1004?X(G.sendFocus):ge===1005?4:ge===1006?X(pe==="SGR"):ge===1015?4:ge===1016?X(pe==="SGR_PIXELS"):ge===1048?1:ge===47||ge===1047||ge===1049?X(W===O):ge===2004?X(G.bracketedPasteMode):0,Ae.triggerDataEvent(`${h.C0.ESC}[${K?"":"?"}${z};${J}$y`),!0;var z,J}_updateAttrColor(R,K,G,U,pe){return K===2?(R|=50331648,R&=-16777216,R|=y.AttributeData.fromColorRGB([G,U,pe])):K===5&&(R&=-50331904,R|=33554432|255&G),R}_extractColor(R,K,G){const U=[0,0,-1,0,0,0];let pe=0,Ae=0;do{if(U[Ae+pe]=R.params[K+Ae],R.hasSubParams(K+Ae)){const Me=R.getSubParams(K+Ae);let ye=0;do U[1]===5&&(pe=1),U[Ae+ye+1+pe]=Me[ye];while(++ye<Me.length&&ye+Ae+1+pe<U.length);break}if(U[1]===5&&Ae+pe>=2||U[1]===2&&Ae+pe>=5)break;U[1]&&(pe=1)}while(++Ae+K<R.length&&Ae+pe<U.length);for(let Me=2;Me<U.length;++Me)U[Me]===-1&&(U[Me]=0);switch(U[0]){case 38:G.fg=this._updateAttrColor(G.fg,U[1],U[3],U[4],U[5]);break;case 48:G.bg=this._updateAttrColor(G.bg,U[1],U[3],U[4],U[5]);break;case 58:G.extended=G.extended.clone(),G.extended.underlineColor=this._updateAttrColor(G.extended.underlineColor,U[1],U[3],U[4],U[5])}return Ae}_processUnderline(R,K){K.extended=K.extended.clone(),(!~R||R>5)&&(R=1),K.extended.underlineStyle=R,K.fg|=268435456,R===0&&(K.fg&=-268435457),K.updateExtended()}_processSGR0(R){R.fg=m.DEFAULT_ATTR_DATA.fg,R.bg=m.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const K=R.length;let G;const U=this._curAttrData;for(let pe=0;pe<K;pe++)G=R.params[pe],G>=30&&G<=37?(U.fg&=-50331904,U.fg|=16777216|G-30):G>=40&&G<=47?(U.bg&=-50331904,U.bg|=16777216|G-40):G>=90&&G<=97?(U.fg&=-50331904,U.fg|=16777224|G-90):G>=100&&G<=107?(U.bg&=-50331904,U.bg|=16777224|G-100):G===0?this._processSGR0(U):G===1?U.fg|=134217728:G===3?U.bg|=67108864:G===4?(U.fg|=268435456,this._processUnderline(R.hasSubParams(pe)?R.getSubParams(pe)[0]:1,U)):G===5?U.fg|=536870912:G===7?U.fg|=67108864:G===8?U.fg|=1073741824:G===9?U.fg|=2147483648:G===2?U.bg|=134217728:G===21?this._processUnderline(2,U):G===22?(U.fg&=-134217729,U.bg&=-134217729):G===23?U.bg&=-67108865:G===24?(U.fg&=-268435457,this._processUnderline(0,U)):G===25?U.fg&=-536870913:G===27?U.fg&=-67108865:G===28?U.fg&=-1073741825:G===29?U.fg&=2147483647:G===39?(U.fg&=-67108864,U.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):G===49?(U.bg&=-67108864,U.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):G===38||G===48||G===58?pe+=this._extractColor(R,pe,U):G===53?U.bg|=1073741824:G===55?U.bg&=-1073741825:G===59?(U.extended=U.extended.clone(),U.extended.underlineColor=-1,U.updateExtended()):G===100?(U.fg&=-67108864,U.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,U.bg&=-67108864,U.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",G);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const K=this._activeBuffer.y+1,G=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${K};${G}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const K=this._activeBuffer.y+1,G=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${K};${G}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const K=R.params[0]||1;switch(K){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const G=K%2==1;return this._optionsService.options.cursorBlink=G,!0}setScrollRegion(R){const K=R.params[0]||1;let G;return(R.length<2||(G=R.params[1])>this._bufferService.rows||G===0)&&(G=this._bufferService.rows),G>K&&(this._activeBuffer.scrollTop=K-1,this._activeBuffer.scrollBottom=G-1,this._setCursor(0,0)),!0}windowOptions(R){if(!$(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const K=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:K!==2&&this._onRequestWindowsOptionsReport.fire(P.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(P.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:K!==0&&K!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),K!==0&&K!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:K!==0&&K!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),K!==0&&K!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const K=[],G=R.split(";");for(;G.length>1;){const U=G.shift(),pe=G.shift();if(/^\d+$/.exec(U)){const Ae=parseInt(U);if(ue(Ae))if(pe==="?")K.push({type:0,index:Ae});else{const Me=(0,C.parseColor)(pe);Me&&K.push({type:1,index:Ae,color:Me})}}}return K.length&&this._onColor.fire(K),!0}setHyperlink(R){const K=R.split(";");return!(K.length<2)&&(K[1]?this._createHyperlink(K[0],K[1]):!K[0]&&this._finishHyperlink())}_createHyperlink(R,K){this._getCurrentLinkId()&&this._finishHyperlink();const G=R.split(":");let U;const pe=G.findIndex(Ae=>Ae.startsWith("id="));return pe!==-1&&(U=G[pe].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:U,uri:K}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,K){const G=R.split(";");for(let U=0;U<G.length&&!(K>=this._specialColors.length);++U,++K)if(G[U]==="?")this._onColor.fire([{type:0,index:this._specialColors[K]}]);else{const pe=(0,C.parseColor)(G[U]);pe&&this._onColor.fire([{type:1,index:this._specialColors[K],color:pe}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const K=[],G=R.split(";");for(let U=0;U<G.length;++U)if(/^\d+$/.exec(G[U])){const pe=parseInt(G[U]);ue(pe)&&K.push({type:2,index:pe})}return K.length&&this._onColor.fire(K),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(B[R[0]],g.CHARSETS[R[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new x.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let K=0;K<this._bufferService.rows;++K){const G=this._activeBuffer.ybase+this._activeBuffer.y+K,U=this._activeBuffer.lines.get(G);U&&(U.fill(R),U.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,K){const G=this._bufferService.buffer,U=this._optionsService.rawOptions;return(pe=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${pe}${h.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${G.scrollTop+1};${G.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[U.cursorStyle]-(U.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,K){this._dirtyRowTracker.markRangeDirty(R,K)}}n.InputHandler=re;let I=class{constructor(se){this._bufferService=se,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(se){se<this.start?this.start=se:se>this.end&&(this.end=se)}markRangeDirty(se,R){se>R&&(ie=se,se=R,R=ie),se<this.start&&(this.start=se),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ue(se){return 0<=se&&se<256}I=u([d(0,E.IBufferService)],I)},844:(l,n)=>{function c(u){for(const d of u)d.dispose();u.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const d=this._disposables.indexOf(u);d!==-1&&this._disposables.splice(d,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var d;this._isDisposed||u===this._value||((d=this._value)==null||d.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)==null||u.dispose(),this._value=void 0}},n.toDisposable=function(u){return{dispose:u}},n.disposeArray=c,n.getDisposeArrayDisposable=function(u){return{dispose:()=>c(u)}}},1505:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(d,h,g){this._data[d]||(this._data[d]={}),this._data[d][h]=g}get(d,h){return this._data[d]?this._data[d][h]:void 0}clear(){this._data={}}}n.TwoKeyMap=c,n.FourKeyMap=class{constructor(){this._data=new c}set(u,d,h,g,_){this._data.get(u,d)||this._data.set(u,d,new c),this._data.get(u,d).set(h,g,_)}get(u,d,h,g){var _;return(_=this._data.get(u,d))==null?void 0:_.get(h,g)}clear(){this._data.clear()}}},6114:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof process<"u"&&"title"in process;const c=n.isNode?"node":navigator.userAgent,u=n.isNode?"node":navigator.platform;n.isFirefox=c.includes("Firefox"),n.isLegacyEdge=c.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(c),n.getSafariVersion=function(){if(!n.isSafari)return 0;const d=c.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),n.isIpad=u==="iPad",n.isIphone=u==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),n.isLinux=u.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(c)},6106:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let c=0;n.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(c=this._search(this._getKey(u)),this._array.splice(c,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const d=this._getKey(u);if(d===void 0||(c=this._search(d),c===-1)||this._getKey(this._array[c])!==d)return!1;do if(this._array[c]===u)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===d);return!1}*getKeyIterator(u){if(this._array.length!==0&&(c=this._search(u),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===u))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===u)}forEachByKey(u,d){if(this._array.length!==0&&(c=this._search(u),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===u))do d(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===u)}values(){return[...this._array].values()}_search(u){let d=0,h=this._array.length-1;for(;h>=d;){let g=d+h>>1;const _=this._getKey(this._array[g]);if(_>u)h=g-1;else{if(!(_<u)){for(;g>0&&this._getKey(this._array[g-1])===u;)g--;return g}d=g+1}}return d}}},7226:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const u=c(6114);class d{constructor(){this._tasks=[],this._i=0}enqueue(_){this._tasks.push(_),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(_){this._idleCallback=void 0;let w=0,b=0,m=_.timeRemaining(),v=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),b=Math.max(w,b),v=_.timeRemaining(),1.5*b>v)return m-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-w))}ms`),void this._start();m=v}this.clear()}}class h extends d{_requestCallback(_){return setTimeout(()=>_(this._createDeadline(16)))}_cancelCallback(_){clearTimeout(_)}_createDeadline(_){const w=Date.now()+_;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}n.PriorityTaskQueue=h,n.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:h,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const u=c(643);n.updateWindowsModeWrappedState=function(d){const h=d.buffer.lines.get(d.buffer.ybase+d.buffer.y-1),g=h==null?void 0:h.get(d.cols-1),_=d.buffer.lines.get(d.buffer.ybase+d.buffer.y);_&&g&&(_.isWrapped=g[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&g[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new c;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}n.AttributeData=c;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,g=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=g}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=u},9092:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.MAX_BUFFER_SIZE=void 0;const u=c(6349),d=c(7226),h=c(3734),g=c(8437),_=c(4634),w=c(511),b=c(643),m=c(4863),v=c(7116);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(p,x,y){this._hasScrollback=p,this._optionsService=x,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=v.DEFAULT_CHARSET,this.markers=[],this._nullCell=w.CellData.fromCharData([0,b.NULL_CELL_CHAR,b.NULL_CELL_WIDTH,b.NULL_CELL_CODE]),this._whitespaceCell=w.CellData.fromCharData([0,b.WHITESPACE_CELL_CHAR,b.WHITESPACE_CELL_WIDTH,b.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(p){return p?(this._nullCell.fg=p.fg,this._nullCell.bg=p.bg,this._nullCell.extended=p.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(p){return p?(this._whitespaceCell.fg=p.fg,this._whitespaceCell.bg=p.bg,this._whitespaceCell.extended=p.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(p,x){return new g.BufferLine(this._bufferService.cols,this.getNullCell(p),x)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const p=this.ybase+this.y-this.ydisp;return p>=0&&p<this._rows}_getCorrectBufferLength(p){if(!this._hasScrollback)return p;const x=p+this._optionsService.rawOptions.scrollback;return x>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:x}fillViewportRows(p){if(this.lines.length===0){p===void 0&&(p=g.DEFAULT_ATTR_DATA);let x=this._rows;for(;x--;)this.lines.push(this.getBlankLine(p))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(p,x){const y=this.getNullCell(g.DEFAULT_ATTR_DATA);let E=0;const A=this._getCorrectBufferLength(x);if(A>this.lines.maxLength&&(this.lines.maxLength=A),this.lines.length>0){if(this._cols<p)for(let S=0;S<this.lines.length;S++)E+=+this.lines.get(S).resize(p,y);let D=0;if(this._rows<x)for(let S=this._rows;S<x;S++)this.lines.length<x+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(p,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+D+1?(this.ybase--,D++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(p,y)));else for(let S=this._rows;S>x;S--)this.lines.length>x+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(A<this.lines.maxLength){const S=this.lines.length-A;S>0&&(this.lines.trimStart(S),this.ybase=Math.max(this.ybase-S,0),this.ydisp=Math.max(this.ydisp-S,0),this.savedY=Math.max(this.savedY-S,0)),this.lines.maxLength=A}this.x=Math.min(this.x,p-1),this.y=Math.min(this.y,x-1),D&&(this.y+=D),this.savedX=Math.min(this.savedX,p-1),this.scrollTop=0}if(this.scrollBottom=x-1,this._isReflowEnabled&&(this._reflow(p,x),this._cols>p))for(let D=0;D<this.lines.length;D++)E+=+this.lines.get(D).resize(p,y);this._cols=p,this._rows=x,this._memoryCleanupQueue.clear(),E>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let p=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,p=!1);let x=0;for(;this._memoryCleanupPosition<this.lines.length;)if(x+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),x>100)return!0;return p}get _isReflowEnabled(){const p=this._optionsService.rawOptions.windowsPty;return p&&p.buildNumber?this._hasScrollback&&p.backend==="conpty"&&p.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(p,x){this._cols!==p&&(p>this._cols?this._reflowLarger(p,x):this._reflowSmaller(p,x))}_reflowLarger(p,x){const y=(0,_.reflowLargerGetLinesToRemove)(this.lines,this._cols,p,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(y.length>0){const E=(0,_.reflowLargerCreateNewLayout)(this.lines,y);(0,_.reflowLargerApplyNewLayout)(this.lines,E.layout),this._reflowLargerAdjustViewport(p,x,E.countRemoved)}}_reflowLargerAdjustViewport(p,x,y){const E=this.getNullCell(g.DEFAULT_ATTR_DATA);let A=y;for(;A-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<x&&this.lines.push(new g.BufferLine(p,E))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(p,x){const y=this.getNullCell(g.DEFAULT_ATTR_DATA),E=[];let A=0;for(let D=this.lines.length-1;D>=0;D--){let S=this.lines.get(D);if(!S||!S.isWrapped&&S.getTrimmedLength()<=p)continue;const C=[S];for(;S.isWrapped&&D>0;)S=this.lines.get(--D),C.unshift(S);const B=this.ybase+this.y;if(B>=D&&B<D+C.length)continue;const L=C[C.length-1].getTrimmedLength(),$=(0,_.reflowSmallerGetNewLineLengths)(C,this._cols,p),P=$.length-C.length;let ie;ie=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+P):Math.max(0,this.lines.length-this.lines.maxLength+P);const re=[];for(let G=0;G<P;G++){const U=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);re.push(U)}re.length>0&&(E.push({start:D+C.length+A,newLines:re}),A+=re.length),C.push(...re);let I=$.length-1,ue=$[I];ue===0&&(I--,ue=$[I]);let se=C.length-P-1,R=L;for(;se>=0;){const G=Math.min(R,ue);if(C[I]===void 0)break;if(C[I].copyCellsFrom(C[se],R-G,ue-G,G,!0),ue-=G,ue===0&&(I--,ue=$[I]),R-=G,R===0){se--;const U=Math.max(se,0);R=(0,_.getWrappedLineTrimmedLength)(C,U,this._cols)}}for(let G=0;G<C.length;G++)$[G]<p&&C[G].setCell($[G],y);let K=P-ie;for(;K-- >0;)this.ybase===0?this.y<x-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+A)-x&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+P,this.ybase+x-1)}if(E.length>0){const D=[],S=[];for(let I=0;I<this.lines.length;I++)S.push(this.lines.get(I));const C=this.lines.length;let B=C-1,L=0,$=E[L];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+A);let P=0;for(let I=Math.min(this.lines.maxLength-1,C+A-1);I>=0;I--)if($&&$.start>B+P){for(let ue=$.newLines.length-1;ue>=0;ue--)this.lines.set(I--,$.newLines[ue]);I++,D.push({index:B+1,amount:$.newLines.length}),P+=$.newLines.length,$=E[++L]}else this.lines.set(I,S[B--]);let ie=0;for(let I=D.length-1;I>=0;I--)D[I].index+=ie,this.lines.onInsertEmitter.fire(D[I]),ie+=D[I].amount;const re=Math.max(0,C+A-this.lines.maxLength);re>0&&this.lines.onTrimEmitter.fire(re)}}translateBufferLineToString(p,x,y=0,E){const A=this.lines.get(p);return A?A.translateToString(x,y,E):""}getWrappedRangeForLine(p){let x=p,y=p;for(;x>0&&this.lines.get(x).isWrapped;)x--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:x,last:y}}setupTabStops(p){for(p!=null?this.tabs[p]||(p=this.prevStop(p)):(this.tabs={},p=0);p<this._cols;p+=this._optionsService.rawOptions.tabStopWidth)this.tabs[p]=!0}prevStop(p){for(p==null&&(p=this.x);!this.tabs[--p]&&p>0;);return p>=this._cols?this._cols-1:p<0?0:p}nextStop(p){for(p==null&&(p=this.x);!this.tabs[++p]&&p<this._cols;);return p>=this._cols?this._cols-1:p<0?0:p}clearMarkers(p){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].line===p&&(this.markers[x].dispose(),this.markers.splice(x--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].dispose(),this.markers.splice(p--,1);this._isClearing=!1}addMarker(p){const x=new m.Marker(p);return this.markers.push(x),x.register(this.lines.onTrim(y=>{x.line-=y,x.line<0&&x.dispose()})),x.register(this.lines.onInsert(y=>{x.line>=y.index&&(x.line+=y.amount)})),x.register(this.lines.onDelete(y=>{x.line>=y.index&&x.line<y.index+y.amount&&x.dispose(),x.line>y.index&&(x.line-=y.amount)})),x.register(x.onDispose(()=>this._removeMarker(x))),x}_removeMarker(p){this._isClearing||this.markers.splice(this.markers.indexOf(p),1)}}},8437:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const u=c(3734),d=c(511),h=c(643),g=c(482);n.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let _=0;class w{constructor(m,v,p=!1){this.isWrapped=p,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const x=v||d.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let y=0;y<m;++y)this.setCell(y,x);this.length=m}get(m){const v=this._data[3*m+0],p=2097151&v;return[this._data[3*m+1],2097152&v?this._combined[m]:p?(0,g.stringFromCodePoint)(p):"",v>>22,2097152&v?this._combined[m].charCodeAt(this._combined[m].length-1):p]}set(m,v){this._data[3*m+1]=v[h.CHAR_DATA_ATTR_INDEX],v[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=v[1],this._data[3*m+0]=2097152|m|v[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=v[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const v=this._data[3*m+0];return 2097152&v?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&v}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const v=this._data[3*m+0];return 2097152&v?this._combined[m]:2097151&v?(0,g.stringFromCodePoint)(2097151&v):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,v){return _=3*m,v.content=this._data[_+0],v.fg=this._data[_+1],v.bg=this._data[_+2],2097152&v.content&&(v.combinedData=this._combined[m]),268435456&v.bg&&(v.extended=this._extendedAttrs[m]),v}setCell(m,v){2097152&v.content&&(this._combined[m]=v.combinedData),268435456&v.bg&&(this._extendedAttrs[m]=v.extended),this._data[3*m+0]=v.content,this._data[3*m+1]=v.fg,this._data[3*m+2]=v.bg}setCellFromCodepoint(m,v,p,x){268435456&x.bg&&(this._extendedAttrs[m]=x.extended),this._data[3*m+0]=v|p<<22,this._data[3*m+1]=x.fg,this._data[3*m+2]=x.bg}addCodepointToCell(m,v,p){let x=this._data[3*m+0];2097152&x?this._combined[m]+=(0,g.stringFromCodePoint)(v):2097151&x?(this._combined[m]=(0,g.stringFromCodePoint)(2097151&x)+(0,g.stringFromCodePoint)(v),x&=-2097152,x|=2097152):x=v|4194304,p&&(x&=-12582913,x|=p<<22),this._data[3*m+0]=x}insertCells(m,v,p){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodepoint(m-1,0,1,p),v<this.length-m){const x=new d.CellData;for(let y=this.length-m-v-1;y>=0;--y)this.setCell(m+v+y,this.loadCell(m+y,x));for(let y=0;y<v;++y)this.setCell(m+y,p)}else for(let x=m;x<this.length;++x)this.setCell(x,p);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,p)}deleteCells(m,v,p){if(m%=this.length,v<this.length-m){const x=new d.CellData;for(let y=0;y<this.length-m-v;++y)this.setCell(m+y,this.loadCell(m+v+y,x));for(let y=this.length-v;y<this.length;++y)this.setCell(y,p)}else for(let x=m;x<this.length;++x)this.setCell(x,p);m&&this.getWidth(m-1)===2&&this.setCellFromCodepoint(m-1,0,1,p),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodepoint(m,0,1,p)}replaceCells(m,v,p,x=!1){if(x)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodepoint(m-1,0,1,p),v<this.length&&this.getWidth(v-1)===2&&!this.isProtected(v)&&this.setCellFromCodepoint(v,0,1,p);m<v&&m<this.length;)this.isProtected(m)||this.setCell(m,p),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodepoint(m-1,0,1,p),v<this.length&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v,0,1,p);m<v&&m<this.length;)this.setCell(m++,p)}resize(m,v){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const p=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*p)this._data=new Uint32Array(this._data.buffer,0,p);else{const x=new Uint32Array(p);x.set(this._data),this._data=x}for(let x=this.length;x<m;++x)this.setCell(x,v)}else{this._data=this._data.subarray(0,p);const x=Object.keys(this._combined);for(let E=0;E<x.length;E++){const A=parseInt(x[E],10);A>=m&&delete this._combined[A]}const y=Object.keys(this._extendedAttrs);for(let E=0;E<y.length;E++){const A=parseInt(y[E],10);A>=m&&delete this._extendedAttrs[A]}}return this.length=m,4*p*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,v=!1){if(v)for(let p=0;p<this.length;++p)this.isProtected(p)||this.setCell(p,m);else{this._combined={},this._extendedAttrs={};for(let p=0;p<this.length;++p)this.setCell(p,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const v in m._combined)this._combined[v]=m._combined[v];this._extendedAttrs={};for(const v in m._extendedAttrs)this._extendedAttrs[v]=m._extendedAttrs[v];this.isWrapped=m.isWrapped}clone(){const m=new w(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const v in this._combined)m._combined[v]=this._combined[v];for(const v in this._extendedAttrs)m._extendedAttrs[v]=this._extendedAttrs[v];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,v,p,x,y){const E=m._data;if(y)for(let D=x-1;D>=0;D--){for(let S=0;S<3;S++)this._data[3*(p+D)+S]=E[3*(v+D)+S];268435456&E[3*(v+D)+2]&&(this._extendedAttrs[p+D]=m._extendedAttrs[v+D])}else for(let D=0;D<x;D++){for(let S=0;S<3;S++)this._data[3*(p+D)+S]=E[3*(v+D)+S];268435456&E[3*(v+D)+2]&&(this._extendedAttrs[p+D]=m._extendedAttrs[v+D])}const A=Object.keys(m._combined);for(let D=0;D<A.length;D++){const S=parseInt(A[D],10);S>=v&&(this._combined[S-v+p]=m._combined[S])}}translateToString(m,v,p,x){v=v??0,p=p??this.length,m&&(p=Math.min(p,this.getTrimmedLength())),x&&(x.length=0);let y="";for(;v<p;){const E=this._data[3*v+0],A=2097151&E,D=2097152&E?this._combined[v]:A?(0,g.stringFromCodePoint)(A):h.WHITESPACE_CELL_CHAR;if(y+=D,x)for(let S=0;S<D.length;++S)x.push(v);v+=E>>22||1}return x&&x.push(v),y}}n.BufferLine=w},4841:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(c,u){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return u*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(l,n)=>{function c(u,d,h){if(d===u.length-1)return u[d].getTrimmedLength();const g=!u[d].hasContent(h-1)&&u[d].getWidth(h-1)===1,_=u[d+1].getWidth(0)===2;return g&&_?h-1:h}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(u,d,h,g,_){const w=[];for(let b=0;b<u.length-1;b++){let m=b,v=u.get(++m);if(!v.isWrapped)continue;const p=[u.get(b)];for(;m<u.length&&v.isWrapped;)p.push(v),v=u.get(++m);if(g>=b&&g<m){b+=p.length-1;continue}let x=0,y=c(p,x,d),E=1,A=0;for(;E<p.length;){const S=c(p,E,d),C=S-A,B=h-y,L=Math.min(C,B);p[x].copyCellsFrom(p[E],A,y,L,!1),y+=L,y===h&&(x++,y=0),A+=L,A===S&&(E++,A=0),y===0&&x!==0&&p[x-1].getWidth(h-1)===2&&(p[x].copyCellsFrom(p[x-1],h-1,y++,1,!1),p[x-1].setCell(h-1,_))}p[x].replaceCells(y,h,_);let D=0;for(let S=p.length-1;S>0&&(S>x||p[S].getTrimmedLength()===0);S--)D++;D>0&&(w.push(b+p.length-D),w.push(D)),b+=p.length-1}return w},n.reflowLargerCreateNewLayout=function(u,d){const h=[];let g=0,_=d[g],w=0;for(let b=0;b<u.length;b++)if(_===b){const m=d[++g];u.onDeleteEmitter.fire({index:b-w,amount:m}),b+=m-1,w+=m,_=d[++g]}else h.push(b);return{layout:h,countRemoved:w}},n.reflowLargerApplyNewLayout=function(u,d){const h=[];for(let g=0;g<d.length;g++)h.push(u.get(d[g]));for(let g=0;g<h.length;g++)u.set(g,h[g]);u.length=d.length},n.reflowSmallerGetNewLineLengths=function(u,d,h){const g=[],_=u.map((v,p)=>c(u,p,d)).reduce((v,p)=>v+p);let w=0,b=0,m=0;for(;m<_;){if(_-m<h){g.push(_-m);break}w+=h;const v=c(u,b,d);w>v&&(w-=v,b++);const p=u[b].getWidth(w-1)===2;p&&w--;const x=p?h-1:h;g.push(x),m+=x}return g},n.getWrappedLineTrimmedLength=c},5295:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const u=c(8460),d=c(844),h=c(9092);class g extends d.Disposable{constructor(w,b){super(),this._optionsService=w,this._bufferService=b,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,b){this._normal.resize(w,b),this._alt.resize(w,b),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}n.BufferSet=g},511:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const u=c(482),d=c(643),h=c(3734);class g extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const b=new g;return b.setFromCharData(w),b}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let b=!1;if(w[d.CHAR_DATA_CHAR_INDEX].length>2)b=!0;else if(w[d.CHAR_DATA_CHAR_INDEX].length===2){const m=w[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const v=w[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=v&&v<=57343?this.content=1024*(m-55296)+v-56320+65536|w[d.CHAR_DATA_WIDTH_INDEX]<<22:b=!0}else b=!0}else this.content=w[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[d.CHAR_DATA_WIDTH_INDEX]<<22;b&&(this.combinedData=w[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=g},643:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const u=c(8460),d=c(844);class h{get id(){return this._id}constructor(_){this.line=_,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,d.disposeArray)(this._disposables),this._disposables.length=0)}register(_){return this._disposables.push(_),_}}n.Marker=h,h._nextId=1},7116:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},n.CHARSETS.A={"#":""},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},n.CHARSETS.C=n.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.E=n.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},n.CHARSETS.H=n.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(l,n)=>{var c,u,d;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""}(c||(n.C0=c={})),function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""}(u||(n.C1=u={})),function(h){h.ST=`${c.ESC}\\`}(d||(n.C1_ESCAPED=d={}))},7399:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const u=c(2584),d={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(h,g,_,w){const b={type:0,cancel:!1,key:void 0},m=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?b.key=g?u.C0.ESC+"OA":u.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?b.key=g?u.C0.ESC+"OD":u.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?b.key=g?u.C0.ESC+"OC":u.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(b.key=g?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:b.key=h.ctrlKey?"\b":u.C0.DEL,h.altKey&&(b.key=u.C0.ESC+b.key);break;case 9:if(h.shiftKey){b.key=u.C0.ESC+"[Z";break}b.key=u.C0.HT,b.cancel=!0;break;case 13:b.key=h.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,b.cancel=!0;break;case 27:b.key=u.C0.ESC,h.altKey&&(b.key=u.C0.ESC+u.C0.ESC),b.cancel=!0;break;case 37:if(h.metaKey)break;m?(b.key=u.C0.ESC+"[1;"+(m+1)+"D",b.key===u.C0.ESC+"[1;3D"&&(b.key=u.C0.ESC+(_?"b":"[1;5D"))):b.key=g?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(h.metaKey)break;m?(b.key=u.C0.ESC+"[1;"+(m+1)+"C",b.key===u.C0.ESC+"[1;3C"&&(b.key=u.C0.ESC+(_?"f":"[1;5C"))):b.key=g?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(h.metaKey)break;m?(b.key=u.C0.ESC+"[1;"+(m+1)+"A",_||b.key!==u.C0.ESC+"[1;3A"||(b.key=u.C0.ESC+"[1;5A")):b.key=g?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(h.metaKey)break;m?(b.key=u.C0.ESC+"[1;"+(m+1)+"B",_||b.key!==u.C0.ESC+"[1;3B"||(b.key=u.C0.ESC+"[1;5B")):b.key=g?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(b.key=u.C0.ESC+"[2~");break;case 46:b.key=m?u.C0.ESC+"[3;"+(m+1)+"~":u.C0.ESC+"[3~";break;case 36:b.key=m?u.C0.ESC+"[1;"+(m+1)+"H":g?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:b.key=m?u.C0.ESC+"[1;"+(m+1)+"F":g?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:h.shiftKey?b.type=2:h.ctrlKey?b.key=u.C0.ESC+"[5;"+(m+1)+"~":b.key=u.C0.ESC+"[5~";break;case 34:h.shiftKey?b.type=3:h.ctrlKey?b.key=u.C0.ESC+"[6;"+(m+1)+"~":b.key=u.C0.ESC+"[6~";break;case 112:b.key=m?u.C0.ESC+"[1;"+(m+1)+"P":u.C0.ESC+"OP";break;case 113:b.key=m?u.C0.ESC+"[1;"+(m+1)+"Q":u.C0.ESC+"OQ";break;case 114:b.key=m?u.C0.ESC+"[1;"+(m+1)+"R":u.C0.ESC+"OR";break;case 115:b.key=m?u.C0.ESC+"[1;"+(m+1)+"S":u.C0.ESC+"OS";break;case 116:b.key=m?u.C0.ESC+"[15;"+(m+1)+"~":u.C0.ESC+"[15~";break;case 117:b.key=m?u.C0.ESC+"[17;"+(m+1)+"~":u.C0.ESC+"[17~";break;case 118:b.key=m?u.C0.ESC+"[18;"+(m+1)+"~":u.C0.ESC+"[18~";break;case 119:b.key=m?u.C0.ESC+"[19;"+(m+1)+"~":u.C0.ESC+"[19~";break;case 120:b.key=m?u.C0.ESC+"[20;"+(m+1)+"~":u.C0.ESC+"[20~";break;case 121:b.key=m?u.C0.ESC+"[21;"+(m+1)+"~":u.C0.ESC+"[21~";break;case 122:b.key=m?u.C0.ESC+"[23;"+(m+1)+"~":u.C0.ESC+"[23~";break;case 123:b.key=m?u.C0.ESC+"[24;"+(m+1)+"~":u.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(_&&!w||!h.altKey||h.metaKey)!_||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?b.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(b.key=u.C0.US),h.key==="@"&&(b.key=u.C0.NUL)):h.keyCode===65&&(b.type=1);else{const v=d[h.keyCode],p=v==null?void 0:v[h.shiftKey?1:0];if(p)b.key=u.C0.ESC+p;else if(h.keyCode>=65&&h.keyCode<=90){const x=h.ctrlKey?h.keyCode-64:h.keyCode+32;let y=String.fromCharCode(x);h.shiftKey&&(y=y.toUpperCase()),b.key=u.C0.ESC+y}else if(h.keyCode===32)b.key=u.C0.ESC+(h.ctrlKey?u.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let x=h.code.slice(3,4);h.shiftKey||(x=x.toLowerCase()),b.key=u.C0.ESC+x,b.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?b.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?b.key=u.C0.NUL:h.keyCode>=51&&h.keyCode<=55?b.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?b.key=u.C0.DEL:h.keyCode===219?b.key=u.C0.ESC:h.keyCode===220?b.key=u.C0.FS:h.keyCode===221&&(b.key=u.C0.GS)}return b}},482:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},n.utf32ToString=function(c,u=0,d=c.length){let h="";for(let g=u;g<d;++g){let _=c[g];_>65535?(_-=65536,h+=String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):h+=String.fromCharCode(_)}return h},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,u){const d=c.length;if(!d)return 0;let h=0,g=0;if(this._interim){const _=c.charCodeAt(g++);56320<=_&&_<=57343?u[h++]=1024*(this._interim-55296)+_-56320+65536:(u[h++]=this._interim,u[h++]=_),this._interim=0}for(let _=g;_<d;++_){const w=c.charCodeAt(_);if(55296<=w&&w<=56319){if(++_>=d)return this._interim=w,h;const b=c.charCodeAt(_);56320<=b&&b<=57343?u[h++]=1024*(w-55296)+b-56320+65536:(u[h++]=w,u[h++]=b)}else w!==65279&&(u[h++]=w)}return h}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,u){const d=c.length;if(!d)return 0;let h,g,_,w,b=0,m=0,v=0;if(this.interim[0]){let y=!1,E=this.interim[0];E&=(224&E)==192?31:(240&E)==224?15:7;let A,D=0;for(;(A=63&this.interim[++D])&&D<4;)E<<=6,E|=A;const S=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,C=S-D;for(;v<C;){if(v>=d)return 0;if(A=c[v++],(192&A)!=128){v--,y=!0;break}this.interim[D++]=A,E<<=6,E|=63&A}y||(S===2?E<128?v--:u[b++]=E:S===3?E<2048||E>=55296&&E<=57343||E===65279||(u[b++]=E):E<65536||E>1114111||(u[b++]=E)),this.interim.fill(0)}const p=d-4;let x=v;for(;x<d;){for(;!(!(x<p)||128&(h=c[x])||128&(g=c[x+1])||128&(_=c[x+2])||128&(w=c[x+3]));)u[b++]=h,u[b++]=g,u[b++]=_,u[b++]=w,x+=4;if(h=c[x++],h<128)u[b++]=h;else if((224&h)==192){if(x>=d)return this.interim[0]=h,b;if(g=c[x++],(192&g)!=128){x--;continue}if(m=(31&h)<<6|63&g,m<128){x--;continue}u[b++]=m}else if((240&h)==224){if(x>=d)return this.interim[0]=h,b;if(g=c[x++],(192&g)!=128){x--;continue}if(x>=d)return this.interim[0]=h,this.interim[1]=g,b;if(_=c[x++],(192&_)!=128){x--;continue}if(m=(15&h)<<12|(63&g)<<6|63&_,m<2048||m>=55296&&m<=57343||m===65279)continue;u[b++]=m}else if((248&h)==240){if(x>=d)return this.interim[0]=h,b;if(g=c[x++],(192&g)!=128){x--;continue}if(x>=d)return this.interim[0]=h,this.interim[1]=g,b;if(_=c[x++],(192&_)!=128){x--;continue}if(x>=d)return this.interim[0]=h,this.interim[1]=g,this.interim[2]=_,b;if(w=c[x++],(192&w)!=128){x--;continue}if(m=(7&h)<<18|(63&g)<<12|(63&_)<<6|63&w,m<65536||m>1114111)continue;u[b++]=m}}return b}}},225:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const u=c(1480),d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;n.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let _=0;_<d.length;++_)g.fill(0,d[_][0],d[_][1]+1)}}wcwidth(_){return _<32?0:_<127?1:_<65536?g[_]:function(w,b){let m,v=0,p=b.length-1;if(w<b[0][0]||w>b[p][1])return!1;for(;p>=v;)if(m=v+p>>1,w>b[m][1])v=m+1;else{if(!(w<b[m][0]))return!0;p=m-1}return!1}(_,h)?0:_>=131072&&_<=196605||_>=196608&&_<=262141?2:1}charProperties(_,w){let b=this.wcwidth(_),m=b===0&&w!==0;if(m){const v=u.UnicodeService.extractWidth(w);v===0?m=!1:v>b&&(b=v)}return u.UnicodeService.createPropertyValue(0,b,m)}}},5981:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const u=c(8460),d=c(844);class h extends d.Disposable{constructor(_){super(),this._action=_,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(_,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let b;for(this._isSyncWriting=!0;b=this._writeBuffer.shift();){this._action(b);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(_,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(w)}_innerWrite(_=0,w=!0){const b=_||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],v=this._action(m,w);if(v){const x=y=>Date.now()-b>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(b,y);return void v.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(x)}const p=this._callbacks[this._bufferOffset];if(p&&p(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-b>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=h},5941:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function d(h,g){const _=h.toString(16),w=_.length<2?"0"+_:_;switch(g){case 4:return _[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}n.parseColor=function(h){if(!h)return;let g=h.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const _=c.exec(g);if(_){const w=_[1]?15:_[4]?255:_[7]?4095:65535;return[Math.round(parseInt(_[1]||_[4]||_[7]||_[10],16)/w*255),Math.round(parseInt(_[2]||_[5]||_[8]||_[11],16)/w*255),Math.round(parseInt(_[3]||_[6]||_[9]||_[12],16)/w*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),u.exec(g)&&[3,6,9,12].includes(g.length))){const _=g.length/3,w=[0,0,0];for(let b=0;b<3;++b){const m=parseInt(g.slice(_*b,_*b+_),16);w[b]=_===1?m<<4:_===2?m:_===3?m>>4:m>>8}return w}},n.toRgbString=function(h,g=16){const[_,w,b]=h;return`rgb:${d(_,g)}/${d(w,g)}/${d(b,g)}`}},5770:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const u=c(482),d=c(8742),h=c(5770),g=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(w,b){this._handlers[w]===void 0&&(this._handlers[w]=[]);const m=this._handlers[w];return m.push(b),{dispose:()=>{const v=m.indexOf(b);v!==-1&&m.splice(v,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(w,b){if(this.reset(),this._ident=w,this._active=this._handlers[w]||g,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(b);else this._handlerFb(this._ident,"HOOK",b)}put(w,b,m){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(w,b,m);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(w,b,m))}unhook(w,b=!0){if(this._active.length){let m=!1,v=this._active.length-1,p=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,m=b,p=this._stack.fallThrough,this._stack.paused=!1),!p&&m===!1){for(;v>=0&&(m=this._active[v].unhook(w),m!==!0);v--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,m;v--}for(;v>=0;v--)if(m=this._active[v].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",w);this._active=g,this._ident=0}};const _=new d.Params;_.addParam(0),n.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=_,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():_,this._data="",this._hitLimit=!1}put(w,b,m){this._hitLimit||(this._data+=(0,u.utf32ToString)(w,b,m),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let b=!1;if(this._hitLimit)b=!1;else if(w&&(b=this._handler(this._data,this._params),b instanceof Promise))return b.then(m=>(this._params=_,this._data="",this._hitLimit=!1,m));return this._params=_,this._data="",this._hitLimit=!1,b}}},2015:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const u=c(844),d=c(8742),h=c(6242),g=c(6351);class _{constructor(v){this.table=new Uint8Array(v)}setDefault(v,p){this.table.fill(v<<4|p)}add(v,p,x,y){this.table[p<<8|v]=x<<4|y}addMany(v,p,x,y){for(let E=0;E<v.length;E++)this.table[p<<8|v[E]]=x<<4|y}}n.TransitionTable=_;const w=160;n.VT500_TRANSITION_TABLE=function(){const m=new _(4095),v=Array.apply(null,Array(256)).map((D,S)=>S),p=(D,S)=>v.slice(D,S),x=p(32,127),y=p(0,24);y.push(25),y.push.apply(y,p(28,32));const E=p(0,14);let A;for(A in m.setDefault(1,0),m.addMany(x,0,2,0),E)m.addMany([24,26,153,154],A,3,0),m.addMany(p(128,144),A,3,0),m.addMany(p(144,152),A,3,0),m.add(156,A,0,0),m.add(27,A,11,1),m.add(157,A,4,8),m.addMany([152,158,159],A,0,7),m.add(155,A,11,3),m.add(144,A,11,9);return m.addMany(y,0,3,0),m.addMany(y,1,3,1),m.add(127,1,0,1),m.addMany(y,8,0,8),m.addMany(y,3,3,3),m.add(127,3,0,3),m.addMany(y,4,3,4),m.add(127,4,0,4),m.addMany(y,6,3,6),m.addMany(y,5,3,5),m.add(127,5,0,5),m.addMany(y,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(x,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(p(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(x,7,0,7),m.addMany(y,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(p(64,127),3,7,0),m.addMany(p(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(p(48,60),4,8,4),m.addMany(p(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(p(32,64),6,0,6),m.add(127,6,0,6),m.addMany(p(64,127),6,0,0),m.addMany(p(32,48),3,9,5),m.addMany(p(32,48),5,9,5),m.addMany(p(48,64),5,0,6),m.addMany(p(64,127),5,7,0),m.addMany(p(32,48),4,9,5),m.addMany(p(32,48),1,9,2),m.addMany(p(32,48),2,9,2),m.addMany(p(48,127),2,10,0),m.addMany(p(48,80),1,10,0),m.addMany(p(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(p(96,127),1,10,0),m.add(80,1,11,9),m.addMany(y,9,0,9),m.add(127,9,0,9),m.addMany(p(28,32),9,0,9),m.addMany(p(32,48),9,9,12),m.addMany(p(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(y,11,0,11),m.addMany(p(32,128),11,0,11),m.addMany(p(28,32),11,0,11),m.addMany(y,10,0,10),m.add(127,10,0,10),m.addMany(p(28,32),10,0,10),m.addMany(p(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(p(32,48),10,9,12),m.addMany(y,12,0,12),m.add(127,12,0,12),m.addMany(p(28,32),12,0,12),m.addMany(p(32,48),12,9,12),m.addMany(p(48,64),12,0,11),m.addMany(p(64,127),12,12,13),m.addMany(p(64,127),10,12,13),m.addMany(p(64,127),9,12,13),m.addMany(y,13,13,13),m.addMany(x,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(w,0,2,0),m.add(w,8,5,8),m.add(w,6,0,6),m.add(w,11,0,11),m.add(w,13,13,13),m}();class b extends u.Disposable{constructor(v=n.VT500_TRANSITION_TABLE){super(),this._transitions=v,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new d.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(p,x,y)=>{},this._executeHandlerFb=p=>{},this._csiHandlerFb=(p,x)=>{},this._escHandlerFb=p=>{},this._errorHandlerFb=p=>p,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(v,p=[64,126]){let x=0;if(v.prefix){if(v.prefix.length>1)throw new Error("only one byte as prefix supported");if(x=v.prefix.charCodeAt(0),x&&60>x||x>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(v.intermediates){if(v.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let E=0;E<v.intermediates.length;++E){const A=v.intermediates.charCodeAt(E);if(32>A||A>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");x<<=8,x|=A}}if(v.final.length!==1)throw new Error("final must be a single byte");const y=v.final.charCodeAt(0);if(p[0]>y||y>p[1])throw new Error(`final must be in range ${p[0]} .. ${p[1]}`);return x<<=8,x|=y,x}identToString(v){const p=[];for(;v;)p.push(String.fromCharCode(255&v)),v>>=8;return p.reverse().join("")}setPrintHandler(v){this._printHandler=v}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(v,p){const x=this._identifier(v,[48,126]);this._escHandlers[x]===void 0&&(this._escHandlers[x]=[]);const y=this._escHandlers[x];return y.push(p),{dispose:()=>{const E=y.indexOf(p);E!==-1&&y.splice(E,1)}}}clearEscHandler(v){this._escHandlers[this._identifier(v,[48,126])]&&delete this._escHandlers[this._identifier(v,[48,126])]}setEscHandlerFallback(v){this._escHandlerFb=v}setExecuteHandler(v,p){this._executeHandlers[v.charCodeAt(0)]=p}clearExecuteHandler(v){this._executeHandlers[v.charCodeAt(0)]&&delete this._executeHandlers[v.charCodeAt(0)]}setExecuteHandlerFallback(v){this._executeHandlerFb=v}registerCsiHandler(v,p){const x=this._identifier(v);this._csiHandlers[x]===void 0&&(this._csiHandlers[x]=[]);const y=this._csiHandlers[x];return y.push(p),{dispose:()=>{const E=y.indexOf(p);E!==-1&&y.splice(E,1)}}}clearCsiHandler(v){this._csiHandlers[this._identifier(v)]&&delete this._csiHandlers[this._identifier(v)]}setCsiHandlerFallback(v){this._csiHandlerFb=v}registerDcsHandler(v,p){return this._dcsParser.registerHandler(this._identifier(v),p)}clearDcsHandler(v){this._dcsParser.clearHandler(this._identifier(v))}setDcsHandlerFallback(v){this._dcsParser.setHandlerFallback(v)}registerOscHandler(v,p){return this._oscParser.registerHandler(v,p)}clearOscHandler(v){this._oscParser.clearHandler(v)}setOscHandlerFallback(v){this._oscParser.setHandlerFallback(v)}setErrorHandler(v){this._errorHandler=v}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(v,p,x,y,E){this._parseStack.state=v,this._parseStack.handlers=p,this._parseStack.handlerPos=x,this._parseStack.transition=y,this._parseStack.chunkPos=E}parse(v,p,x){let y,E=0,A=0,D=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,D=this._parseStack.chunkPos+1;else{if(x===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const S=this._parseStack.handlers;let C=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(x===!1&&C>-1){for(;C>=0&&(y=S[C](this._params),y!==!0);C--)if(y instanceof Promise)return this._parseStack.handlerPos=C,y}this._parseStack.handlers=[];break;case 4:if(x===!1&&C>-1){for(;C>=0&&(y=S[C](),y!==!0);C--)if(y instanceof Promise)return this._parseStack.handlerPos=C,y}this._parseStack.handlers=[];break;case 6:if(E=v[this._parseStack.chunkPos],y=this._dcsParser.unhook(E!==24&&E!==26,x),y)return y;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(E=v[this._parseStack.chunkPos],y=this._oscParser.end(E!==24&&E!==26,x),y)return y;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,D=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let S=D;S<p;++S){switch(E=v[S],A=this._transitions.table[this.currentState<<8|(E<160?E:w)],A>>4){case 2:for(let P=S+1;;++P){if(P>=p||(E=v[P])<32||E>126&&E<w){this._printHandler(v,S,P),S=P-1;break}if(++P>=p||(E=v[P])<32||E>126&&E<w){this._printHandler(v,S,P),S=P-1;break}if(++P>=p||(E=v[P])<32||E>126&&E<w){this._printHandler(v,S,P),S=P-1;break}if(++P>=p||(E=v[P])<32||E>126&&E<w){this._printHandler(v,S,P),S=P-1;break}}break;case 3:this._executeHandlers[E]?this._executeHandlers[E]():this._executeHandlerFb(E),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:S,code:E,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const C=this._csiHandlers[this._collect<<8|E];let B=C?C.length-1:-1;for(;B>=0&&(y=C[B](this._params),y!==!0);B--)if(y instanceof Promise)return this._preserveStack(3,C,B,A,S),y;B<0&&this._csiHandlerFb(this._collect<<8|E,this._params),this.precedingJoinState=0;break;case 8:do switch(E){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(E-48)}while(++S<p&&(E=v[S])>47&&E<60);S--;break;case 9:this._collect<<=8,this._collect|=E;break;case 10:const L=this._escHandlers[this._collect<<8|E];let $=L?L.length-1:-1;for(;$>=0&&(y=L[$](),y!==!0);$--)if(y instanceof Promise)return this._preserveStack(4,L,$,A,S),y;$<0&&this._escHandlerFb(this._collect<<8|E),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|E,this._params);break;case 13:for(let P=S+1;;++P)if(P>=p||(E=v[P])===24||E===26||E===27||E>127&&E<w){this._dcsParser.put(v,S,P),S=P-1;break}break;case 14:if(y=this._dcsParser.unhook(E!==24&&E!==26),y)return this._preserveStack(6,[],0,A,S),y;E===27&&(A|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let P=S+1;;P++)if(P>=p||(E=v[P])<32||E>127&&E<w){this._oscParser.put(v,S,P),S=P-1;break}break;case 6:if(y=this._oscParser.end(E!==24&&E!==26),y)return this._preserveStack(5,[],0,A,S),y;E===27&&(A|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&A}}}n.EscapeSequenceParser=b},6242:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const u=c(5770),d=c(482),h=[];n.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,_){this._handlers[g]===void 0&&(this._handlers[g]=[]);const w=this._handlers[g];return w.push(_),{dispose:()=>{const b=w.indexOf(_);b!==-1&&w.splice(b,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,_,w){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(g,_,w);else this._handlerFb(this._id,"PUT",(0,d.utf32ToString)(g,_,w))}start(){this.reset(),this._state=1}put(g,_,w){if(this._state!==3){if(this._state===1)for(;_<w;){const b=g[_++];if(b===59){this._state=2,this._start();break}if(b<48||57<b)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+b-48}this._state===2&&w-_>0&&this._put(g,_,w)}}end(g,_=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,b=this._active.length-1,m=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,w=_,m=this._stack.fallThrough,this._stack.paused=!1),!m&&w===!1){for(;b>=0&&(w=this._active[b].end(g),w!==!0);b--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,w;b--}for(;b>=0;b--)if(w=this._active[b].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",g);this._active=h,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,_,w){this._hitLimit||(this._data+=(0,d.utf32ToString)(g,_,w),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let _=!1;if(this._hitLimit)_=!1;else if(g&&(_=this._handler(this._data),_ instanceof Promise))return _.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,_}}},8742:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const c=2147483647;class u{static fromArray(h){const g=new u;if(!h.length)return g;for(let _=Array.isArray(h[0])?1:0;_<h.length;++_){const w=h[_];if(Array.isArray(w))for(let b=0;b<w.length;++b)g.addSubParam(w[b]);else g.addParam(w)}return g}constructor(h=32,g=32){if(this.maxLength=h,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new u(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let g=0;g<this.length;++g){h.push(this.params[g]);const _=this._subParamsIdx[g]>>8,w=255&this._subParamsIdx[g];w-_>0&&h.push(Array.prototype.slice.call(this._subParams,_,w))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>c?c:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>c?c:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const g=this._subParamsIdx[h]>>8,_=255&this._subParamsIdx[h];return _-g>0?this._subParams.subarray(g,_):null}getSubParamsAll(){const h={};for(let g=0;g<this.length;++g){const _=this._subParamsIdx[g]>>8,w=255&this._subParamsIdx[g];w-_>0&&(h[g]=this._subParams.slice(_,w))}return h}addDigit(h){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const _=this._digitIsSub?this._subParams:this.params,w=_[g-1];_[g-1]=~w?Math.min(10*w+h,c):h}}n.Params=u},5741:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,u){const d={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(d),u.dispose=()=>this._wrappedAddonDispose(d),u.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let u=-1;for(let d=0;d<this._addons.length;d++)if(this._addons[d]===c){u=d;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(u,1)}}},8771:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const u=c(3785),d=c(511);n.BufferApiView=class{constructor(h,g){this._buffer=h,this.type=g}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const g=this._buffer.lines.get(h);if(g)return new u.BufferLineApiView(g)}getNullCell(){return new d.CellData}}},3785:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const u=c(511);n.BufferLineApiView=class{constructor(d){this._line=d}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(d,h){if(!(d<0||d>=this._line.length))return h?(this._line.loadCell(d,h),h):this._line.loadCell(d,new u.CellData)}translateToString(d,h,g){return this._line.translateToString(d,h,g)}}},8285:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const u=c(8771),d=c(8460),h=c(844);class g extends h.Disposable{constructor(w){super(),this._core=w,this._onBufferChange=this.register(new d.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}n.BufferNamespaceApi=g},7975:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,u){return this._core.registerCsiHandler(c,d=>u(d.toArray()))}addCsiHandler(c,u){return this.registerCsiHandler(c,u)}registerDcsHandler(c,u){return this._core.registerDcsHandler(c,(d,h)=>u(d,h.toArray()))}addDcsHandler(c,u){return this.registerDcsHandler(c,u)}registerEscHandler(c,u){return this._core.registerEscHandler(c,u)}addEscHandler(c,u){return this.registerEscHandler(c,u)}registerOscHandler(c,u){return this._core.registerOscHandler(c,u)}addOscHandler(c,u){return this.registerOscHandler(c,u)}}},7090:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(l,n,c){var u=this&&this.__decorate||function(m,v,p,x){var y,E=arguments.length,A=E<3?v:x===null?x=Object.getOwnPropertyDescriptor(v,p):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,v,p,x);else for(var D=m.length-1;D>=0;D--)(y=m[D])&&(A=(E<3?y(A):E>3?y(v,p,A):y(v,p))||A);return E>3&&A&&Object.defineProperty(v,p,A),A},d=this&&this.__param||function(m,v){return function(p,x){v(p,x,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const h=c(8460),g=c(844),_=c(5295),w=c(2585);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let b=n.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new _.BufferSet(m,this))}resize(m,v){this.cols=m,this.rows=v,this.buffers.resize(m,v),this._onResize.fire({cols:m,rows:v})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,v=!1){const p=this.buffer;let x;x=this._cachedBlankLine,x&&x.length===this.cols&&x.getFg(0)===m.fg&&x.getBg(0)===m.bg||(x=p.getBlankLine(m,v),this._cachedBlankLine=x),x.isWrapped=v;const y=p.ybase+p.scrollTop,E=p.ybase+p.scrollBottom;if(p.scrollTop===0){const A=p.lines.isFull;E===p.lines.length-1?A?p.lines.recycle().copyFrom(x):p.lines.push(x.clone()):p.lines.splice(E+1,0,x.clone()),A?this.isUserScrolling&&(p.ydisp=Math.max(p.ydisp-1,0)):(p.ybase++,this.isUserScrolling||p.ydisp++)}else{const A=E-y+1;p.lines.shiftElements(y+1,A-1,-1),p.lines.set(E,x.clone())}this.isUserScrolling||(p.ydisp=p.ybase),this._onScroll.fire(p.ydisp)}scrollLines(m,v,p){const x=this.buffer;if(m<0){if(x.ydisp===0)return;this.isUserScrolling=!0}else m+x.ydisp>=x.ybase&&(this.isUserScrolling=!1);const y=x.ydisp;x.ydisp=Math.max(Math.min(x.ydisp+m,x.ybase),0),y!==x.ydisp&&(v||this._onScroll.fire(x.ydisp))}};n.BufferService=b=u([d(0,w.IOptionsService)],b)},7994:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,u){this._charsets[c]=u,this.glevel===c&&(this.charset=u)}}},1753:function(l,n,c){var u=this&&this.__decorate||function(x,y,E,A){var D,S=arguments.length,C=S<3?y:A===null?A=Object.getOwnPropertyDescriptor(y,E):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(x,y,E,A);else for(var B=x.length-1;B>=0;B--)(D=x[B])&&(C=(S<3?D(C):S>3?D(y,E,C):D(y,E))||C);return S>3&&C&&Object.defineProperty(y,E,C),C},d=this&&this.__param||function(x,y){return function(E,A){y(E,A,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const h=c(2585),g=c(8460),_=c(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:x=>x.button!==4&&x.action===1&&(x.ctrl=!1,x.alt=!1,x.shift=!1,!0)},VT200:{events:19,restrict:x=>x.action!==32},DRAG:{events:23,restrict:x=>x.action!==32||x.button!==3},ANY:{events:31,restrict:x=>!0}};function b(x,y){let E=(x.ctrl?16:0)|(x.shift?4:0)|(x.alt?8:0);return x.button===4?(E|=64,E|=x.action):(E|=3&x.button,4&x.button&&(E|=64),8&x.button&&(E|=128),x.action===32?E|=32:x.action!==0||y||(E|=3)),E}const m=String.fromCharCode,v={DEFAULT:x=>{const y=[b(x,!1)+32,x.col+32,x.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${m(y[0])}${m(y[1])}${m(y[2])}`},SGR:x=>{const y=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${b(x,!0)};${x.col};${x.row}${y}`},SGR_PIXELS:x=>{const y=x.action===0&&x.button!==4?"m":"M";return`\x1B[<${b(x,!0)};${x.x};${x.y}${y}`}};let p=n.CoreMouseService=class extends _.Disposable{constructor(x,y){super(),this._bufferService=x,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const E of Object.keys(w))this.addProtocol(E,w[E]);for(const E of Object.keys(v))this.addEncoding(E,v[E]);this.reset()}addProtocol(x,y){this._protocols[x]=y}addEncoding(x,y){this._encodings[x]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(x){if(!this._protocols[x])throw new Error(`unknown protocol "${x}"`);this._activeProtocol=x,this._onProtocolChange.fire(this._protocols[x].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(x){if(!this._encodings[x])throw new Error(`unknown encoding "${x}"`);this._activeEncoding=x}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(x){if(x.col<0||x.col>=this._bufferService.cols||x.row<0||x.row>=this._bufferService.rows||x.button===4&&x.action===32||x.button===3&&x.action!==32||x.button!==4&&(x.action===2||x.action===3)||(x.col++,x.row++,x.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,x,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(x))return!1;const y=this._encodings[this._activeEncoding](x);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=x,!0}explainEvents(x){return{down:!!(1&x),up:!!(2&x),drag:!!(4&x),move:!!(8&x),wheel:!!(16&x)}}_equalEvents(x,y,E){if(E){if(x.x!==y.x||x.y!==y.y)return!1}else if(x.col!==y.col||x.row!==y.row)return!1;return x.button===y.button&&x.action===y.action&&x.ctrl===y.ctrl&&x.alt===y.alt&&x.shift===y.shift}};n.CoreMouseService=p=u([d(0,h.IBufferService),d(1,h.ICoreService)],p)},6975:function(l,n,c){var u=this&&this.__decorate||function(p,x,y,E){var A,D=arguments.length,S=D<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(p,x,y,E);else for(var C=p.length-1;C>=0;C--)(A=p[C])&&(S=(D<3?A(S):D>3?A(x,y,S):A(x,y))||S);return D>3&&S&&Object.defineProperty(x,y,S),S},d=this&&this.__param||function(p,x){return function(y,E){x(y,E,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const h=c(1439),g=c(8460),_=c(844),w=c(2585),b=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let v=n.CoreService=class extends _.Disposable{constructor(p,x,y){super(),this._bufferService=p,this._logService=x,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(b),this.decPrivateModes=(0,h.clone)(m)}reset(){this.modes=(0,h.clone)(b),this.decPrivateModes=(0,h.clone)(m)}triggerDataEvent(p,x=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;x&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),x&&this._onUserInput.fire(),this._logService.debug(`sending data "${p}"`,()=>p.split("").map(E=>E.charCodeAt(0))),this._onData.fire(p)}triggerBinaryEvent(p){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${p}"`,()=>p.split("").map(x=>x.charCodeAt(0))),this._onBinary.fire(p))}};n.CoreService=v=u([d(0,w.IBufferService),d(1,w.ILogService),d(2,w.IOptionsService)],v)},9074:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const u=c(8055),d=c(8460),h=c(844),g=c(6106);let _=0,w=0;class b extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(p=>p==null?void 0:p.marker.line),this._onDecorationRegistered=this.register(new d.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new d.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(p){if(p.marker.isDisposed)return;const x=new m(p);if(x){const y=x.marker.onDispose(()=>x.dispose());x.onDispose(()=>{x&&(this._decorations.delete(x)&&this._onDecorationRemoved.fire(x),y.dispose())}),this._decorations.insert(x),this._onDecorationRegistered.fire(x)}return x}reset(){for(const p of this._decorations.values())p.dispose();this._decorations.clear()}*getDecorationsAtCell(p,x,y){let E=0,A=0;for(const D of this._decorations.getKeyIterator(x))E=D.options.x??0,A=E+(D.options.width??1),p>=E&&p<A&&(!y||(D.options.layer??"bottom")===y)&&(yield D)}forEachDecorationAtCell(p,x,y,E){this._decorations.forEachByKey(x,A=>{_=A.options.x??0,w=_+(A.options.width??1),p>=_&&p<w&&(!y||(A.options.layer??"bottom")===y)&&E(A)})}}n.DecorationService=b;class m extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(p){super(),this.options=p,this.onRenderEmitter=this.register(new d.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=p.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const u=c(2585),d=c(8343);class h{constructor(..._){this._entries=new Map;for(const[w,b]of _)this.set(w,b)}set(_,w){const b=this._entries.get(_);return this._entries.set(_,w),b}forEach(_){for(const[w,b]of this._entries.entries())_(w,b)}has(_){return this._entries.has(_)}get(_){return this._entries.get(_)}}n.ServiceCollection=h,n.InstantiationService=class{constructor(){this._services=new h,this._services.set(u.IInstantiationService,this)}setService(g,_){this._services.set(g,_)}getService(g){return this._services.get(g)}createInstance(g,..._){const w=(0,d.getServiceDependencies)(g).sort((v,p)=>v.index-p.index),b=[];for(const v of w){const p=this._services.get(v.id);if(!p)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${v.id}.`);b.push(p)}const m=w.length>0?w[0].index:_.length;if(_.length!==m)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${m+1} conflicts with ${_.length} static arguments`);return new g(..._,...b)}}},7866:function(l,n,c){var u=this&&this.__decorate||function(m,v,p,x){var y,E=arguments.length,A=E<3?v:x===null?x=Object.getOwnPropertyDescriptor(v,p):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(m,v,p,x);else for(var D=m.length-1;D>=0;D--)(y=m[D])&&(A=(E<3?y(A):E>3?y(v,p,A):y(v,p))||A);return E>3&&A&&Object.defineProperty(v,p,A),A},d=this&&this.__param||function(m,v){return function(p,x){v(p,x,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.traceCall=n.setTraceLogger=n.LogService=void 0;const h=c(844),g=c(2585),_={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let w,b=n.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),w=this}_updateLogLevel(){this._logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let v=0;v<m.length;v++)typeof m[v]=="function"&&(m[v]=m[v]())}_log(m,v,p){this._evalLazyOptionalParams(p),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+v,...p)}trace(m,...v){var p;this._logLevel<=g.LogLevelEnum.TRACE&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.trace.bind(this._optionsService.options.logger))??console.log,m,v)}debug(m,...v){var p;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.debug.bind(this._optionsService.options.logger))??console.log,m,v)}info(m,...v){var p;this._logLevel<=g.LogLevelEnum.INFO&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.info.bind(this._optionsService.options.logger))??console.info,m,v)}warn(m,...v){var p;this._logLevel<=g.LogLevelEnum.WARN&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.warn.bind(this._optionsService.options.logger))??console.warn,m,v)}error(m,...v){var p;this._logLevel<=g.LogLevelEnum.ERROR&&this._log(((p=this._optionsService.options.logger)==null?void 0:p.error.bind(this._optionsService.options.logger))??console.error,m,v)}};n.LogService=b=u([d(0,g.IOptionsService)],b),n.setTraceLogger=function(m){w=m},n.traceCall=function(m,v,p){if(typeof p.value!="function")throw new Error("not supported");const x=p.value;p.value=function(...y){if(w.logLevel!==g.LogLevelEnum.TRACE)return x.apply(this,y);w.trace(`GlyphRenderer#${x.name}(${y.map(A=>JSON.stringify(A)).join(", ")})`);const E=x.apply(this,y);return w.trace(`GlyphRenderer#${x.name} return`,E),E}}},7302:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const u=c(8460),d=c(844),h=c(6114);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class _ extends d.Disposable{constructor(b){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m={...n.DEFAULT_OPTIONS};for(const v in b)if(v in m)try{const p=b[v];m[v]=this._sanitizeAndValidateOption(v,p)}catch(p){console.error(p)}this.rawOptions=m,this.options={...m},this._setupOptions(),this.register((0,d.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(b,m){return this.onOptionChange(v=>{v===b&&m(this.rawOptions[b])})}onMultipleOptionChange(b,m){return this.onOptionChange(v=>{b.indexOf(v)!==-1&&m()})}_setupOptions(){const b=v=>{if(!(v in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${v}"`);return this.rawOptions[v]},m=(v,p)=>{if(!(v in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${v}"`);p=this._sanitizeAndValidateOption(v,p),this.rawOptions[v]!==p&&(this.rawOptions[v]=p,this._onOptionChange.fire(v))};for(const v in this.rawOptions){const p={get:b.bind(this,v),set:m.bind(this,v)};Object.defineProperty(this.options,v,p)}}_sanitizeAndValidateOption(b,m){switch(b){case"cursorStyle":if(m||(m=n.DEFAULT_OPTIONS[b]),!function(v){return v==="block"||v==="underline"||v==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${b}`);break;case"wordSeparator":m||(m=n.DEFAULT_OPTIONS[b]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=g.includes(m)?m:n.DEFAULT_OPTIONS[b];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${b} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${b} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${b} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${b} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}n.OptionsService=_},2660:function(l,n,c){var u=this&&this.__decorate||function(_,w,b,m){var v,p=arguments.length,x=p<3?w:m===null?m=Object.getOwnPropertyDescriptor(w,b):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(_,w,b,m);else for(var y=_.length-1;y>=0;y--)(v=_[y])&&(x=(p<3?v(x):p>3?v(w,b,x):v(w,b))||x);return p>3&&x&&Object.defineProperty(w,b,x),x},d=this&&this.__param||function(_,w){return function(b,m){w(b,m,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const h=c(2585);let g=n.OscLinkService=class{constructor(_){this._bufferService=_,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(_){const w=this._bufferService.buffer;if(_.id===void 0){const y=w.addMarker(w.ybase+w.y),E={data:_,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(E,y)),this._dataByLinkId.set(E.id,E),E.id}const b=_,m=this._getEntryIdKey(b),v=this._entriesWithId.get(m);if(v)return this.addLineToLink(v.id,w.ybase+w.y),v.id;const p=w.addMarker(w.ybase+w.y),x={id:this._nextId++,key:this._getEntryIdKey(b),data:b,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(x,p)),this._entriesWithId.set(x.key,x),this._dataByLinkId.set(x.id,x),x.id}addLineToLink(_,w){const b=this._dataByLinkId.get(_);if(b&&b.lines.every(m=>m.line!==w)){const m=this._bufferService.buffer.addMarker(w);b.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(b,m))}}getLinkData(_){var w;return(w=this._dataByLinkId.get(_))==null?void 0:w.data}_getEntryIdKey(_){return`${_.id};;${_.uri}`}_removeMarkerFromLink(_,w){const b=_.lines.indexOf(w);b!==-1&&(_.lines.splice(b,1),_.lines.length===0&&(_.data.id!==void 0&&this._entriesWithId.delete(_.key),this._dataByLinkId.delete(_.id)))}};n.OscLinkService=g=u([d(0,h.IBufferService)],g)},8343:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0;const c="di$target",u="di$dependencies";n.serviceRegistry=new Map,n.getServiceDependencies=function(d){return d[u]||[]},n.createDecorator=function(d){if(n.serviceRegistry.has(d))return n.serviceRegistry.get(d);const h=function(g,_,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(b,m,v){m[c]===m?m[u].push({id:b,index:v}):(m[u]=[{id:b,index:v}],m[c]=m)})(h,g,w)};return h.toString=()=>d,n.serviceRegistry.set(d,h),h}},2585:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const u=c(8343);var d;n.IBufferService=(0,u.createDecorator)("BufferService"),n.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),n.ICoreService=(0,u.createDecorator)("CoreService"),n.ICharsetService=(0,u.createDecorator)("CharsetService"),n.IInstantiationService=(0,u.createDecorator)("InstantiationService"),function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"}(d||(n.LogLevelEnum=d={})),n.ILogService=(0,u.createDecorator)("LogService"),n.IOptionsService=(0,u.createDecorator)("OptionsService"),n.IOscLinkService=(0,u.createDecorator)("OscLinkService"),n.IUnicodeService=(0,u.createDecorator)("UnicodeService"),n.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(l,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const u=c(8460),d=c(225);class h{static extractShouldJoin(_){return(1&_)!=0}static extractWidth(_){return _>>1&3}static extractCharKind(_){return _>>3}static createPropertyValue(_,w,b=!1){return(16777215&_)<<3|(3&w)<<1|(b?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const _=new d.UnicodeV6;this.register(_),this._active=_.version,this._activeProvider=_}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(_){if(!this._providers[_])throw new Error(`unknown Unicode version "${_}"`);this._active=_,this._activeProvider=this._providers[_],this._onChange.fire(_)}register(_){this._providers[_.version]=_}wcwidth(_){return this._activeProvider.wcwidth(_)}getStringCellWidth(_){let w=0,b=0;const m=_.length;for(let v=0;v<m;++v){let p=_.charCodeAt(v);if(55296<=p&&p<=56319){if(++v>=m)return w+this.wcwidth(p);const E=_.charCodeAt(v);56320<=E&&E<=57343?p=1024*(p-55296)+E-56320+65536:w+=this.wcwidth(E)}const x=this.charProperties(p,b);let y=h.extractWidth(x);h.extractShouldJoin(x)&&(y-=h.extractWidth(b)),w+=y,b=x}return w}charProperties(_,w){return this._activeProvider.charProperties(_,w)}}n.UnicodeService=h}},r={};function o(l){var n=r[l];if(n!==void 0)return n.exports;var c=r[l]={exports:{}};return s[l].call(c.exports,c,c.exports,o),c.exports}var a={};return(()=>{var l=a;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const n=o(9042),c=o(3236),u=o(844),d=o(5741),h=o(8285),g=o(7975),_=o(7090),w=["cols","rows"];class b extends u.Disposable{constructor(v){super(),this._core=this.register(new c.Terminal(v)),this._addonManager=this.register(new d.AddonManager),this._publicOptions={...this._core.options};const p=y=>this._core.options[y],x=(y,E)=>{this._checkReadonlyOptions(y),this._core.options[y]=E};for(const y in this._core.options){const E={get:p.bind(this,y),set:x.bind(this,y)};Object.defineProperty(this._publicOptions,y,E)}}_checkReadonlyOptions(v){if(w.includes(v))throw new Error(`Option "${v}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new _.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const v=this._core.coreService.decPrivateModes;let p="none";switch(this._core.coreMouseService.activeProtocol){case"X10":p="x10";break;case"VT200":p="vt200";break;case"DRAG":p="drag";break;case"ANY":p="any"}return{applicationCursorKeysMode:v.applicationCursorKeys,applicationKeypadMode:v.applicationKeypad,bracketedPasteMode:v.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:p,originMode:v.origin,reverseWraparoundMode:v.reverseWraparound,sendFocusMode:v.sendFocus,wraparoundMode:v.wraparound}}get options(){return this._publicOptions}set options(v){for(const p in v)this._publicOptions[p]=v[p]}blur(){this._core.blur()}focus(){this._core.focus()}input(v,p=!0){this._core.input(v,p)}resize(v,p){this._verifyIntegers(v,p),this._core.resize(v,p)}open(v){this._core.open(v)}attachCustomKeyEventHandler(v){this._core.attachCustomKeyEventHandler(v)}attachCustomWheelEventHandler(v){this._core.attachCustomWheelEventHandler(v)}registerLinkProvider(v){return this._core.registerLinkProvider(v)}registerCharacterJoiner(v){return this._checkProposedApi(),this._core.registerCharacterJoiner(v)}deregisterCharacterJoiner(v){this._checkProposedApi(),this._core.deregisterCharacterJoiner(v)}registerMarker(v=0){return this._verifyIntegers(v),this._core.registerMarker(v)}registerDecoration(v){return this._checkProposedApi(),this._verifyPositiveIntegers(v.x??0,v.width??0,v.height??0),this._core.registerDecoration(v)}hasSelection(){return this._core.hasSelection()}select(v,p,x){this._verifyIntegers(v,p,x),this._core.select(v,p,x)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(v,p){this._verifyIntegers(v,p),this._core.selectLines(v,p)}dispose(){super.dispose()}scrollLines(v){this._verifyIntegers(v),this._core.scrollLines(v)}scrollPages(v){this._verifyIntegers(v),this._core.scrollPages(v)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(v){this._verifyIntegers(v),this._core.scrollToLine(v)}clear(){this._core.clear()}write(v,p){this._core.write(v,p)}writeln(v,p){this._core.write(v),this._core.write(`\r
`,p)}paste(v){this._core.paste(v)}refresh(v,p){this._verifyIntegers(v,p),this._core.refresh(v,p)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(v){this._addonManager.loadAddon(this,v)}static get strings(){return n}_verifyIntegers(...v){for(const p of v)if(p===1/0||isNaN(p)||p%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...v){for(const p of v)if(p&&(p===1/0||isNaN(p)||p%1!=0||p<0))throw new Error("This API only accepts positive integers")}}l.Terminal=b})(),a})())})(Fm);var Yw=Fm.exports;/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var Jw=2,Zw=1,Qw=class{activate(t){this._terminal=t}dispose(){}fit(){let t=this.proposeDimensions();if(!t||!this._terminal||isNaN(t.cols)||isNaN(t.rows))return;let e=this._terminal._core;(this._terminal.rows!==t.rows||this._terminal.cols!==t.cols)&&(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}proposeDimensions(){var h;if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let t=this._terminal._core._renderService.dimensions;if(t.css.cell.width===0||t.css.cell.height===0)return;let e=this._terminal.options.scrollback===0?0:((h=this._terminal.options.overviewRuler)==null?void 0:h.width)||14,s=window.getComputedStyle(this._terminal.element.parentElement),r=parseInt(s.getPropertyValue("height")),o=Math.max(0,parseInt(s.getPropertyValue("width"))),a=window.getComputedStyle(this._terminal.element),l={top:parseInt(a.getPropertyValue("padding-top")),bottom:parseInt(a.getPropertyValue("padding-bottom")),right:parseInt(a.getPropertyValue("padding-right")),left:parseInt(a.getPropertyValue("padding-left"))},n=l.top+l.bottom,c=l.right+l.left,u=r-n,d=o-c-e;return{cols:Math.max(Jw,Math.floor(d/t.css.cell.width)),rows:Math.max(Zw,Math.floor(u/t.css.cell.height))}}};/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var e4=class{constructor(t,e,s,r={}){this._terminal=t,this._regex=e,this._handler=s,this._options=r}provideLinks(t,e){let s=s4.computeLink(t,this._regex,this._terminal,this._handler);e(this._addCallbacks(s))}_addCallbacks(t){return t.map(e=>(e.leave=this._options.leave,e.hover=(s,r)=>{if(this._options.hover){let{range:o}=e;this._options.hover(s,r,o)}},e))}};function t4(t){try{let e=new URL(t),s=e.password&&e.username?`${e.protocol}//${e.username}:${e.password}@${e.host}`:e.username?`${e.protocol}//${e.username}@${e.host}`:`${e.protocol}//${e.host}`;return t.toLocaleLowerCase().startsWith(s.toLocaleLowerCase())}catch{return!1}}var s4=class Sl{static computeLink(e,s,r,o){let a=new RegExp(s.source,(s.flags||"")+"g"),[l,n]=Sl._getWindowedLineStrings(e-1,r),c=l.join(""),u,d=[];for(;u=a.exec(c);){let h=u[0];if(!t4(h))continue;let[g,_]=Sl._mapStrIdx(r,n,0,u.index),[w,b]=Sl._mapStrIdx(r,g,_,h.length);if(g===-1||_===-1||w===-1||b===-1)continue;let m={start:{x:_+1,y:g+1},end:{x:b,y:w+1}};d.push({range:m,text:h,activate:o})}return d}static _getWindowedLineStrings(e,s){let r,o=e,a=e,l=0,n="",c=[];if(r=s.buffer.active.getLine(e)){let u=r.translateToString(!0);if(r.isWrapped&&u[0]!==" "){for(l=0;(r=s.buffer.active.getLine(--o))&&l<2048&&(n=r.translateToString(!0),l+=n.length,c.push(n),!(!r.isWrapped||n.indexOf(" ")!==-1)););c.reverse()}for(c.push(u),l=0;(r=s.buffer.active.getLine(++a))&&r.isWrapped&&l<2048&&(n=r.translateToString(!0),l+=n.length,c.push(n),n.indexOf(" ")===-1););}return[c,o]}static _mapStrIdx(e,s,r,o){let a=e.buffer.active,l=a.getNullCell(),n=r;for(;o;){let c=a.getLine(s);if(!c)return[-1,-1];for(let u=n;u<c.length;++u){c.getCell(u,l);let d=l.getChars();if(l.getWidth()&&(o-=d.length||1,u===c.length-1&&d==="")){let h=a.getLine(s+1);h&&h.isWrapped&&(h.getCell(0,l),l.getWidth()===2&&(o+=1))}if(o<0)return[s,u]}s++,n=0}return[s,n]}},i4=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function r4(t,e){let s=window.open();if(s){try{s.opener=null}catch{}s.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}var o4=class{constructor(t=r4,e={}){this._handler=t,this._options=e}activate(t){this._terminal=t;let e=this._options,s=e.urlRegex||i4;this._linkProvider=this._terminal.registerLinkProvider(new e4(this._terminal,s,this._handler,e))}dispose(){var t;(t=this._linkProvider)==null||t.dispose()}},Vm={exports:{}};(function(t,e){(function(s,r){t.exports=r()})(self,()=>(()=>{var s={345:(l,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.runAndSubscribe=n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===c)return void this._listeners.splice(u,1)}}})),this._event}fire(c,u){const d=[];for(let h=0;h<this._listeners.length;h++)d.push(this._listeners[h]);for(let h=0;h<d.length;h++)d[h].call(void 0,c,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(c,u){return c(d=>u.fire(d))},n.runAndSubscribe=function(c,u){return u(void 0),c(d=>u(d))}},859:(l,n)=>{function c(u){for(const d of u)d.dispose();u.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const d=this._disposables.indexOf(u);d!==-1&&this._disposables.splice(d,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var d;this._isDisposed||u===this._value||((d=this._value)==null||d.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)==null||u.dispose(),this._value=void 0}},n.toDisposable=function(u){return{dispose:u}},n.disposeArray=c,n.getDisposeArrayDisposable=function(u){return{dispose:()=>c(u)}}}},r={};function o(l){var n=r[l];if(n!==void 0)return n.exports;var c=r[l]={exports:{}};return s[l](c,c.exports,o),c.exports}var a={};return(()=>{var l=a;Object.defineProperty(l,"__esModule",{value:!0}),l.SearchAddon=void 0;const n=o(345),c=o(859),u=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class d extends c.Disposable{constructor(g){super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new c.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new c.MutableDisposable,this._onDidChangeResults=this.register(new n.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(g==null?void 0:g.highlightLimit)??1e3}activate(g){this._terminal=g,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,c.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var g;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((g=this._lastSearchOptions)!=null&&g.decorations)&&(this._highlightTimeout=setTimeout(()=>{const _=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(_,{...this._lastSearchOptions,incremental:!0,noScroll:!0})},200))}clearDecorations(g){this._selectedDecoration.clear(),(0,c.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),g||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(g,_){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const w=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,_);this._lastSearchOptions=_,_!=null&&_.decorations&&(this._cachedSearchTerm===void 0||g!==this._cachedSearchTerm||w)&&this._highlightAllMatches(g,_);const b=this._findNextAndSelect(g,_);return this._fireResults(_),this._cachedSearchTerm=g,b}_highlightAllMatches(g,_){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!g||g.length===0)return void this.clearDecorations();_=_||{},this.clearDecorations(!0);const w=[];let b,m=this._find(g,0,0,_);for(;m&&((b==null?void 0:b.row)!==m.row||(b==null?void 0:b.col)!==m.col)&&!(w.length>=this._highlightLimit);)b=m,w.push(b),m=this._find(g,b.col+b.term.length>=this._terminal.cols?b.row+1:b.row,b.col+b.term.length>=this._terminal.cols?0:b.col+1,_);for(const v of w){const p=this._createResultDecoration(v,_.decorations);p&&(this._highlightedLines.add(p.marker.line),this._highlightDecorations.push({decoration:p,match:v,dispose(){p.dispose()}}))}}_find(g,_,w,b){var p;if(!this._terminal||!g||g.length===0)return(p=this._terminal)==null||p.clearSelection(),void this.clearDecorations();if(w>this._terminal.cols)throw new Error(`Invalid col: ${w} to search in terminal of ${this._terminal.cols} cols`);let m;this._initLinesCache();const v={startRow:_,startCol:w};if(m=this._findInLine(g,v,b),!m)for(let x=_+1;x<this._terminal.buffer.active.baseY+this._terminal.rows&&(v.startRow=x,v.startCol=0,m=this._findInLine(g,v,b),!m);x++);return m}_findNextAndSelect(g,_){var x;if(!this._terminal||!g||g.length===0)return(x=this._terminal)==null||x.clearSelection(),this.clearDecorations(),!1;const w=this._terminal.getSelectionPosition();this._terminal.clearSelection();let b=0,m=0;w&&(this._cachedSearchTerm===g?(b=w.end.x,m=w.end.y):(b=w.start.x,m=w.start.y)),this._initLinesCache();const v={startRow:m,startCol:b};let p=this._findInLine(g,v,_);if(!p)for(let y=m+1;y<this._terminal.buffer.active.baseY+this._terminal.rows&&(v.startRow=y,v.startCol=0,p=this._findInLine(g,v,_),!p);y++);if(!p&&m!==0)for(let y=0;y<m&&(v.startRow=y,v.startCol=0,p=this._findInLine(g,v,_),!p);y++);return!p&&w&&(v.startRow=w.start.y,v.startCol=0,p=this._findInLine(g,v,_)),this._selectResult(p,_==null?void 0:_.decorations,_==null?void 0:_.noScroll)}findPrevious(g,_){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const w=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,_);this._lastSearchOptions=_,_!=null&&_.decorations&&(this._cachedSearchTerm===void 0||g!==this._cachedSearchTerm||w)&&this._highlightAllMatches(g,_);const b=this._findPreviousAndSelect(g,_);return this._fireResults(_),this._cachedSearchTerm=g,b}_didOptionsChange(g,_){return!!_&&(g.caseSensitive!==_.caseSensitive||g.regex!==_.regex||g.wholeWord!==_.wholeWord)}_fireResults(g){if(g!=null&&g.decorations){let _=-1;if(this._selectedDecoration.value){const w=this._selectedDecoration.value.match;for(let b=0;b<this._highlightDecorations.length;b++){const m=this._highlightDecorations[b].match;if(m.row===w.row&&m.col===w.col&&m.size===w.size){_=b;break}}}this._onDidChangeResults.fire({resultIndex:_,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(g,_){var y;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!g||g.length===0)return(y=this._terminal)==null||y.clearSelection(),this.clearDecorations(),!1;const w=this._terminal.getSelectionPosition();this._terminal.clearSelection();let b=this._terminal.buffer.active.baseY+this._terminal.rows-1,m=this._terminal.cols;const v=!0;this._initLinesCache();const p={startRow:b,startCol:m};let x;if(w&&(p.startRow=b=w.start.y,p.startCol=m=w.start.x,this._cachedSearchTerm!==g&&(x=this._findInLine(g,p,_,!1),x||(p.startRow=b=w.end.y,p.startCol=m=w.end.x))),x||(x=this._findInLine(g,p,_,v)),!x){p.startCol=Math.max(p.startCol,this._terminal.cols);for(let E=b-1;E>=0&&(p.startRow=E,x=this._findInLine(g,p,_,v),!x);E--);}if(!x&&b!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let E=this._terminal.buffer.active.baseY+this._terminal.rows-1;E>=b&&(p.startRow=E,x=this._findInLine(g,p,_,v),!x);E--);return this._selectResult(x,_==null?void 0:_.decorations,_==null?void 0:_.noScroll)}_initLinesCache(){const g=this._terminal;this._linesCache||(this._linesCache=new Array(g.buffer.active.length),this._linesCacheDisposables.value=(0,c.getDisposeArrayDisposable)([g.onLineFeed(()=>this._destroyLinesCache()),g.onCursorMove(()=>this._destroyLinesCache()),g.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(g,_,w){return(g===0||u.includes(_[g-1]))&&(g+w.length===_.length||u.includes(_[g+w.length]))}_findInLine(g,_,w={},b=!1){var L;const m=this._terminal,v=_.startRow,p=_.startCol,x=m.buffer.active.getLine(v);if(x!=null&&x.isWrapped)return b?void(_.startCol+=m.cols):(_.startRow--,_.startCol+=m.cols,this._findInLine(g,_,w));let y=(L=this._linesCache)==null?void 0:L[v];y||(y=this._translateBufferLineToStringWithWrap(v,!0),this._linesCache&&(this._linesCache[v]=y));const[E,A]=y,D=this._bufferColsToStringOffset(v,p),S=w.caseSensitive?g:g.toLowerCase(),C=w.caseSensitive?E:E.toLowerCase();let B=-1;if(w.regex){const $=RegExp(S,"g");let P;if(b)for(;P=$.exec(C.slice(0,D));)B=$.lastIndex-P[0].length,g=P[0],$.lastIndex-=g.length-1;else P=$.exec(C.slice(D)),P&&P[0].length>0&&(B=D+($.lastIndex-P[0].length),g=P[0])}else b?D-S.length>=0&&(B=C.lastIndexOf(S,D-S.length)):B=C.indexOf(S,D);if(B>=0){if(w.wholeWord&&!this._isWholeWord(B,C,g))return;let $=0;for(;$<A.length-1&&B>=A[$+1];)$++;let P=$;for(;P<A.length-1&&B+g.length>=A[P+1];)P++;const ie=B-A[$],re=B+g.length-A[P],I=this._stringLengthToBufferSize(v+$,ie);return{term:g,col:I,row:v+$,size:this._stringLengthToBufferSize(v+P,re)-I+m.cols*(P-$)}}}_stringLengthToBufferSize(g,_){const w=this._terminal.buffer.active.getLine(g);if(!w)return 0;for(let b=0;b<_;b++){const m=w.getCell(b);if(!m)break;const v=m.getChars();v.length>1&&(_-=v.length-1);const p=w.getCell(b+1);p&&p.getWidth()===0&&_++}return _}_bufferColsToStringOffset(g,_){const w=this._terminal;let b=g,m=0,v=w.buffer.active.getLine(b);for(;_>0&&v;){for(let p=0;p<_&&p<w.cols;p++){const x=v.getCell(p);if(!x)break;x.getWidth()&&(m+=x.getCode()===0?1:x.getChars().length)}if(b++,v=w.buffer.active.getLine(b),v&&!v.isWrapped)break;_-=w.cols}return m}_translateBufferLineToStringWithWrap(g,_){var p;const w=this._terminal,b=[],m=[0];let v=w.buffer.active.getLine(g);for(;v;){const x=w.buffer.active.getLine(g+1),y=!!x&&x.isWrapped;let E=v.translateToString(!y&&_);if(y&&x){const A=v.getCell(v.length-1);A&&A.getCode()===0&&A.getWidth()===1&&((p=x.getCell(0))==null?void 0:p.getWidth())===2&&(E=E.slice(0,-1))}if(b.push(E),!y)break;m.push(m[m.length-1]+E.length),g++,v=x}return[b.join(""),m]}_selectResult(g,_,w){const b=this._terminal;if(this._selectedDecoration.clear(),!g)return b.clearSelection(),!1;if(b.select(g.col,g.row,g.size),_){const m=b.registerMarker(-b.buffer.active.baseY-b.buffer.active.cursorY+g.row);if(m){const v=b.registerDecoration({marker:m,x:g.col,width:g.size,backgroundColor:_.activeMatchBackground,layer:"top",overviewRulerOptions:{color:_.activeMatchColorOverviewRuler}});if(v){const p=[];p.push(m),p.push(v.onRender(x=>this._applyStyles(x,_.activeMatchBorder,!0))),p.push(v.onDispose(()=>(0,c.disposeArray)(p))),this._selectedDecoration.value={decoration:v,match:g,dispose(){v.dispose()}}}}}if(!w&&(g.row>=b.buffer.active.viewportY+b.rows||g.row<b.buffer.active.viewportY)){let m=g.row-b.buffer.active.viewportY;m-=Math.floor(b.rows/2),b.scrollLines(m)}return!0}_applyStyles(g,_,w){g.classList.contains("xterm-find-result-decoration")||(g.classList.add("xterm-find-result-decoration"),_&&(g.style.outline=`1px solid ${_}`)),w&&g.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(g,_){const w=this._terminal,b=w.registerMarker(-w.buffer.active.baseY-w.buffer.active.cursorY+g.row);if(!b)return;const m=w.registerDecoration({marker:b,x:g.col,width:g.size,backgroundColor:_.matchBackground,overviewRulerOptions:this._highlightedLines.has(b.line)?void 0:{color:_.matchOverviewRuler,position:"center"}});if(m){const v=[];v.push(b),v.push(m.onRender(p=>this._applyStyles(p,_.matchBorder,!1))),v.push(m.onDispose(()=>(0,c.disposeArray)(v)))}return m}}l.SearchAddon=d})(),a})())})(Vm);var n4=Vm.exports;const a4={key:0,class:"terminal-container"},l4={class:"terminal-toolbar"},c4={class:"toolbar-left"},u4={class:"toolbar-center"},d4={class:"tabs-container"},h4=["onClick"],f4=["onClick"],p4={class:"toolbar-right"},m4={key:0,class:"settings-panel"},g4={class:"settings-content"},v4={class:"settings-item"},b4={class:"settings-item"},x4={class:"terminal-content"},_4=Ai({__name:"Terminal",props:{visible:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const s=t,r=e,o=V([]),a=V(""),l=new Map,n=new Map,c=V(!1),u=V(14),d=V("dark"),h=async()=>{const S=`tab-${Date.now()}`,C={id:S,title:` ${o.value.length+1}`,terminal:null,socket:null,fitAddon:null};o.value.push(C),a.value=S,await Bs(),await new Promise(B=>setTimeout(B,100)),g(S)},g=async S=>{const C=o.value.find(R=>R.id===S);if(!C)return;const B=new Yw.Terminal({cursorBlink:!0,fontSize:u.value,fontFamily:'Consolas, "Courier New", monospace',theme:_(d.value),rows:24,cols:80,allowTransparency:!0}),L=new Qw,$=new o4,P=new n4.SearchAddon;B.loadAddon(L),B.loadAddon($),B.loadAddon(P);let ie=null,re=0;const I=10;for(;!ie&&re<I;){await Bs();const R=document.querySelector(`[data-tab-id="${S}"]`);if(R&&(ie=R.querySelector(".terminal-wrapper")),!ie){const K=o.value.findIndex(G=>G.id===S);if(K>=0){const G=document.querySelectorAll(".terminal-pane");G[K]&&(ie=G[K].querySelector(".terminal-wrapper"))}}ie||(re++,await new Promise(K=>setTimeout(K,50)))}if(!ie){console.error(`[TERMINAL] Cannot find wrapper for tab ${S} after ${I} attempts`),console.error("[TERMINAL] Available tabs:",o.value.map(R=>R.id)),console.error("[TERMINAL] Available elements:",document.querySelectorAll(".terminal-pane").length);return}console.log(`[TERMINAL] Opening terminal in wrapper for tab ${S}`),B.open(ie),L.fit(),B.focus(),new ResizeObserver(()=>{L.fit();const R=n.get(S);R&&R.readyState===WebSocket.OPEN&&R.send(JSON.stringify({type:"resize",cols:B.cols,rows:B.rows}))}).observe(ie);const se=w(S,B);C.terminal=B,C.socket=se,C.fitAddon=L,l.set(S,B),n.set(S,se),B.onData(R=>{console.log("[TERMINAL] Input received, socket:",se?"exists":"null","readyState:",se==null?void 0:se.readyState),se&&se.readyState===WebSocket.OPEN?(console.log("[TERMINAL] Sending input:",JSON.stringify({type:"input",data:R.substring(0,20)})),se.send(JSON.stringify({type:"input",data:R}))):console.warn(`[TERMINAL] Cannot send input: socket=${se?"exists":"null"}, readyState=${se==null?void 0:se.readyState}`)}),B.onSelectionChange(()=>{})},_=S=>{const C={dark:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#aeafad",selection:"#264f78"},light:{background:"#ffffff",foreground:"#000000",cursor:"#000000",selection:"#add6ff"},green:{background:"#0c0c0c",foreground:"#00ff00",cursor:"#00ff00",selection:"#003366"}};return C[S]||C.dark},w=(S,C)=>{const B=window.location.protocol==="https:"?"wss:":"ws:",L=sessionStorage.getItem("apiAuth");if(!L)return C.write(`\r
\x1B[31m: \x1B[0m\r
`),null;const $=`${B}//${window.location.host}/api/terminal/ws`,P=new WebSocket($,[`auth.${L}`]);let ie=!1;return P.onopen=()=>{C.writeln(`\r
\x1B[32m ...\x1B[0m\r
`),P.send(JSON.stringify({type:"auth",token:L}))},P.onmessage=re=>{try{const I=JSON.parse(re.data);I.type==="auth"&&I.success?(C.writeln(`\x1B[32m \x1B[0m\r
`),ie||(P.send(JSON.stringify({type:"init"})),ie=!0)):I.type==="output"?(console.log(`[TERMINAL] Received output, length: ${I.data.length}, preview: ${I.data.substring(0,50)}`),C.write(I.data)):I.type==="error"?(C.write(`\r
\x1B[31m: ${I.message}\x1B[0m\r
`),(I.message==="Authentication failed"||I.message==="Not authenticated")&&C.writeln(`\x1B[31m\x1B[0m\r
`)):I.type==="exit"&&C.write(`\r
\x1B[33m: ${I.code}\x1B[0m\r
`)}catch{C.write(re.data)}},P.onerror=re=>{C.write(`\r
\x1B[31mWebSocket \x1B[0m\r
`),console.error("WebSocket error:",re)},P.onclose=()=>{C.write(`\r
\x1B[33m\x1B[0m\r
`)},P},b=S=>{a.value=S,Bs(()=>{const C=o.value.find(B=>B.id===S);C&&(C.fitAddon&&C.fitAddon.fit(),C.terminal&&C.terminal.focus())})},m=()=>{o.value.length>1&&v(a.value)},v=S=>{const C=o.value.findIndex($=>$.id===S);if(C===-1)return;const B=n.get(S);B&&(B.close(),n.delete(S));const L=l.get(S);L&&(L.dispose(),l.delete(S)),o.value.splice(C,1),a.value===S&&o.value.length>0&&(a.value=o.value[Math.max(0,C-1)].id)},p=()=>{const S=l.get(a.value);if(S){const C=S.getSelection();C&&navigator.clipboard.writeText(C).then(()=>{})}},x=async()=>{try{if(!navigator.clipboard||!navigator.clipboard.readText){console.warn(" API  HTTPS ");const B=document.createElement("textarea");B.style.position="fixed",B.style.opacity="0",document.body.appendChild(B),B.focus();const $=document.execCommand("paste")?B.value:"";if(document.body.removeChild(B),$){const P=l.get(a.value);P&&P.paste($)}return}const S=await navigator.clipboard.readText(),C=l.get(a.value);C&&C.paste(S)}catch(S){console.error(":",S);try{const C=document.createElement("textarea");C.style.position="fixed",C.style.opacity="0",document.body.appendChild(C),C.focus();const L=document.execCommand("paste")?C.value:"";if(document.body.removeChild(C),L){const $=l.get(a.value);$&&$.paste(L)}}catch(C){console.error(":",C)}}},y=()=>{const S=l.get(a.value);S&&S.clear()},E=()=>{o.value.forEach(S=>{S.terminal&&(S.terminal.options.fontSize=u.value,S.terminal.options.theme=_(d.value),S.fitAddon&&S.fitAddon.fit())})},A=()=>{r("close")},D=(S,C)=>{if(S){const B=S.closest(".terminal-pane");B&&(B.setAttribute("data-tab-id",C),console.log(`[TERMINAL] Set ref for tab ${C}, element:`,S))}};return oa(()=>s.visible,async S=>{if(S)if(o.value.length===0)await h();else{const C=o.value.find(B=>B.id===a.value);C&&(!C.socket||C.socket.readyState!==WebSocket.OPEN)&&(console.log("[TERMINAL] Reinitializing terminal for existing tab"),C.terminal&&C.terminal.dispose(),C.socket&&C.socket.close(),await g(a.value))}else console.log("[TERMINAL] Terminal hidden, cleaning up resources"),n.forEach((C,B)=>{C&&C.readyState===WebSocket.OPEN&&(console.log(`[TERMINAL] Closing WebSocket for tab ${B}`),C.close())}),n.clear(),l.forEach((C,B)=>{C&&(console.log(`[TERMINAL] Disposing terminal for tab ${B}`),C.dispose())}),l.clear(),o.value.forEach(C=>{C.terminal=null,C.socket=null,C.fitAddon=null})}),Mi(()=>{s.visible&&o.value.length===0&&h()}),oo(()=>{n.forEach(S=>S.close()),l.forEach(S=>S.dispose())}),(S,C)=>t.visible?(M(),T("div",a4,[i("div",l4,[i("div",c4,[i("button",{onClick:h,class:"toolbar-btn",title:""},[...C[4]||(C[4]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),i("span",{class:"ml-1"},"",-1)])]),o.value.length>1?(M(),T("button",{key:0,onClick:m,class:"toolbar-btn",title:""},[...C[5]||(C[5]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),i("span",{class:"ml-1"},"",-1)])])):Q("",!0)]),i("div",u4,[i("div",d4,[(M(!0),T(Fe,null,Qe(o.value,(B,L)=>(M(),T("div",{key:B.id,class:Le(["tab",{active:a.value===B.id}]),onClick:$=>b(B.id)},[i("span",null,N(B.title),1),o.value.length>1?(M(),T("button",{key:0,onClick:ut($=>v(B.id),["stop"]),class:"tab-close",title:""},"",8,f4)):Q("",!0)],10,h4))),128))])]),i("div",p4,[i("button",{onClick:p,class:"toolbar-btn",title:""},[...C[6]||(C[6]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),i("span",{class:"ml-1"},"",-1)])]),i("button",{onClick:x,class:"toolbar-btn",title:""},[...C[7]||(C[7]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),i("span",{class:"ml-1"},"",-1)])]),i("button",{onClick:y,class:"toolbar-btn",title:""},[...C[8]||(C[8]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),i("span",{class:"ml-1"},"",-1)])]),i("button",{onClick:C[0]||(C[0]=B=>c.value=!c.value),class:"toolbar-btn",title:""},[...C[9]||(C[9]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),i("span",{class:"ml-1"},"",-1)])]),i("button",{onClick:A,class:"toolbar-btn",title:""},[...C[10]||(C[10]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),i("span",{class:"ml-1"},"",-1)])])])]),c.value?(M(),T("div",m4,[i("div",g4,[C[14]||(C[14]=i("h3",{class:"settings-title"},"",-1)),i("div",v4,[C[11]||(C[11]=i("label",null,"",-1)),Re(i("input",{type:"number","onUpdate:modelValue":C[1]||(C[1]=B=>u.value=B),min:"10",max:"24",onChange:E},null,544),[[je,u.value,void 0,{number:!0}]])]),i("div",b4,[C[13]||(C[13]=i("label",null,"",-1)),Re(i("select",{"onUpdate:modelValue":C[2]||(C[2]=B=>d.value=B),onChange:E},[...C[12]||(C[12]=[i("option",{value:"dark"},"",-1),i("option",{value:"light"},"",-1),i("option",{value:"green"},"",-1)])],544),[[Ni,d.value]])]),i("button",{onClick:C[3]||(C[3]=B=>c.value=!1),class:"settings-close"},"")])])):Q("",!0),i("div",x4,[(M(!0),T(Fe,null,Qe(o.value,B=>(M(),T("div",{key:B.id,class:Le(["terminal-pane",{active:a.value===B.id}])},[i("div",{ref_for:!0,ref:L=>D(L,B.id),class:"terminal-wrapper"},null,512)],2))),128))])])):Q("",!0)}}),y4=Vi(_4,[["__scopeId","data-v-777760d3"]]),w4={class:"min-h-screen bg-gray-50"},k4={class:"mt-6 px-3 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"},S4={class:"space-y-1"},C4={key:0,class:"ml-auto w-2 h-2 bg-blue-500 rounded-full animate-pulse"},E4={key:0,class:"ml-auto w-2 h-2 bg-blue-500 rounded-full animate-pulse"},A4={class:"pt-4"},M4={class:"pt-4"},T4={key:0,class:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse"},D4={class:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 border-t border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50"},L4={class:"flex items-center"},$4={class:"h-9 w-9 sm:h-10 sm:w-10 rounded-full overflow-hidden bg-gradient-to-r from-green-500 to-blue-500 flex items-center justify-center shadow-lg"},R4=["src"],B4={key:1,class:"h-4 w-4 sm:h-5 sm:w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P4={class:"ml-2 sm:ml-3 flex-1 min-w-0"},O4={class:"text-xs sm:text-sm font-semibold text-gray-900 truncate"},I4={class:"text-xs text-green-600 font-medium flex items-center truncate"},N4={class:"truncate"},j4={class:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-gray-200"},H4={class:"flex items-center justify-between text-xs"},z4={class:"bg-red-500 text-white px-1.5 sm:px-2 py-0.5 rounded-full font-medium text-xs"},F4={class:"bg-white shadow-sm border-b border-gray-200"},U4={class:"flex items-center justify-between h-14 sm:h-16 px-3 sm:px-4 lg:px-6 xl:px-8"},V4={class:"flex items-center min-w-0 flex-1"},W4={class:"ml-2 sm:ml-4 text-base sm:text-lg lg:text-xl font-semibold text-gray-900 truncate"},q4={class:"flex items-center space-x-4"},K4={class:"flex items-center space-x-2"},G4={class:"h-8 w-8 rounded-full overflow-hidden bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0"},X4=["src"],Y4={key:1,class:"h-4 w-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J4={class:"text-sm"},Z4={class:"font-medium text-gray-900"},Q4={class:"flex-1 overflow-auto"},e5={class:"bg-gray-50 border-t border-gray-200 py-4 px-6"},t5={class:"max-w-7xl mx-auto"},s5={class:"text-center text-sm text-gray-600"},i5={class:"flex items-center justify-center space-x-2 mb-2"},r5={key:0,class:"text-gray-500 text-xs ml-2"},o5=["href"],n5={class:"text-gray-400 text-xs"},a5={class:"version-text"},l5={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},c5={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},u5={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},d5={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},h5={class:"sm:flex sm:items-start"},f5={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},p5={class:"flex items-center justify-between mb-4"},m5={class:"flex items-center space-x-2"},g5={key:0,class:"flex items-center space-x-2"},v5={key:1,class:"text-xs text-gray-500"},b5={key:0,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},x5={class:"flex items-center"},_5={class:"text-sm text-red-600"},y5={class:"mt-4"},w5={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},k5={class:"bg-white p-4 rounded-lg border"},S5={class:"flex items-center justify-between mb-3"},C5={class:"flex items-center space-x-2 text-xs"},E5={class:"flex items-center space-x-1"},A5={class:"text-gray-600"},M5={class:"flex items-center space-x-1"},T5={class:"text-gray-600"},D5={class:"flex items-center space-x-1"},L5={class:"text-gray-600"},$5={class:"grid grid-cols-2 gap-2"},R5=["onClick"],B5={class:"relative"},P5={key:0,class:"absolute inset-0 w-2 h-2 rounded-full bg-green-400 animate-ping opacity-75"},O5={key:1,class:"absolute inset-0 w-2 h-2 rounded-full bg-orange-400 animate-ping opacity-75"},I5={class:"flex-1 min-w-0"},N5={class:"text-xs font-medium text-gray-700 truncate"},j5={class:"text-xs text-gray-500"},H5={class:"bg-white p-4 rounded-lg border"},z5={key:0,class:"space-y-2"},F5={class:"flex justify-between"},U5={class:"text-sm font-medium text-blue-600"},V5={class:"flex justify-between"},W5={class:"text-sm font-medium text-blue-600"},q5={class:"flex justify-between"},K5={class:"flex justify-between"},G5={key:0,class:"mt-3 pt-2 border-t border-gray-200"},X5={class:"space-y-1 text-xs"},Y5={class:"flex justify-between"},J5={class:"flex justify-between"},Z5={class:"flex justify-between"},Q5={class:"flex justify-between"},e3={class:"flex justify-between"},t3={class:"flex justify-between"},s3={key:0,class:"mt-2 pt-2 border-t border-gray-200"},i3={class:"grid grid-cols-2 gap-1 text-xs"},r3={class:"flex justify-between"},o3={class:"font-medium"},n3={class:"flex justify-between"},a3={class:"font-medium text-green-600"},l3={class:"flex justify-between"},c3={class:"font-medium text-yellow-600"},u3={class:"flex justify-between"},d3={class:"font-medium text-red-600"},h3={key:1,class:"mt-2 p-2 bg-red-50 rounded text-xs text-red-600"},f3={key:1,class:"text-sm text-gray-500"},p3={class:"bg-white p-4 rounded-lg border"},m3={class:"space-y-2"},g3={class:"flex justify-between"},v3={class:"text-sm font-medium text-blue-600"},b3={class:"flex justify-between"},x3={class:"text-sm font-medium text-blue-600"},_3={class:"flex justify-between"},y3={class:"text-sm font-medium text-blue-600"},w3={class:"flex justify-between"},k3={class:"text-sm font-medium text-blue-600"},S3={class:"flex justify-between"},C3={class:"text-sm font-medium text-blue-600"},E3={class:"flex justify-between"},A3={class:"text-sm font-medium text-blue-600"},M3={class:"flex justify-between"},T3={class:"text-sm font-medium text-blue-600"},D3={class:"flex justify-between"},L3={class:"text-sm font-medium text-blue-600"},$3={class:"flex justify-between"},R3={class:"text-sm font-medium text-blue-600"},B3={class:"flex justify-between"},P3={class:"text-sm font-medium text-blue-600"},O3={class:"bg-white p-4 rounded-lg border"},I3={class:"space-y-2"},N3={class:"flex justify-between"},j3={class:"flex justify-between"},H3={class:"flex justify-between"},z3={class:"flex justify-between"},F3={key:0,class:"mt-3 pt-2 border-t border-gray-200"},U3={class:"grid grid-cols-2 gap-2 text-xs"},V3={class:"flex justify-between"},W3={class:"font-medium"},q3={class:"flex justify-between"},K3={class:"font-medium text-red-600"},G3={class:"flex justify-between"},X3={class:"font-medium text-green-600"},Y3={class:"flex justify-between"},J3={class:"font-medium text-blue-600"},Z3={class:"mt-3 pt-2 border-t border-gray-200"},Q3={class:"flex justify-between"},ek={class:"text-sm font-medium text-blue-600"},tk={class:"flex justify-between"},sk={class:"text-sm font-medium text-blue-600"},ik={class:"mt-3"},rk={key:1,class:"mt-3 p-3 bg-gray-50 rounded-lg text-xs"},ok={key:0,class:"mb-3"},nk={class:"text-gray-600 whitespace-pre-wrap"},ak={key:1,class:"mb-3"},lk={class:"text-gray-600 whitespace-pre-wrap"},ck={key:2,class:"mb-3"},uk={class:"text-gray-600 whitespace-pre-wrap"},dk={key:3,class:"mb-3"},hk={class:"text-gray-600 whitespace-pre-wrap"},fk={key:4,class:"mb-3"},pk={class:"text-gray-600 whitespace-pre-wrap"},mk={key:5,class:"mb-3"},gk={class:"text-gray-600 whitespace-pre-wrap"},vk={key:6,class:"mb-3"},bk={class:"text-gray-600 whitespace-pre-wrap"},xk={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},_k={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},yk={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},wk={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},kk={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Sk={class:"sm:flex sm:items-start"},Ck={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Ek={class:"mt-6 space-y-6"},Ak={class:"bg-gradient-to-br from-orange-50 to-red-50 p-6 rounded-xl border border-orange-200"},Mk={class:"mb-4"},Tk={class:"flex items-center space-x-2"},Dk=["disabled"],Lk={class:"space-y-2 max-h-40 overflow-y-auto"},$k={class:"flex items-center space-x-2"},Rk={class:"text-sm font-medium text-gray-700"},Bk={class:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full"},Pk=["onClick"],Ok={class:"bg-gradient-to-br from-red-50 to-pink-50 p-6 rounded-xl border border-red-200"},Ik={class:"mb-4"},Nk={class:"flex items-center space-x-2"},jk=["disabled"],Hk={class:"space-y-2 max-h-40 overflow-y-auto"},zk={class:"text-sm font-medium text-gray-700"},Fk=["onClick"],Uk={class:"bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl border border-blue-200"},Vk={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Wk={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},qk=["disabled"],Kk={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},Gk={key:4,class:"fixed inset-0 z-50 overflow-y-auto"},Xk={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Yk={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full"},Jk={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Zk={class:"sm:flex sm:items-start"},Qk={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},eS={class:"mt-4 space-y-4"},tS={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},sS=["value"],iS=["value"],rS={class:"flex flex-wrap gap-2"},oS={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},nS=Ai({__name:"Layout",setup(t){const e=xx(),s=V(!1),r=V(!1),o=V({enabled:!1,number:"",url:"https://beian.miit.gov.cn/"}),a=async()=>{try{const _e=await fetch("/api/icp-info");if(_e.ok){const j=await _e.json();j.success&&j.icp&&(o.value={enabled:j.icp.enabled||!1,number:j.icp.number||"",url:j.icp.url||"https://beian.miit.gov.cn/"})}}catch(_e){console.warn(":",_e)}},l=V("V0.0.1"),n=V(!1),c=V(!1),u=V(!1),d=V(!1),h=V(!1),g=Ht(()=>{if(!r.value)return!1;const _e=sessionStorage.getItem("apiAuth");if(!_e)return!1;try{const Ke=atob(_e).split(":")[0];return Ke&&Ke.toLowerCase()==="xm"}catch{return!1}}),_=Ht(()=>{const _e=sessionStorage.getItem("apiAuth");if(!_e)return null;try{return atob(_e).split(":")[0]||null}catch{return null}}),w=V("xm@localhost"),b=V(" (xm@localhost)"),m=V(""),v=async()=>{try{const _e=await fetch("/api/admin-email",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(_e.ok){const j=await _e.json();j.success&&(w.value=j.email,b.value=j.display,console.log(":",w.value))}}catch(_e){console.warn(":",_e)}},p=async()=>{const _e=sessionStorage.getItem("apiAuth");if(!_e){m.value="";return}const j=_.value;if(!j){try{const Ze=atob(_e).split(":")[0];Ze?await x(Ze,_e):m.value=""}catch{m.value=""}return}await x(j,_e)},x=async(_e,j)=>{try{const Ke=await fetch("/api/ops",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${j}`},body:JSON.stringify({action:"query-user-profile",params:{username:_e}})});if(Ke.ok){const Ze=await Ke.json();if(Ze.success&&Ze.user&&Ze.user.avatar){let et=Ze.user.avatar||"";if(et&&typeof et=="string"?(et=et.trim(),(et.toUpperCase()==="NULL"||et===""||et==="null")&&(et="")):et="",et){let nt=et;!nt.startsWith("http")&&!nt.startsWith("/")&&(nt="/"+nt),m.value=nt,console.log(":",nt)}else m.value=""}else m.value=""}else Ke.status===401&&console.warn(": "),m.value=""}catch(Ke){console.warn(":",Ke),m.value=""}},y=_e=>{console.warn("");const j=_e.target;j&&(j.style.display="none")};window.refreshAdminEmail=v,window.refreshUserAvatar=p;const E=V(0),A=async()=>{try{const _e=sessionStorage.getItem("apiAuth");if(!_e)return;const j=await fetch("/api/mail/list?folder=inbox",{headers:{Authorization:`Basic ${_e}`}});if(j.ok){const Ze=(await j.json()).emails||[];E.value=Ze.filter(et=>!et.read).length}}catch(_e){console.error(":",_e)}},D=()=>{const _e=localStorage.getItem("unreadEmailCount");_e!==null&&(E.value=parseInt(_e)||0)},S=Ht(()=>{switch(e.path){case"/dashboard":return"";case"/mail":return"";default:return"XM"}}),C=()=>{s.value=!s.value},B=()=>{window.__loggingOut||(window.__loggingOut=!0,$o.stop(),sessionStorage.removeItem("apiAuth"),window.location.href="/login")},L=V({services:{},resources:{},systemInfo:{},network:{},processes:{},lastUpdate:null,loading:!1,error:null}),$=V(!1),P=V(null),ie=async()=>{c.value=!0,await re(),I()},re=async()=>{L.value.loading=!0,L.value.error=null;try{const j=await(await fetch("/api/system-status",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}})).json();j.success?L.value={...j.data,loading:!1,error:null}:(L.value.error=j.message||"",L.value.loading=!1)}catch(_e){console.error(":",_e),L.value.error="",L.value.loading=!1}},I=()=>{P.value&&clearInterval(P.value),P.value=setInterval(async()=>{c.value&&await re()},5e3)},ue=()=>{P.value&&(clearInterval(P.value),P.value=null)},se=_e=>({running:"bg-green-500 animate-pulse",stopped:"bg-red-500",error:"bg-orange-500 animate-pulse"})[_e]||"bg-gray-400",R=_e=>({running:"",stopped:"",error:""})[_e]||"",K=(_e,j)=>{console.log(`Service ${_e}: status=${j.status}, rawStatus=${j.rawStatus}, lastCheck=${j.lastCheck}`)},G=()=>{$.value=!$.value},U=_e=>({postfix:"Postfix",dovecot:"Dovecot",httpd:"Apache",mariadb:"MariaDB",named:"DNS",firewalld:"",dispatcher:"",mail:""})[_e]||_e,pe=_e=>L.value.services?Object.values(L.value.services).filter(j=>j.status===_e).length:0,Ae=async()=>{try{n.value=!0;const _e=await An.getVersion();l.value=`V${_e}`}catch(_e){console.warn(":",_e)}finally{n.value=!1}};Mi(()=>{sessionStorage.getItem("apiAuth")?(r.value=!0,A(),Ae(),a(),v(),Bs(()=>{setTimeout(()=>{p()},100)})):Bs(()=>{setTimeout(()=>{r.value=!0,Ae(),a()},50)}),window.addEventListener("unreadCountUpdated",j=>{E.value=j.detail.count}),setInterval(()=>{g.value&&A()},3e4),setInterval(()=>{D()},1e3)});const Me=(_e,j={warning:70,critical:90})=>_e>=j.critical?"text-red-600":_e>=j.warning?"text-orange-600":"text-green-600",ye=_e=>_e>=80?"text-green-600":_e>=60?"text-blue-600":_e>=40?"text-yellow-600":"text-red-600",W=_e=>({excellent:"text-green-600",good:"text-blue-600",fair:"text-yellow-600",poor:"text-red-600",not_configured:"text-gray-600",error:"text-red-600"})[_e]||"text-gray-600",O=_e=>({excellent:"",good:"",fair:"",poor:"",not_configured:"",error:""})[_e]||"",q=_e=>({configured:"text-green-600",missing:"text-yellow-600",error:"text-red-600"})[_e]||"text-gray-600",X=_e=>({configured:"",missing:"",error:""})[_e]||"",ge=_e=>{const j=Math.floor(_e/86400),Ke=Math.floor(_e%86400/3600),Ze=Math.floor(_e%3600/60);return j>0?`${j} ${Ke} ${Ze}`:Ke>0?`${Ke} ${Ze}`:`${Ze}`},z=V([]),J=V([]),ne=V(""),fe=V("cn"),xe=V(""),ae=V(!1),Ce=V({minBodyLines:3,maxCapsRatio:.7,maxExclamation:5,maxSpecialChars:10}),Pe=()=>{ne.value.trim()&&(z.value.push({text:ne.value.trim(),lang:fe.value}),ne.value="")},De=_e=>{z.value.splice(_e,1)},Se=()=>{xe.value.trim()&&(J.value.push(xe.value.trim()),xe.value="")},He=_e=>{J.value.splice(_e,1)},Ne=async()=>{ae.value=!0;try{const _e=sessionStorage.getItem("apiAuth");if(!_e)return;const Ke={keywords:{chinese:z.value.filter(et=>et.lang==="cn").map(et=>et.text),english:z.value.filter(et=>et.lang==="en").map(et=>et.text)},domainBlacklist:J.value,emailBlacklist:[],rules:{minContentLines:Ce.value.minBodyLines,uppercaseRatio:Ce.value.maxCapsRatio,maxExclamationMarks:Ce.value.maxExclamation,maxSpecialChars:Ce.value.maxSpecialChars}},Ze=await fetch("/api/spam-filter/config",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${_e}`},body:JSON.stringify(Ke)});if(Ze.ok){const et=await Ze.json();if(et.success)alert(""),h.value=!1;else throw new Error(et.message||"")}else throw new Error("")}catch(_e){console.error(":",_e),alert("")}finally{ae.value=!1}},Ve=async()=>{try{const _e=sessionStorage.getItem("apiAuth");if(!_e)return;const j={subject:"",content:"",from:"test@spam.com",to:"user@example.com"},Ke=await fetch("/api/spam-filter/check",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${_e}`},body:JSON.stringify(j)});if(Ke.ok){const Ze=await Ke.json();if(Ze.success){const et=Ze.data;et.isSpam?alert(`
 ${et.violations.length} 
: ${et.spamScore}
: ${et.summary}`):alert("")}}else throw new Error("")}catch(_e){console.error(":",_e),alert("")}},Be=V({type:"all",user:"",action:"",category:"",search:"",limit:50}),Ye=V([{value:"",label:""},{value:"general",label:""},{value:"mail",label:""},{value:"dns",label:"DNS"},{value:"system",label:""},{value:"user",label:""},{value:"security",label:""},{value:"backup",label:""},{value:"monitoring",label:""}]),st=V([{value:"all",label:""},{value:"USER_LOG",label:""},{value:"MAIL_OPERATION",label:""},{value:"DNS_CONFIG",label:"DNS"},{value:"SYSTEM_SETTINGS",label:""},{value:"SECURITY",label:""},{value:"BACKUP",label:""},{value:"TERMINAL_OUTPUT",label:""},{value:"ERROR_MESSAGE",label:""},{value:"DEBUG_INFO",label:""}]),qe=async()=>{u.value=!0,Be.value={type:"all",user:"",action:"",category:"",search:"",limit:50},await _t()},_t=async()=>{try{const _e=new URLSearchParams;Object.keys(Be.value).forEach(Ze=>{Be.value[Ze]&&_e.append(Ze,Be.value[Ze])});const Ke=await(await fetch(`/api/logs?${_e.toString()}`,{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}})).json();Ke.success&&Ke.logs?Wt(Ke.logs):Wt([])}catch(_e){console.error(":",_e),Wt([])}},wt=async()=>{await _t()},at=async _e=>{try{const j=new URLSearchParams;Object.keys(Be.value).forEach(Ze=>{Be.value[Ze]&&j.append(Ze,Be.value[Ze])}),j.append("format",_e);const Ke=await fetch(`/api/logs?${j.toString()}`,{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(Ke.ok){const Ze=await Ke.blob(),et=window.URL.createObjectURL(Ze),nt=document.createElement("a");nt.href=et,nt.download=`mail-logs.${_e}`,document.body.appendChild(nt),nt.click(),window.URL.revokeObjectURL(et),document.body.removeChild(nt)}}catch(j){console.error(":",j)}},rt=_e=>{const j={operation:"unknown",email:"",folder:"",limit:"",offset:"",details:{}},Ke=_e.match(/\[([A-Z_]+)\]/);Ke&&(j.operation=Ke[1]);const Ze=_e.match(/Email: ([^,]+)/);Ze&&(j.email=Ze[1]);const et=_e.match(/Folder: ([^,]+)/);et&&(j.folder=et[1]);const nt=_e.match(/Limit: ([^,]+)/);nt&&(j.limit=nt[1]);const Gt=_e.match(/Offset: ([^,]+)/);Gt&&(j.offset=Gt[1]);const Ue=_e.match(/Operation: ([^,]+)/);return Ue&&(j.operation=Ue[1]),j},Wt=_e=>{const j=document.querySelector(".log-viewer-content");if(j){if(lt(_e),_e.length===0){j.innerHTML=`
        <div class="flex items-center justify-center h-full">
          <div class="text-gray-500">
            <svg class="h-8 w-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
            <p></p>
          </div>
        </div>
      `;return}j.innerHTML=_e.map(Ke=>{const Ze=new Date(Ke.timestamp),et=`${Ze.getFullYear()}/${String(Ze.getMonth()+1).padStart(2,"0")}/${String(Ze.getDate()).padStart(2,"0")} ${String(Ze.getHours()).padStart(2,"0")}:${String(Ze.getMinutes()).padStart(2,"0")}:${String(Ze.getSeconds()).padStart(2,"0")}`,nt=rt(Ke.message),Gt=nt.operation!=="unknown"?nt.operation:Ke.action||"unknown",vt=((ds,hs)=>{const ys={MAIL_LIST:"",MAIL_SEND:"",MAIL_RECEIVE:"",MAIL_DELETE:"",MAIL_MOVE:"",FOLDER_CREATE:"",FOLDER_DELETE:"",LOGIN:"",LOGOUT:"",USER_CREATE:"",USER_UPDATE:"",USER_DELETE:""};return ys[hs]?ys[hs]:{TERMINAL_COMMAND_START:"",TERMINAL_COMMAND_SUCCESS:"",TERMINAL_COMMAND_ERROR:"",TERMINAL_ENV:"",TERMINAL_OUTPUT:"",TERMINAL_OUTPUT_SUMMARY:"",TERMINAL_STDOUT:"",TERMINAL_STDERR:"",TERMINAL_SYSTEM_ERROR:"",USER_OPERATION:"",OPERATION_START:"",OPERATION_END:"",JSON_OUTPUT:"",DEBUG:"",CODE_SNIPPET:"",ERROR_MESSAGE:"",DEBUG_INFO:"",USER_LOG:"",MAIL_OPERATION:"",DNS_CONFIG:"",SYSTEM_SETTINGS:"",SECURITY:"",BACKUP:"",UNKNOWN:""}[ds]||""})(Ke.type,Gt),Ut=(ds=>{if(!ds)return"unknown.log";const hs=ds.split("/");return hs[hs.length-1]||ds})(Ke.source),Ft=Ke.type==="UNKNOWN"||Ke.type==="unknown"||Gt==="unknown";let As="";return nt.email&&(As+=`<span class="text-cyan-400"> ${nt.email}</span>`),nt.folder&&(As+=`<span class="text-blue-400"> ${nt.folder}</span>`),nt.limit&&(As+=`<span class="text-yellow-400"> Limit: ${nt.limit}</span>`),nt.offset&&(As+=`<span class="text-yellow-400"> Offset: ${nt.offset}</span>`),`<div class="log-entry mb-3 p-4 bg-gray-800 rounded-lg border-l-4 ${Ft?"border-red-500 bg-red-900/20":"border-blue-500"} hover:bg-gray-750 transition-colors">
        <div class="flex items-start space-x-3">
          <div class="text-2xl flex-shrink-0">${vt}</div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center space-x-2 mb-2 flex-wrap">
              <span class="text-blue-400 text-sm font-mono">[${et}]</span>
              <span class="text-green-400 text-sm font-bold">[${Gt}]</span>
              ${Ft?'<span class="text-red-400 text-xs font-bold px-2 py-1 bg-red-900/50 rounded"></span>':""}
          </div>
            <div class="flex items-center space-x-4 mb-2 flex-wrap text-xs">
              <span class="text-yellow-400"> ${Ut}</span>
              <span class="text-purple-400"> ${Ke.user||"unknown"}</span>
              <span class="text-green-400"> ${Gt}</span>
              <span class="text-cyan-400"> ${Ke.ip||"unknown"}</span>
        </div>
            ${As?`<div class="flex items-center space-x-3 mb-2 flex-wrap text-xs">${As}</div>`:""}
            <div class="text-gray-300 text-xs font-mono break-all bg-gray-900/50 p-2 rounded mt-2">
            ${Ke.message}
            </div>
          </div>
        </div>
      </div>`}).join(""),Bs(()=>{j&&(j.scrollTop=j.scrollHeight)})}},lt=_e=>{const j=_e.length,Ke=_e.filter(vt=>vt.type==="UNKNOWN"||vt.type==="unknown").length,Ze=j>0?Math.round((j-Ke)/j*100):100,et=document.getElementById("total-logs"),nt=document.getElementById("unknown-logs"),Gt=document.getElementById("parse-rate"),Ue=document.getElementById("last-update");et&&(et.textContent=j),nt&&(nt.textContent=Ke),Gt&&(Gt.textContent=`${Ze}%`),Ue&&(Ue.textContent=new Date().toLocaleTimeString("zh-CN"))},it=()=>{d.value=!0};return ft.logPageView(e.path),(_e,j)=>{var Ze,et,nt,Gt;const Ke=uo("router-link");return M(),T("div",w4,[g.value?(M(),T("div",{key:0,class:Le(["fixed inset-y-0 left-0 z-50 w-full sm:w-64 bg-white shadow-lg transform transition-all duration-300 ease-in-out hover:shadow-xl",{"-translate-x-full":!s.value,"translate-x-0":s.value}]),style:vs({opacity:r.value?1:0})},[i("div",{class:"flex items-center justify-between h-14 sm:h-16 px-4 sm:px-6 border-b border-gray-200"},[j[32]||(j[32]=i("div",{class:"flex items-center"},[i("div",{class:"h-7 w-7 sm:h-8 sm:w-8 rounded-lg flex items-center justify-center"},[i("img",{src:ao,alt:"XM",class:"h-7 w-7 sm:h-8 sm:w-8 rounded-lg"})]),i("span",{class:"ml-2 sm:ml-3 text-base sm:text-lg font-bold text-gray-900"},"XM")],-1)),i("button",{onClick:C,class:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100"},[...j[31]||(j[31]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("nav",k4,[i("div",S4,[gt(Ke,{to:"/dashboard",onClick:j[0]||(j[0]=()=>{Dt(ft).logButtonClick("",""),C()}),class:Le(["group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-300 transform hover:scale-105 hover:shadow-md",_e.$route.path==="/dashboard"?"bg-blue-50 text-blue-700 border-r-2 border-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"])},{default:Bt(()=>[j[33]||(j[33]=i("svg",{class:"mr-3 h-5 w-5 transition-all duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})],-1)),j[34]||(j[34]=i("span",{class:"transition-all duration-300 group-hover:font-semibold"},"",-1)),_e.$route.path==="/dashboard"?(M(),T("div",C4)):Q("",!0)]),_:1},8,["class"]),gt(Ke,{to:"/mail",onClick:j[1]||(j[1]=()=>{Dt(ft).logButtonClick("",""),C()}),class:Le(["group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-300 transform hover:scale-105 hover:shadow-md",_e.$route.path==="/mail"?"bg-blue-50 text-blue-700 border-r-2 border-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"])},{default:Bt(()=>[j[35]||(j[35]=i("svg",{class:"mr-3 h-5 w-5 transition-all duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),j[36]||(j[36]=i("span",{class:"transition-all duration-300 group-hover:font-semibold"},"",-1)),_e.$route.path==="/mail"?(M(),T("div",E4)):Q("",!0)]),_:1},8,["class"]),i("div",A4,[j[40]||(j[40]=i("div",{class:"px-3 mb-2"},[i("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"},"")],-1)),i("button",{onClick:j[2]||(j[2]=()=>{Dt(ft).logButtonClick("",""),ie(),C()}),class:"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gradient-to-r hover:from-blue-500 hover:to-cyan-500 hover:text-white transition-all duration-300 transform hover:scale-105 hover:shadow-md relative overflow-hidden"},[...j[37]||(j[37]=[Us('<div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-cyan-500 opacity-0 group-hover:opacity-10 transition-opacity duration-300" data-v-cd84c108></div><svg class="mr-3 h-5 w-5 transition-all duration-300 group-hover:rotate-12 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cd84c108><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-cd84c108></path></svg><span class="relative z-10 transition-all duration-300 group-hover:font-semibold" data-v-cd84c108></span><div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-cyan-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left" data-v-cd84c108></div>',4)])]),i("button",{onClick:j[3]||(j[3]=()=>{Dt(ft).logButtonClick("",""),qe(),C()}),class:"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gradient-to-r hover:from-green-500 hover:to-emerald-500 hover:text-white transition-all duration-300 transform hover:scale-105 hover:shadow-md relative overflow-hidden"},[...j[38]||(j[38]=[Us('<div class="absolute inset-0 bg-gradient-to-r from-green-500 to-emerald-500 opacity-0 group-hover:opacity-10 transition-opacity duration-300" data-v-cd84c108></div><svg class="mr-3 h-5 w-5 transition-all duration-300 group-hover:rotate-12 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cd84c108><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-cd84c108></path></svg><span class="relative z-10 transition-all duration-300 group-hover:font-semibold" data-v-cd84c108></span><div class="absolute inset-0 bg-gradient-to-r from-green-500 to-emerald-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left" data-v-cd84c108></div>',4)])]),i("button",{onClick:j[4]||(j[4]=()=>{Dt(ft).logButtonClick("",""),it(),C()}),class:"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gradient-to-r hover:from-orange-500 hover:to-red-500 hover:text-white transition-all duration-300 transform hover:scale-105 hover:shadow-md relative overflow-hidden",title:" euser"},[...j[39]||(j[39]=[Us('<div class="absolute inset-0 bg-gradient-to-r from-orange-500 to-red-500 opacity-0 group-hover:opacity-10 transition-opacity duration-300" data-v-cd84c108></div><svg class="mr-3 h-5 w-5 transition-all duration-300 group-hover:rotate-12 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cd84c108><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z" data-v-cd84c108></path></svg><span class="relative z-10 transition-all duration-300 group-hover:font-semibold" data-v-cd84c108></span><span class="relative z-10 ml-1 text-xs text-gray-500 group-hover:text-orange-100" data-v-cd84c108>(euser)</span><div class="absolute inset-0 bg-gradient-to-r from-orange-500 to-red-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left" data-v-cd84c108></div>',5)])])]),i("div",M4,[j[46]||(j[46]=i("div",{class:"px-3 mb-2"},[i("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"},"")],-1)),gt(Ke,{to:"/settings",onClick:j[5]||(j[5]=()=>{Dt(ft).logButtonClick("",""),C()}),class:Le(["group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md transition-all duration-300 relative overflow-hidden transform hover:scale-105 hover:shadow-lg",_e.$route.path==="/settings"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-sm":"text-gray-700 hover:bg-gradient-to-r hover:from-purple-500 hover:to-pink-500 hover:text-white"])},{default:Bt(()=>[j[41]||(j[41]=i("div",{class:"absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1)),j[42]||(j[42]=i("svg",{class:"mr-3 h-5 w-5 transition-all duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),j[43]||(j[43]=i("span",{class:"relative z-10 group-hover:font-semibold transition-all duration-300"},"",-1)),_e.$route.path==="/settings"?(M(),T("div",T4)):Q("",!0),j[44]||(j[44]=i("div",{class:"absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"},null,-1)),j[45]||(j[45]=i("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300"},[i("svg",{class:"h-4 w-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))]),_:1},8,["class"])])])]),i("div",D4,[i("div",L4,[i("div",$4,[m.value?(M(),T("img",{key:0,src:m.value,alt:"",class:"h-full w-full object-cover",onError:y},null,40,R4)):(M(),T("svg",B4,[...j[47]||(j[47]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),i("div",P4,[i("p",O4,N(_.value||""),1),i("p",I4,[j[48]||(j[48]=i("svg",{class:"h-3 w-3 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",N4,N(b.value),1)])]),j[49]||(j[49]=i("div",{class:"text-right flex-shrink-0 ml-2"},[i("div",{class:"text-xs text-gray-500"},""),i("div",{class:"w-2 h-2 bg-green-400 rounded-full animate-pulse mx-auto mt-0.5"})],-1))]),i("div",j4,[i("div",H4,[j[50]||(j[50]=i("div",{class:"flex items-center text-gray-600"},[i("svg",{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),i("span",null,"")],-1)),i("span",z4,N(E.value),1)])])])],6)):Q("",!0),i("div",{class:Le(["flex-1 flex flex-col transition-all duration-300 ease-in-out",{"sm:ml-64":s.value&&g.value,"ml-0":!s.value||!g.value}])},[i("header",F4,[i("div",U4,[i("div",V4,[g.value?(M(),T("button",{key:0,onClick:C,class:"p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 flex-shrink-0"},[...j[51]||(j[51]=[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])):Q("",!0),i("h1",W4,N(S.value),1)]),i("div",q4,[i("div",K4,[i("div",G4,[m.value?(M(),T("img",{key:0,src:m.value,alt:"",class:"h-full w-full object-cover",onError:y},null,40,X4)):(M(),T("svg",Y4,[...j[52]||(j[52]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),i("div",J4,[i("span",Z4,N(_.value||""),1),i("span",{class:Le(["ml-2 text-xs",g.value?"text-green-600":"text-gray-500"])},N(g.value?"":""),3)])]),gt(Ke,{to:"/profile",onClick:j[6]||(j[6]=()=>{Dt(ft).logButtonClick("","")}),class:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors duration-200"},{default:Bt(()=>[...j[53]||(j[53]=[i("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),be("  ",-1)])]),_:1}),i("button",{onClick:j[7]||(j[7]=()=>{Dt(ft).logButtonClick("",""),B()}),class:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors duration-200"},[...j[54]||(j[54]=[i("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),be("  ",-1)])])])])]),i("main",Q4,[Vv(_e.$slots,"default",{},void 0)])],2),i("footer",e5,[i("div",t5,[i("div",s5,[i("div",i5,[j[55]||(j[55]=i("svg",{class:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{d:"M10 2C5.58 2 2 5.58 2 10s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"}),i("text",{x:"10",y:"14","text-anchor":"middle","font-family":"Arial, sans-serif","font-size":"10","font-weight":"bold"},"C")],-1)),j[56]||(j[56]=i("span",{class:"font-medium"},"2024-2026 XM.",-1)),o.value.enabled&&o.value.number?(M(),T("span",r5,[i("a",{href:o.value.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-gray-700 transition-colors duration-200"},N(o.value.number),9,o5)])):Q("",!0)]),j[58]||(j[58]=i("div",{class:"text-gray-500 mb-1"},"XM | ",-1)),i("div",n5,[j[57]||(j[57]=be("Powered by XM ",-1)),i("span",a5,N(l.value),1)])])])]),s.value?(M(),T("div",{key:1,onClick:C,class:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden"})):Q("",!0),c.value?(M(),T("div",l5,[i("div",c5,[i("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:j[8]||(j[8]=Ue=>c.value=!1)}),i("div",u5,[i("div",d5,[i("div",h5,[j[113]||(j[113]=i("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},[i("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),i("div",f5,[i("div",p5,[j[60]||(j[60]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"",-1)),i("div",m5,[L.value.loading?(M(),T("div",g5,[...j[59]||(j[59]=[i("svg",{class:"animate-spin h-4 w-4 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i("span",{class:"text-sm text-gray-500"},"...",-1)])])):Q("",!0),L.value.lastUpdate?(M(),T("div",v5," : "+N(new Date(L.value.lastUpdate).toLocaleTimeString("zh-CN")),1)):Q("",!0)])]),L.value.error?(M(),T("div",b5,[i("div",x5,[j[61]||(j[61]=i("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",_5,N(L.value.error),1)])])):Q("",!0),i("div",y5,[i("div",w5,[i("div",k5,[i("div",S5,[j[65]||(j[65]=i("h4",{class:"text-sm font-medium text-gray-900"},"",-1)),i("div",C5,[i("div",E5,[j[62]||(j[62]=i("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},null,-1)),i("span",A5,": "+N(pe("running")),1)]),i("div",M5,[j[63]||(j[63]=i("div",{class:"w-2 h-2 bg-red-500 rounded-full"},null,-1)),i("span",T5,": "+N(pe("stopped")),1)]),i("div",D5,[j[64]||(j[64]=i("div",{class:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"},null,-1)),i("span",L5,": "+N(pe("error")),1)])])]),i("div",$5,[(M(!0),T(Fe,null,Qe(L.value.services,(Ue,vt)=>(M(),T("div",{key:vt,class:"flex items-center space-x-2 p-2 rounded-lg transition-all duration-300 hover:bg-gray-50 cursor-pointer",onClick:jt=>K(vt,Ue)},[i("div",B5,[i("div",{class:Le(["w-2 h-2 rounded-full",se(Ue.status)])},null,2),Ue.status==="running"?(M(),T("div",P5)):Q("",!0),Ue.status==="error"?(M(),T("div",O5)):Q("",!0)]),i("div",I5,[i("div",N5,N(U(vt)),1),i("div",j5,N(R(Ue.status)),1)])],8,R5))),128))])]),i("div",H5,[j[82]||(j[82]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"DNS",-1)),L.value.dns?(M(),T("div",z5,[i("div",F5,[j[66]||(j[66]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",U5,N(L.value.dns.configuredDomain||""),1)]),i("div",V5,[j[67]||(j[67]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",W5,N(L.value.dns.configuredHostname||""),1)]),i("div",q5,[j[68]||(j[68]=i("span",{class:"text-sm text-gray-600"},"DNS",-1)),i("span",{class:Le(["text-sm font-medium",ye(L.value.dns.healthScore)])},N(L.value.dns.healthScore||0)+"% ",3)]),i("div",K5,[j[69]||(j[69]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",{class:Le(["text-sm font-medium",W(L.value.dns.overallStatus)])},N(O(L.value.dns.overallStatus)),3)]),L.value.dns.configuredDomain?(M(),T("div",G5,[j[81]||(j[81]=i("div",{class:"text-xs font-medium text-gray-500 mb-2"},"DNS",-1)),i("div",X5,[i("div",Y5,[j[70]||(j[70]=i("span",{class:"text-gray-500"},"MX",-1)),i("span",{class:Le(["font-medium",q(L.value.dns.mxStatus)])},N(X(L.value.dns.mxStatus)),3)]),i("div",J5,[j[71]||(j[71]=i("span",{class:"text-gray-500"},"A",-1)),i("span",{class:Le(["font-medium",q(L.value.dns.aStatus)])},N(X(L.value.dns.aStatus)),3)]),i("div",Z5,[j[72]||(j[72]=i("span",{class:"text-gray-500"},"PTR",-1)),i("span",{class:Le(["font-medium",q(L.value.dns.ptrStatus)])},N(X(L.value.dns.ptrStatus)),3)]),i("div",Q5,[j[73]||(j[73]=i("span",{class:"text-gray-500"},"SPF",-1)),i("span",{class:Le(["font-medium",q(L.value.dns.spfStatus)])},N(X(L.value.dns.spfStatus)),3)]),i("div",e3,[j[74]||(j[74]=i("span",{class:"text-gray-500"},"DKIM",-1)),i("span",{class:Le(["font-medium",q(L.value.dns.dkimStatus)])},N(X(L.value.dns.dkimStatus)),3)]),i("div",t3,[j[75]||(j[75]=i("span",{class:"text-gray-500"},"DMARC",-1)),i("span",{class:Le(["font-medium",q(L.value.dns.dmarcStatus)])},N(X(L.value.dns.dmarcStatus)),3)])]),L.value.dns.summary?(M(),T("div",s3,[j[80]||(j[80]=i("div",{class:"text-xs text-gray-500 mb-1"},"",-1)),i("div",i3,[i("div",r3,[j[76]||(j[76]=i("span",{class:"text-gray-500"},"",-1)),i("span",o3,N(L.value.dns.summary.total),1)]),i("div",n3,[j[77]||(j[77]=i("span",{class:"text-gray-500"},"",-1)),i("span",a3,N(L.value.dns.summary.configured),1)]),i("div",l3,[j[78]||(j[78]=i("span",{class:"text-gray-500"},"",-1)),i("span",c3,N(L.value.dns.summary.missing),1)]),i("div",u3,[j[79]||(j[79]=i("span",{class:"text-gray-500"},"",-1)),i("span",d3,N(L.value.dns.summary.errors),1)])])])):Q("",!0)])):Q("",!0),L.value.dns.error?(M(),T("div",h3,N(L.value.dns.error),1)):Q("",!0)])):(M(),T("div",f3," DNS "))]),i("div",p3,[j[93]||(j[93]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",m3,[i("div",g3,[j[83]||(j[83]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",v3,N(L.value.systemInfo.hostname||"Unknown"),1)]),i("div",b3,[j[84]||(j[84]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",x3,N(L.value.systemInfo.osVersion||"Unknown"),1)]),i("div",_3,[j[85]||(j[85]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",y3,N(L.value.systemInfo.kernelVersion||"Unknown"),1)]),i("div",w3,[j[86]||(j[86]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",k3,N(L.value.systemInfo.architecture||"Unknown"),1)]),i("div",S3,[j[87]||(j[87]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",C3,N(L.value.systemInfo.timezone||"Unknown"),1)]),i("div",E3,[j[88]||(j[88]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",A3,N(L.value.systemInfo.bootTime||"Unknown"),1)]),i("div",M3,[j[89]||(j[89]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",T3,N(ge(L.value.systemInfo.uptime||0)),1)]),i("div",D3,[j[90]||(j[90]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",L3,N(L.value.systemInfo.currentUser||"Unknown"),1)]),i("div",$3,[j[91]||(j[91]=i("span",{class:"text-sm text-gray-600"},"Node",-1)),i("span",R3,N(L.value.systemInfo.nodeVersion||"Unknown"),1)]),i("div",B3,[j[92]||(j[92]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",P3,N(L.value.systemInfo.loadAverage||"Unknown"),1)])])]),i("div",O3,[j[112]||(j[112]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",I3,[i("div",N3,[j[94]||(j[94]=i("span",{class:"text-sm text-gray-600"},"CPU",-1)),i("span",{class:Le(["text-sm font-medium",Me(L.value.resources.cpu)])},N(((Ze=L.value.resources.cpu)==null?void 0:Ze.toFixed(1))||0)+"% ",3)]),i("div",j3,[j[95]||(j[95]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",{class:Le(["text-sm font-medium",Me(L.value.resources.memory)])},N(((et=L.value.resources.memory)==null?void 0:et.toFixed(1))||0)+"% ",3)]),i("div",H3,[j[96]||(j[96]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",{class:Le(["text-sm font-medium",Me(L.value.resources.disk)])},N(((nt=L.value.resources.disk)==null?void 0:nt.toFixed(1))||0)+"% ",3)]),i("div",z3,[j[97]||(j[97]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",{class:Le(["text-sm font-medium",Me(L.value.resources.loadAverage*100)])},N(((Gt=L.value.resources.loadAverage)==null?void 0:Gt.toFixed(2))||0),3)]),L.value.resources.memoryDetails?(M(),T("div",F3,[j[102]||(j[102]=i("div",{class:"text-xs font-medium text-gray-500 mb-2"},"",-1)),i("div",U3,[i("div",V3,[j[98]||(j[98]=i("span",{class:"text-gray-500"},"",-1)),i("span",W3,N(L.value.resources.memoryDetails.total),1)]),i("div",q3,[j[99]||(j[99]=i("span",{class:"text-gray-500"},"",-1)),i("span",K3,N(L.value.resources.memoryDetails.used),1)]),i("div",G3,[j[100]||(j[100]=i("span",{class:"text-gray-500"},"",-1)),i("span",X3,N(L.value.resources.memoryDetails.free),1)]),i("div",Y3,[j[101]||(j[101]=i("span",{class:"text-gray-500"},"",-1)),i("span",J3,N(L.value.resources.memoryDetails.available),1)])])])):Q("",!0),i("div",Z3,[i("div",Q3,[j[103]||(j[103]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",ek,N(L.value.network.connections||0),1)]),i("div",tk,[j[104]||(j[104]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",sk,N(L.value.processes.count||0),1)])]),i("div",ik,[i("button",{onClick:G,class:"text-xs text-blue-600 hover:text-blue-800 underline"},N($.value?"":""),1)]),$.value?(M(),T("div",rk,[L.value.resources.cpuDetails?(M(),T("div",ok,[j[105]||(j[105]=i("div",{class:"font-medium text-gray-700 mb-1"},"CPU",-1)),i("pre",nk,N(L.value.resources.cpuDetails),1)])):Q("",!0),L.value.resources.diskDetails?(M(),T("div",ak,[j[106]||(j[106]=i("div",{class:"font-medium text-gray-700 mb-1"},"",-1)),i("pre",lk,N(L.value.resources.diskDetails),1)])):Q("",!0),L.value.resources.networkInterfaces?(M(),T("div",ck,[j[107]||(j[107]=i("div",{class:"font-medium text-gray-700 mb-1"},"",-1)),i("pre",uk,N(L.value.resources.networkInterfaces),1)])):Q("",!0),L.value.resources.temperature?(M(),T("div",dk,[j[108]||(j[108]=i("div",{class:"font-medium text-gray-700 mb-1"},"",-1)),i("pre",hk,N(L.value.resources.temperature),1)])):Q("",!0),L.value.resources.topProcesses?(M(),T("div",fk,[j[109]||(j[109]=i("div",{class:"font-medium text-gray-700 mb-1"},"CPU",-1)),i("pre",pk,N(L.value.resources.topProcesses),1)])):Q("",!0),L.value.resources.swapInfo?(M(),T("div",mk,[j[110]||(j[110]=i("div",{class:"font-medium text-gray-700 mb-1"},"",-1)),i("pre",gk,N(L.value.resources.swapInfo),1)])):Q("",!0),L.value.resources.mountInfo?(M(),T("div",vk,[j[111]||(j[111]=i("div",{class:"font-medium text-gray-700 mb-1"},"",-1)),i("pre",bk,N(L.value.resources.mountInfo),1)])):Q("",!0)])):Q("",!0)])])])])])])]),i("div",xk,[i("button",{onClick:j[9]||(j[9]=Ue=>{c.value=!1,ue()}),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"},"  ")])])])])):Q("",!0),h.value?(M(),T("div",_k,[i("div",yk,[i("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:j[10]||(j[10]=Ue=>h.value=!1)}),i("div",wk,[i("div",kk,[i("div",Sk,[j[126]||(j[126]=i("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10"},[i("svg",{class:"h-6 w-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),i("div",Ck,[j[124]||(j[124]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"",-1)),j[125]||(j[125]=i("p",{class:"text-sm text-gray-500 mt-1"},"",-1)),i("div",Ek,[i("div",Ak,[j[116]||(j[116]=Us('<div class="flex items-center mb-4" data-v-cd84c108><div class="p-2 bg-orange-100 rounded-lg" data-v-cd84c108><svg class="h-5 w-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cd84c108><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-cd84c108></path></svg></div><h4 class="ml-3 text-lg font-semibold text-gray-900" data-v-cd84c108></h4></div>',1)),i("div",Mk,[i("div",Tk,[Re(i("input",{"onUpdate:modelValue":j[11]||(j[11]=Ue=>ne.value=Ue),type:"text",placeholder:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"},null,512),[[je,ne.value]]),Re(i("select",{"onUpdate:modelValue":j[12]||(j[12]=Ue=>fe.value=Ue),class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"},[...j[114]||(j[114]=[i("option",{value:"cn"},"",-1),i("option",{value:"en"},"",-1)])],512),[[Ni,fe.value]]),i("button",{onClick:Pe,disabled:!ne.value,class:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,Dk)])]),i("div",Lk,[(M(!0),T(Fe,null,Qe(z.value,(Ue,vt)=>(M(),T("div",{key:vt,class:"flex items-center justify-between p-2 bg-white rounded-md border"},[i("div",$k,[i("span",Rk,N(Ue.text),1),i("span",Bk,N(Ue.lang==="cn"?"":""),1)]),i("button",{onClick:jt=>De(vt),class:"text-red-600 hover:text-red-800"},[...j[115]||(j[115]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Pk)]))),128))])]),i("div",Ok,[j[118]||(j[118]=Us('<div class="flex items-center mb-4" data-v-cd84c108><div class="p-2 bg-red-100 rounded-lg" data-v-cd84c108><svg class="h-5 w-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cd84c108><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z" data-v-cd84c108></path></svg></div><h4 class="ml-3 text-lg font-semibold text-gray-900" data-v-cd84c108></h4></div>',1)),i("div",Ik,[i("div",Nk,[Re(i("input",{"onUpdate:modelValue":j[13]||(j[13]=Ue=>xe.value=Ue),type:"text",placeholder:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"},null,512),[[je,xe.value]]),i("button",{onClick:Se,disabled:!xe.value,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,jk)])]),i("div",Hk,[(M(!0),T(Fe,null,Qe(J.value,(Ue,vt)=>(M(),T("div",{key:vt,class:"flex items-center justify-between p-2 bg-white rounded-md border"},[i("span",zk,N(Ue),1),i("button",{onClick:jt=>He(vt),class:"text-red-600 hover:text-red-800"},[...j[117]||(j[117]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Fk)]))),128))])]),i("div",Uk,[j[123]||(j[123]=Us('<div class="flex items-center mb-4" data-v-cd84c108><div class="p-2 bg-blue-100 rounded-lg" data-v-cd84c108><svg class="h-5 w-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cd84c108><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" data-v-cd84c108></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-v-cd84c108></path></svg></div><h4 class="ml-3 text-lg font-semibold text-gray-900" data-v-cd84c108></h4></div>',1)),i("div",Vk,[i("div",null,[j[119]||(j[119]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":j[14]||(j[14]=Ue=>Ce.value.minBodyLines=Ue),type:"number",min:"1",max:"10",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[je,Ce.value.minBodyLines,void 0,{number:!0}]])]),i("div",null,[j[120]||(j[120]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":j[15]||(j[15]=Ue=>Ce.value.maxCapsRatio=Ue),type:"number",min:"0",max:"1",step:"0.1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[je,Ce.value.maxCapsRatio,void 0,{number:!0}]])]),i("div",null,[j[121]||(j[121]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":j[16]||(j[16]=Ue=>Ce.value.maxExclamation=Ue),type:"number",min:"1",max:"20",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[je,Ce.value.maxExclamation,void 0,{number:!0}]])]),i("div",null,[j[122]||(j[122]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":j[17]||(j[17]=Ue=>Ce.value.maxSpecialChars=Ue),type:"number",min:"1",max:"50",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[je,Ce.value.maxSpecialChars,void 0,{number:!0}]])])])])])])])]),i("div",Wk,[i("button",{onClick:Ne,disabled:ae.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 text-base font-medium text-white hover:from-orange-700 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},[ae.value?(M(),T("svg",Kk,[...j[127]||(j[127]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Q("",!0),be(" "+N(ae.value?"...":""),1)],8,qk),i("button",{onClick:Ve,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-all duration-200"},"  "),i("button",{onClick:j[18]||(j[18]=Ue=>h.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-all duration-200"},"  ")])])])])):Q("",!0),u.value?(M(),T("div",Gk,[i("div",Xk,[i("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:j[19]||(j[19]=Ue=>u.value=!1)}),i("div",Yk,[i("div",Jk,[i("div",Zk,[j[137]||(j[137]=i("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},[i("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),i("div",Qk,[j[135]||(j[135]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"",-1)),i("div",eS,[i("div",tS,[i("div",null,[j[128]||(j[128]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("select",{"onUpdate:modelValue":j[20]||(j[20]=Ue=>Be.value.type=Ue),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[(M(!0),T(Fe,null,Qe(st.value,Ue=>(M(),T("option",{key:Ue.value,value:Ue.value},N(Ue.label),9,sS))),128))],512),[[Ni,Be.value.type]])]),i("div",null,[j[129]||(j[129]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("select",{"onUpdate:modelValue":j[21]||(j[21]=Ue=>Be.value.category=Ue),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[(M(!0),T(Fe,null,Qe(Ye.value,Ue=>(M(),T("option",{key:Ue.value,value:Ue.value},N(Ue.label),9,iS))),128))],512),[[Ni,Be.value.category]])]),i("div",null,[j[130]||(j[130]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":j[22]||(j[22]=Ue=>Be.value.user=Ue),type:"text",placeholder:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[je,Be.value.user]])]),i("div",null,[j[131]||(j[131]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":j[23]||(j[23]=Ue=>Be.value.action=Ue),type:"text",placeholder:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[je,Be.value.action]])]),i("div",null,[j[132]||(j[132]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":j[24]||(j[24]=Ue=>Be.value.search=Ue),type:"text",placeholder:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[je,Be.value.search]])]),i("div",null,[j[134]||(j[134]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("select",{"onUpdate:modelValue":j[25]||(j[25]=Ue=>Be.value.limit=Ue),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...j[133]||(j[133]=[i("option",{value:"20"},"20",-1),i("option",{value:"50"},"50",-1),i("option",{value:"100"},"100",-1),i("option",{value:"200"},"200",-1)])],512),[[Ni,Be.value.limit]])])]),i("div",rS,[i("button",{onClick:wt,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},"  "),i("button",{onClick:j[26]||(j[26]=Ue=>at("csv")),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500"}," CSV "),i("button",{onClick:j[27]||(j[27]=Ue=>at("txt")),class:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500"}," TXT "),i("button",{onClick:j[28]||(j[28]=Ue=>at("json")),class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500"}," JSON ")])]),j[136]||(j[136]=Us('<div class="mt-4" data-v-cd84c108><div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4" data-v-cd84c108><div class="flex items-center justify-between" data-v-cd84c108><div class="flex items-center space-x-4" data-v-cd84c108><div class="flex items-center space-x-2" data-v-cd84c108><span class="text-blue-600 font-medium" data-v-cd84c108> </span></div><div class="flex items-center space-x-4 text-sm" data-v-cd84c108><span class="text-gray-600" data-v-cd84c108>: <span class="font-bold text-blue-600" id="total-logs" data-v-cd84c108>-</span></span><span class="text-gray-600" data-v-cd84c108>: <span class="font-bold text-red-600" id="unknown-logs" data-v-cd84c108>-</span></span><span class="text-gray-600" data-v-cd84c108>: <span class="font-bold text-green-600" id="parse-rate" data-v-cd84c108>-</span></span></div></div><div class="text-xs text-gray-500" data-v-cd84c108> : <span id="last-update" data-v-cd84c108>-</span></div></div></div></div><div class="mt-4" data-v-cd84c108><div class="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm h-96 overflow-y-auto log-viewer-content" data-v-cd84c108><div class="flex items-center justify-center h-full" data-v-cd84c108><div class="text-gray-500" data-v-cd84c108><svg class="animate-spin h-8 w-8 mx-auto mb-2" fill="none" viewBox="0 0 24 24" data-v-cd84c108><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-cd84c108></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-cd84c108></path></svg><p data-v-cd84c108>...</p></div></div></div></div>',2))])])]),i("div",oS,[i("button",{onClick:j[29]||(j[29]=Ue=>u.value=!1),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm"},"  ")])])])])):Q("",!0),gt(y4,{visible:d.value,onClose:j[30]||(j[30]=Ue=>d.value=!1)},null,8,["visible"])])}}}),vc=Vi(nS,[["__scopeId","data-v-cd84c108"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Na(t){return t+.5|0}const Qr=(t,e,s)=>Math.max(Math.min(t,s),e);function Zn(t){return Qr(Na(t*2.55),0,255)}function ro(t){return Qr(Na(t*255),0,255)}function Mr(t){return Qr(Na(t/2.55)/100,0,1)}function v0(t){return Qr(Na(t*100),0,100)}const Ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ou=[..."0123456789ABCDEF"],aS=t=>Ou[t&15],lS=t=>Ou[(t&240)>>4]+Ou[t&15],el=t=>(t&240)>>4===(t&15),cS=t=>el(t.r)&&el(t.g)&&el(t.b)&&el(t.a);function uS(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Ii[t[1]]*17,g:255&Ii[t[2]]*17,b:255&Ii[t[3]]*17,a:e===5?Ii[t[4]]*17:255}:(e===7||e===9)&&(s={r:Ii[t[1]]<<4|Ii[t[2]],g:Ii[t[3]]<<4|Ii[t[4]],b:Ii[t[5]]<<4|Ii[t[6]],a:e===9?Ii[t[7]]<<4|Ii[t[8]]:255})),s}const dS=(t,e)=>t<255?e(t):"";function hS(t){var e=cS(t)?aS:lS;return t?"#"+e(t.r)+e(t.g)+e(t.b)+dS(t.a,e):void 0}const fS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Wm(t,e,s){const r=e*Math.min(s,1-s),o=(a,l=(a+t/30)%12)=>s-r*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function pS(t,e,s){const r=(o,a=(o+t/60)%6)=>s-s*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function mS(t,e,s){const r=Wm(t,1,.5);let o;for(e+s>1&&(o=1/(e+s),e*=o,s*=o),o=0;o<3;o++)r[o]*=1-e-s,r[o]+=e;return r}function gS(t,e,s,r,o){return t===o?(e-s)/r+(e<s?6:0):e===o?(s-t)/r+2:(t-e)/r+4}function wd(t){const s=t.r/255,r=t.g/255,o=t.b/255,a=Math.max(s,r,o),l=Math.min(s,r,o),n=(a+l)/2;let c,u,d;return a!==l&&(d=a-l,u=n>.5?d/(2-a-l):d/(a+l),c=gS(s,r,o,d,a),c=c*60+.5),[c|0,u||0,n]}function kd(t,e,s,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,r)).map(ro)}function Sd(t,e,s){return kd(Wm,t,e,s)}function vS(t,e,s){return kd(mS,t,e,s)}function bS(t,e,s){return kd(pS,t,e,s)}function qm(t){return(t%360+360)%360}function xS(t){const e=fS.exec(t);let s=255,r;if(!e)return;e[5]!==r&&(s=e[6]?Zn(+e[5]):ro(+e[5]));const o=qm(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=vS(o,a,l):e[1]==="hsv"?r=bS(o,a,l):r=Sd(o,a,l),{r:r[0],g:r[1],b:r[2],a:s}}function _S(t,e){var s=wd(t);s[0]=qm(s[0]+e),s=Sd(s),t.r=s[0],t.g=s[1],t.b=s[2]}function yS(t){if(!t)return;const e=wd(t),s=e[0],r=v0(e[1]),o=v0(e[2]);return t.a<255?`hsla(${s}, ${r}%, ${o}%, ${Mr(t.a)})`:`hsl(${s}, ${r}%, ${o}%)`}const b0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wS(){const t={},e=Object.keys(x0),s=Object.keys(b0);let r,o,a,l,n;for(r=0;r<e.length;r++){for(l=n=e[r],o=0;o<s.length;o++)a=s[o],n=n.replace(a,b0[a]);a=parseInt(x0[l],16),t[n]=[a>>16&255,a>>8&255,a&255]}return t}let tl;function kS(t){tl||(tl=wS(),tl.transparent=[0,0,0,0]);const e=tl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const SS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CS(t){const e=SS.exec(t);let s=255,r,o,a;if(e){if(e[7]!==r){const l=+e[7];s=e[8]?Zn(l):Qr(l*255,0,255)}return r=+e[1],o=+e[3],a=+e[5],r=255&(e[2]?Zn(r):Qr(r,0,255)),o=255&(e[4]?Zn(o):Qr(o,0,255)),a=255&(e[6]?Zn(a):Qr(a,0,255)),{r,g:o,b:a,a:s}}}function ES(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Mr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Yc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Qo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function AS(t,e,s){const r=Qo(Mr(t.r)),o=Qo(Mr(t.g)),a=Qo(Mr(t.b));return{r:ro(Yc(r+s*(Qo(Mr(e.r))-r))),g:ro(Yc(o+s*(Qo(Mr(e.g))-o))),b:ro(Yc(a+s*(Qo(Mr(e.b))-a))),a:t.a+s*(e.a-t.a)}}function sl(t,e,s){if(t){let r=wd(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*s,e===0?360:1)),r=Sd(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Km(t,e){return t&&Object.assign(e||{},t)}function _0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ro(t[3]))):(e=Km(t,{r:0,g:0,b:0,a:1}),e.a=ro(e.a)),e}function MS(t){return t.charAt(0)==="r"?CS(t):xS(t)}class ka{constructor(e){if(e instanceof ka)return e;const s=typeof e;let r;s==="object"?r=_0(e):s==="string"&&(r=uS(e)||kS(e)||MS(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Km(this._rgb);return e&&(e.a=Mr(e.a)),e}set rgb(e){this._rgb=_0(e)}rgbString(){return this._valid?ES(this._rgb):void 0}hexString(){return this._valid?hS(this._rgb):void 0}hslString(){return this._valid?yS(this._rgb):void 0}mix(e,s){if(e){const r=this.rgb,o=e.rgb;let a;const l=s===a?.5:s,n=2*l-1,c=r.a-o.a,u=((n*c===-1?n:(n+c)/(1+n*c))+1)/2;a=1-u,r.r=255&u*r.r+a*o.r+.5,r.g=255&u*r.g+a*o.g+.5,r.b=255&u*r.b+a*o.b+.5,r.a=l*r.a+(1-l)*o.a,this.rgb=r}return this}interpolate(e,s){return e&&(this._rgb=AS(this._rgb,e._rgb,s)),this}clone(){return new ka(this.rgb)}alpha(e){return this._rgb.a=ro(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Na(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return sl(this._rgb,2,e),this}darken(e){return sl(this._rgb,2,-e),this}saturate(e){return sl(this._rgb,1,e),this}desaturate(e){return sl(this._rgb,1,-e),this}rotate(e){return _S(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wr(){}const TS=(()=>{let t=0;return()=>t++})();function Kt(t){return t==null}function Ss(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function zt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Js(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function lr(t,e){return Js(t)?t:e}function Lt(t,e){return typeof t>"u"?e:t}const DS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function us(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function es(t,e,s,r){let o,a,l;if(Ss(t))for(a=t.length,o=0;o<a;o++)e.call(s,t[o],o);else if(zt(t))for(l=Object.keys(t),a=l.length,o=0;o<a;o++)e.call(s,t[l[o]],l[o])}function Fl(t,e){let s,r,o,a;if(!t||!e||t.length!==e.length)return!1;for(s=0,r=t.length;s<r;++s)if(o=t[s],a=e[s],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function Ul(t){if(Ss(t))return t.map(Ul);if(zt(t)){const e=Object.create(null),s=Object.keys(t),r=s.length;let o=0;for(;o<r;++o)e[s[o]]=Ul(t[s[o]]);return e}return t}function Gm(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function LS(t,e,s,r){if(!Gm(t))return;const o=e[t],a=s[t];zt(o)&&zt(a)?Sa(o,a,r):e[t]=Ul(a)}function Sa(t,e,s){const r=Ss(e)?e:[e],o=r.length;if(!zt(t))return t;s=s||{};const a=s.merger||LS;let l;for(let n=0;n<o;++n){if(l=r[n],!zt(l))continue;const c=Object.keys(l);for(let u=0,d=c.length;u<d;++u)a(c[u],t,l,s)}return t}function ua(t,e){return Sa(t,e,{merger:$S})}function $S(t,e,s){if(!Gm(t))return;const r=e[t],o=s[t];zt(r)&&zt(o)?ua(r,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ul(o))}const y0={"":t=>t,x:t=>t.x,y:t=>t.y};function RS(t){const e=t.split("."),s=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(s.push(r),r="");return s}function BS(t){const e=RS(t);return s=>{for(const r of e){if(r==="")break;s=s&&s[r]}return s}}function yn(t,e){return(y0[e]||(y0[e]=BS(e)))(t)}function Cd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ca=t=>typeof t<"u",lo=t=>typeof t=="function",w0=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function PS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const os=Math.PI,Ls=2*os,OS=Ls+os,Vl=Number.POSITIVE_INFINITY,IS=os/180,Os=os/2,ko=os/4,k0=os*2/3,Xm=Math.log10,gr=Math.sign;function da(t,e,s){return Math.abs(t-e)<s}function S0(t){const e=Math.round(t);t=da(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(Xm(t))),r=t/s;return(r<=1?1:r<=2?2:r<=5?5:10)*s}function NS(t){const e=[],s=Math.sqrt(t);let r;for(r=1;r<s;r++)t%r===0&&(e.push(r),e.push(t/r));return s===(s|0)&&e.push(s),e.sort((o,a)=>o-a).pop(),e}function jS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function wn(t){return!jS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function HS(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function zS(t,e,s){let r,o,a;for(r=0,o=t.length;r<o;r++)a=t[r][s],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Ro(t){return t*(os/180)}function FS(t){return t*(180/os)}function C0(t){if(!Js(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function Ym(t,e){const s=e.x-t.x,r=e.y-t.y,o=Math.sqrt(s*s+r*r);let a=Math.atan2(r,s);return a<-.5*os&&(a+=Ls),{angle:a,distance:o}}function Iu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function US(t,e){return(t-e+OS)%Ls-os}function Ci(t){return(t%Ls+Ls)%Ls}function Ed(t,e,s,r){const o=Ci(t),a=Ci(e),l=Ci(s),n=Ci(a-o),c=Ci(l-o),u=Ci(o-a),d=Ci(o-l);return o===a||o===l||r&&a===l||n>c&&u<d}function Gs(t,e,s){return Math.max(e,Math.min(s,t))}function VS(t){return Gs(t,-32768,32767)}function Lr(t,e,s,r=1e-6){return t>=Math.min(e,s)-r&&t<=Math.max(e,s)+r}function Ad(t,e,s){s=s||(l=>t[l]<e);let r=t.length-1,o=0,a;for(;r-o>1;)a=o+r>>1,s(a)?o=a:r=a;return{lo:o,hi:r}}const Bo=(t,e,s,r)=>Ad(t,s,r?o=>{const a=t[o][e];return a<s||a===s&&t[o+1][e]===s}:o=>t[o][e]<s),WS=(t,e,s)=>Ad(t,s,r=>t[r][e]>=s);function qS(t,e,s){let r=0,o=t.length;for(;r<o&&t[r]<e;)r++;for(;o>r&&t[o-1]>s;)o--;return r>0||o<t.length?t.slice(r,o):t}const Jm=["push","pop","shift","splice","unshift"];function KS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Jm.forEach(s=>{const r="_onData"+Cd(s),o=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return t._chartjs.listeners.forEach(n=>{typeof n[r]=="function"&&n[r](...a)}),l}})})}function E0(t,e){const s=t._chartjs;if(!s)return;const r=s.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(Jm.forEach(a=>{delete t[a]}),delete t._chartjs)}function Zm(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Qm=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function eg(t,e){let s=[],r=!1;return function(...o){s=o,r||(r=!0,Qm.call(window,()=>{r=!1,t.apply(e,s)}))}}function GS(t,e){let s;return function(...r){return e?(clearTimeout(s),s=setTimeout(t,e,r)):t.apply(this,r),e}}const Md=t=>t==="start"?"left":t==="end"?"right":"center",Fs=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,XS=(t,e,s,r)=>t===(r?"left":"right")?s:t==="center"?(e+s)/2:e;function tg(t,e,s){const r=e.length;let o=0,a=r;if(t._sorted){const{iScale:l,vScale:n,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=l.axis,{min:h,max:g,minDefined:_,maxDefined:w}=l.getUserBounds();if(_){if(o=Math.min(Bo(c,d,h).lo,s?r:Bo(e,d,l.getPixelForValue(h)).lo),u){const b=c.slice(0,o+1).reverse().findIndex(m=>!Kt(m[n.axis]));o-=Math.max(0,b)}o=Gs(o,0,r-1)}if(w){let b=Math.max(Bo(c,l.axis,g,!0).hi+1,s?0:Bo(e,d,l.getPixelForValue(g),!0).hi+1);if(u){const m=c.slice(b-1).findIndex(v=>!Kt(v[n.axis]));b+=Math.max(0,m)}a=Gs(b,o,r)-o}else a=r-o}return{start:o,count:a}}function sg(t){const{xScale:e,yScale:s,_scaleRanges:r}=t,o={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!r)return t._scaleRanges=o,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==s.min||r.ymax!==s.max;return Object.assign(r,o),a}const il=t=>t===0||t===1,A0=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ls/s)),M0=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ls/s)+1,ha={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Os)+1,easeOutSine:t=>Math.sin(t*Os),easeInOutSine:t=>-.5*(Math.cos(os*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>il(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>il(t)?t:A0(t,.075,.3),easeOutElastic:t=>il(t)?t:M0(t,.075,.3),easeInOutElastic(t){return il(t)?t:t<.5?.5*A0(t*2,.1125,.45):.5+.5*M0(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ha.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ha.easeInBounce(t*2)*.5:ha.easeOutBounce(t*2-1)*.5+.5};function Td(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function T0(t){return Td(t)?t:new ka(t)}function Jc(t){return Td(t)?t:new ka(t).saturate(.5).darken(.1).hexString()}const YS=["x","y","borderWidth","radius","tension"],JS=["color","borderColor","backgroundColor"];function ZS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:JS},numbers:{type:"number",properties:YS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function QS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const D0=new Map;function eC(t,e){e=e||{};const s=t+JSON.stringify(e);let r=D0.get(s);return r||(r=new Intl.NumberFormat(t,e),D0.set(s,r)),r}function ig(t,e,s){return eC(e,s).format(t)}const tC={values(t){return Ss(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const r=this.chart.options.locale;let o,a=t;if(s.length>1){const u=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(u<1e-4||u>1e15)&&(o="scientific"),a=sC(t,s)}const l=Xm(Math.abs(a)),n=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:o,minimumFractionDigits:n,maximumFractionDigits:n};return Object.assign(c,this.options.ticks.format),ig(t,r,c)}};function sC(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var rg={formatters:tC};function iC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Uo=Object.create(null),Nu=Object.create(null);function fa(t,e){if(!e)return t;const s=e.split(".");for(let r=0,o=s.length;r<o;++r){const a=s[r];t=t[a]||(t[a]=Object.create(null))}return t}function Zc(t,e,s){return typeof e=="string"?Sa(fa(t,e),s):Sa(fa(t,""),e)}class rC{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Jc(o.backgroundColor),this.hoverBorderColor=(r,o)=>Jc(o.borderColor),this.hoverColor=(r,o)=>Jc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Zc(this,e,s)}get(e){return fa(this,e)}describe(e,s){return Zc(Nu,e,s)}override(e,s){return Zc(Uo,e,s)}route(e,s,r,o){const a=fa(this,e),l=fa(this,r),n="_"+s;Object.defineProperties(a,{[n]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[n],u=l[o];return zt(c)?Object.assign({},u,c):Lt(c,u)},set(c){this[n]=c}}})}apply(e){e.forEach(s=>s(this))}}var xs=new rC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZS,QS,iC]);function oC(t){return!t||Kt(t.size)||Kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function L0(t,e,s,r,o){let a=e[o];return a||(a=e[o]=t.measureText(o).width,s.push(o)),a>r&&(r=a),r}function So(t,e,s){const r=t.currentDevicePixelRatio,o=s!==0?Math.max(s/2,.5):0;return Math.round((e-o)*r)/r+o}function $0(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ju(t,e,s,r){og(t,e,s,r,null)}function og(t,e,s,r,o){let a,l,n,c,u,d,h,g;const _=e.pointStyle,w=e.rotation,b=e.radius;let m=(w||0)*IS;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(s,r),t.rotate(m),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),_){default:o?t.ellipse(s,r,o/2,b,0,0,Ls):t.arc(s,r,b,0,Ls),t.closePath();break;case"triangle":d=o?o/2:b,t.moveTo(s+Math.sin(m)*d,r-Math.cos(m)*b),m+=k0,t.lineTo(s+Math.sin(m)*d,r-Math.cos(m)*b),m+=k0,t.lineTo(s+Math.sin(m)*d,r-Math.cos(m)*b),t.closePath();break;case"rectRounded":u=b*.516,c=b-u,l=Math.cos(m+ko)*c,h=Math.cos(m+ko)*(o?o/2-u:c),n=Math.sin(m+ko)*c,g=Math.sin(m+ko)*(o?o/2-u:c),t.arc(s-h,r-n,u,m-os,m-Os),t.arc(s+g,r-l,u,m-Os,m),t.arc(s+h,r+n,u,m,m+Os),t.arc(s-g,r+l,u,m+Os,m+os),t.closePath();break;case"rect":if(!w){c=Math.SQRT1_2*b,d=o?o/2:c,t.rect(s-d,r-c,2*d,2*c);break}m+=ko;case"rectRot":h=Math.cos(m)*(o?o/2:b),l=Math.cos(m)*b,n=Math.sin(m)*b,g=Math.sin(m)*(o?o/2:b),t.moveTo(s-h,r-n),t.lineTo(s+g,r-l),t.lineTo(s+h,r+n),t.lineTo(s-g,r+l),t.closePath();break;case"crossRot":m+=ko;case"cross":h=Math.cos(m)*(o?o/2:b),l=Math.cos(m)*b,n=Math.sin(m)*b,g=Math.sin(m)*(o?o/2:b),t.moveTo(s-h,r-n),t.lineTo(s+h,r+n),t.moveTo(s+g,r-l),t.lineTo(s-g,r+l);break;case"star":h=Math.cos(m)*(o?o/2:b),l=Math.cos(m)*b,n=Math.sin(m)*b,g=Math.sin(m)*(o?o/2:b),t.moveTo(s-h,r-n),t.lineTo(s+h,r+n),t.moveTo(s+g,r-l),t.lineTo(s-g,r+l),m+=ko,h=Math.cos(m)*(o?o/2:b),l=Math.cos(m)*b,n=Math.sin(m)*b,g=Math.sin(m)*(o?o/2:b),t.moveTo(s-h,r-n),t.lineTo(s+h,r+n),t.moveTo(s+g,r-l),t.lineTo(s-g,r+l);break;case"line":l=o?o/2:Math.cos(m)*b,n=Math.sin(m)*b,t.moveTo(s-l,r-n),t.lineTo(s+l,r+n);break;case"dash":t.moveTo(s,r),t.lineTo(s+Math.cos(m)*(o?o/2:b),r+Math.sin(m)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ea(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function bc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xc(t){t.restore()}function nC(t,e,s,r,o){if(!e)return t.lineTo(s.x,s.y);if(o==="middle"){const a=(e.x+s.x)/2;t.lineTo(a,e.y),t.lineTo(a,s.y)}else o==="after"!=!!r?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function aC(t,e,s,r){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?s.cp2x:s.cp1x,r?s.cp2y:s.cp1y,s.x,s.y)}function lC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cC(t,e,s,r,o){if(o.strikethrough||o.underline){const a=t.measureText(r),l=e-a.actualBoundingBoxLeft,n=e+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,u=s+a.actualBoundingBoxDescent,d=o.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(l,d),t.lineTo(n,d),t.stroke()}}function uC(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Aa(t,e,s,r,o,a={}){const l=Ss(e)?e:[e],n=a.strokeWidth>0&&a.strokeColor!=="";let c,u;for(t.save(),t.font=o.string,lC(t,a),c=0;c<l.length;++c)u=l[c],a.backdrop&&uC(t,a.backdrop),n&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Kt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(u,s,r,a.maxWidth)),t.fillText(u,s,r,a.maxWidth),cC(t,s,r,u,a),r+=Number(o.lineHeight);t.restore()}function Wl(t,e){const{x:s,y:r,w:o,h:a,radius:l}=e;t.arc(s+l.topLeft,r+l.topLeft,l.topLeft,1.5*os,os,!0),t.lineTo(s,r+a-l.bottomLeft),t.arc(s+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,os,Os,!0),t.lineTo(s+o-l.bottomRight,r+a),t.arc(s+o-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Os,0,!0),t.lineTo(s+o,r+l.topRight),t.arc(s+o-l.topRight,r+l.topRight,l.topRight,0,-Os,!0),t.lineTo(s+l.topLeft,r)}const dC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function fC(t,e){const s=(""+t).match(dC);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const pC=t=>+t||0;function Dd(t,e){const s={},r=zt(e),o=r?Object.keys(e):e,a=zt(t)?r?l=>Lt(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of o)s[l]=pC(a(l));return s}function ng(t){return Dd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function fn(t){return Dd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fi(t){const e=ng(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Xs(t,e){t=t||{},e=e||xs.font;let s=Lt(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let r=Lt(t.style,e.style);r&&!(""+r).match(hC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:Lt(t.family,e.family),lineHeight:fC(Lt(t.lineHeight,e.lineHeight),s),size:s,style:r,weight:Lt(t.weight,e.weight),string:""};return o.string=oC(o),o}function rl(t,e,s,r){let o,a,l;for(o=0,a=t.length;o<a;++o)if(l=t[o],l!==void 0&&l!==void 0)return l}function mC(t,e,s){const{min:r,max:o}=t,a=DS(e,(o-r)/2),l=(n,c)=>s&&n===0?0:n+c;return{min:l(r,-Math.abs(a)),max:l(o,a)}}function Vo(t,e){return Object.assign(Object.create(t),e)}function Ld(t,e=[""],s,r,o=()=>t[0]){const a=s||t;typeof r>"u"&&(r=ug("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:o,override:n=>Ld([n,...t],e,a,r)};return new Proxy(l,{deleteProperty(n,c){return delete n[c],delete n._keys,delete t[0][c],!0},get(n,c){return lg(n,c,()=>kC(c,e,t,n))},getOwnPropertyDescriptor(n,c){return Reflect.getOwnPropertyDescriptor(n._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(n,c){return B0(n).includes(c)},ownKeys(n){return B0(n)},set(n,c,u){const d=n._storage||(n._storage=o());return n[c]=d[c]=u,delete n._keys,!0}})}function kn(t,e,s,r){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:ag(t,r),setContext:a=>kn(t,a,s,r),override:a=>kn(t.override(a),e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,n){return lg(a,l,()=>vC(a,l,n))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,n){return t[l]=n,delete a[l],!0}})}function ag(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:s,indexable:r,isScriptable:lo(s)?s:()=>s,isIndexable:lo(r)?r:()=>r}}const gC=(t,e)=>t?t+Cd(e):e,$d=(t,e)=>zt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function lg(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=s();return t[e]=r,r}function vC(t,e,s){const{_proxy:r,_context:o,_subProxy:a,_descriptors:l}=t;let n=r[e];return lo(n)&&l.isScriptable(e)&&(n=bC(e,n,t,s)),Ss(n)&&n.length&&(n=xC(e,n,t,l.isIndexable)),$d(e,n)&&(n=kn(n,o,a&&a[e],l)),n}function bC(t,e,s,r){const{_proxy:o,_context:a,_subProxy:l,_stack:n}=s;if(n.has(t))throw new Error("Recursion detected: "+Array.from(n).join("->")+"->"+t);n.add(t);let c=e(a,l||r);return n.delete(t),$d(t,c)&&(c=Rd(o._scopes,o,t,c)),c}function xC(t,e,s,r){const{_proxy:o,_context:a,_subProxy:l,_descriptors:n}=s;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(zt(e[0])){const c=e,u=o._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=Rd(u,o,t,d);e.push(kn(h,a,l&&l[t],n))}}return e}function cg(t,e,s){return lo(t)?t(e,s):t}const _C=(t,e)=>t===!0?e:typeof t=="string"?yn(e,t):void 0;function yC(t,e,s,r,o){for(const a of e){const l=_C(s,a);if(l){t.add(l);const n=cg(l._fallback,s,o);if(typeof n<"u"&&n!==s&&n!==r)return n}else if(l===!1&&typeof r<"u"&&s!==r)return null}return!1}function Rd(t,e,s,r){const o=e._rootScopes,a=cg(e._fallback,s,r),l=[...t,...o],n=new Set;n.add(r);let c=R0(n,l,s,a||s,r);return c===null||typeof a<"u"&&a!==s&&(c=R0(n,l,a,c,r),c===null)?!1:Ld(Array.from(n),[""],o,a,()=>wC(e,s,r))}function R0(t,e,s,r,o){for(;s;)s=yC(t,e,s,r,o);return s}function wC(t,e,s){const r=t._getTarget();e in r||(r[e]={});const o=r[e];return Ss(o)&&zt(s)?s:o||{}}function kC(t,e,s,r){let o;for(const a of e)if(o=ug(gC(a,t),s),typeof o<"u")return $d(t,o)?Rd(s,r,t,o):o}function ug(t,e){for(const s of e){if(!s)continue;const r=s[t];if(typeof r<"u")return r}}function B0(t){let e=t._keys;return e||(e=t._keys=SC(t._scopes)),e}function SC(t){const e=new Set;for(const s of t)for(const r of Object.keys(s).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}const CC=Number.EPSILON||1e-14,Sn=(t,e)=>e<t.length&&!t[e].skip&&t[e],dg=t=>t==="x"?"y":"x";function EC(t,e,s,r){const o=t.skip?e:t,a=e,l=s.skip?e:s,n=Iu(a,o),c=Iu(l,a);let u=n/(n+c),d=c/(n+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=r*u,g=r*d;return{previous:{x:a.x-h*(l.x-o.x),y:a.y-h*(l.y-o.y)},next:{x:a.x+g*(l.x-o.x),y:a.y+g*(l.y-o.y)}}}function AC(t,e,s){const r=t.length;let o,a,l,n,c,u=Sn(t,0);for(let d=0;d<r-1;++d)if(c=u,u=Sn(t,d+1),!(!c||!u)){if(da(e[d],0,CC)){s[d]=s[d+1]=0;continue}o=s[d]/e[d],a=s[d+1]/e[d],n=Math.pow(o,2)+Math.pow(a,2),!(n<=9)&&(l=3/Math.sqrt(n),s[d]=o*l*e[d],s[d+1]=a*l*e[d])}}function MC(t,e,s="x"){const r=dg(s),o=t.length;let a,l,n,c=Sn(t,0);for(let u=0;u<o;++u){if(l=n,n=c,c=Sn(t,u+1),!n)continue;const d=n[s],h=n[r];l&&(a=(d-l[s])/3,n[`cp1${s}`]=d-a,n[`cp1${r}`]=h-a*e[u]),c&&(a=(c[s]-d)/3,n[`cp2${s}`]=d+a,n[`cp2${r}`]=h+a*e[u])}}function TC(t,e="x"){const s=dg(e),r=t.length,o=Array(r).fill(0),a=Array(r);let l,n,c,u=Sn(t,0);for(l=0;l<r;++l)if(n=c,c=u,u=Sn(t,l+1),!!c){if(u){const d=u[e]-c[e];o[l]=d!==0?(u[s]-c[s])/d:0}a[l]=n?u?gr(o[l-1])!==gr(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}AC(t,o,a),MC(t,a,e)}function ol(t,e,s){return Math.max(Math.min(t,s),e)}function DC(t,e){let s,r,o,a,l,n=Ea(t[0],e);for(s=0,r=t.length;s<r;++s)l=a,a=n,n=s<r-1&&Ea(t[s+1],e),a&&(o=t[s],l&&(o.cp1x=ol(o.cp1x,e.left,e.right),o.cp1y=ol(o.cp1y,e.top,e.bottom)),n&&(o.cp2x=ol(o.cp2x,e.left,e.right),o.cp2y=ol(o.cp2y,e.top,e.bottom)))}function LC(t,e,s,r,o){let a,l,n,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")TC(t,o);else{let u=r?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)n=t[a],c=EC(u,n,t[Math.min(a+1,l-(r?0:1))%l],e.tension),n.cp1x=c.previous.x,n.cp1y=c.previous.y,n.cp2x=c.next.x,n.cp2y=c.next.y,u=n}e.capBezierPoints&&DC(t,s)}function Bd(){return typeof window<"u"&&typeof document<"u"}function Pd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ql(t,e,s){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[s])):r=t,r}const _c=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function $C(t,e){return _c(t).getPropertyValue(e)}const RC=["top","right","bottom","left"];function No(t,e,s){const r={};s=s?"-"+s:"";for(let o=0;o<4;o++){const a=RC[o];r[a]=parseFloat(t[e+"-"+a+s])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const BC=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function PC(t,e){const s=t.touches,r=s&&s.length?s[0]:t,{offsetX:o,offsetY:a}=r;let l=!1,n,c;if(BC(o,a,t.target))n=o,c=a;else{const u=e.getBoundingClientRect();n=r.clientX-u.left,c=r.clientY-u.top,l=!0}return{x:n,y:c,box:l}}function Ao(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:r}=e,o=_c(s),a=o.boxSizing==="border-box",l=No(o,"padding"),n=No(o,"border","width"),{x:c,y:u,box:d}=PC(t,s),h=l.left+(d&&n.left),g=l.top+(d&&n.top);let{width:_,height:w}=e;return a&&(_-=l.width+n.width,w-=l.height+n.height),{x:Math.round((c-h)/_*s.width/r),y:Math.round((u-g)/w*s.height/r)}}function OC(t,e,s){let r,o;if(e===void 0||s===void 0){const a=t&&Pd(t);if(!a)e=t.clientWidth,s=t.clientHeight;else{const l=a.getBoundingClientRect(),n=_c(a),c=No(n,"border","width"),u=No(n,"padding");e=l.width-u.width-c.width,s=l.height-u.height-c.height,r=ql(n.maxWidth,a,"clientWidth"),o=ql(n.maxHeight,a,"clientHeight")}}return{width:e,height:s,maxWidth:r||Vl,maxHeight:o||Vl}}const eo=t=>Math.round(t*10)/10;function IC(t,e,s,r){const o=_c(t),a=No(o,"margin"),l=ql(o.maxWidth,t,"clientWidth")||Vl,n=ql(o.maxHeight,t,"clientHeight")||Vl,c=OC(t,e,s);let{width:u,height:d}=c;if(o.boxSizing==="content-box"){const g=No(o,"border","width"),_=No(o,"padding");u-=_.width+g.width,d-=_.height+g.height}return u=Math.max(0,u-a.width),d=Math.max(0,r?u/r:d-a.height),u=eo(Math.min(u,l,c.maxWidth)),d=eo(Math.min(d,n,c.maxHeight)),u&&!d&&(d=eo(u/2)),(e!==void 0||s!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=eo(Math.floor(d*r))),{width:u,height:d}}function P0(t,e,s){const r=e||1,o=eo(t.height*r),a=eo(t.width*r);t.height=eo(t.height),t.width=eo(t.width);const l=t.canvas;return l.style&&(s||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==o||l.width!==a?(t.currentDevicePixelRatio=r,l.height=o,l.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const NC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Bd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function O0(t,e){const s=$C(t,e),r=s&&s.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Mo(t,e,s,r){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function jC(t,e,s,r){return{x:t.x+s*(e.x-t.x),y:r==="middle"?s<.5?t.y:e.y:r==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function HC(t,e,s,r){const o={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=Mo(t,o,s),n=Mo(o,a,s),c=Mo(a,e,s),u=Mo(l,n,s),d=Mo(n,c,s);return Mo(u,d,s)}const zC=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,r){return s-r},leftForLtr(s,r){return s-r}}},FC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function pn(t,e,s){return t?zC(e,s):FC()}function hg(t,e){let s,r;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,r=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=r)}function fg(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function pg(t){return t==="angle"?{between:Ed,compare:US,normalize:Ci}:{between:Lr,compare:(e,s)=>e-s,normalize:e=>e}}function I0({start:t,end:e,count:s,loop:r,style:o}){return{start:t%s,end:e%s,loop:r&&(e-t+1)%s===0,style:o}}function UC(t,e,s){const{property:r,start:o,end:a}=s,{between:l,normalize:n}=pg(r),c=e.length;let{start:u,end:d,loop:h}=t,g,_;if(h){for(u+=c,d+=c,g=0,_=c;g<_&&l(n(e[u%c][r]),o,a);++g)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:t.style}}function mg(t,e,s){if(!s)return[t];const{property:r,start:o,end:a}=s,l=e.length,{compare:n,between:c,normalize:u}=pg(r),{start:d,end:h,loop:g,style:_}=UC(t,e,s),w=[];let b=!1,m=null,v,p,x;const y=()=>c(o,x,v)&&n(o,x)!==0,E=()=>n(a,v)===0||c(a,x,v),A=()=>b||y(),D=()=>!b||E();for(let S=d,C=d;S<=h;++S)p=e[S%l],!p.skip&&(v=u(p[r]),v!==x&&(b=c(v,o,a),m===null&&A()&&(m=n(v,o)===0?S:C),m!==null&&D()&&(w.push(I0({start:m,end:S,loop:g,count:l,style:_})),m=null),C=S,x=v));return m!==null&&w.push(I0({start:m,end:h,loop:g,count:l,style:_})),w}function gg(t,e){const s=[],r=t.segments;for(let o=0;o<r.length;o++){const a=mg(r[o],t.points,e);a.length&&s.push(...a)}return s}function VC(t,e,s,r){let o=0,a=e-1;if(s&&!r)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,s&&(a+=o);a>o&&t[a%e].skip;)a--;return a%=e,{start:o,end:a}}function WC(t,e,s,r){const o=t.length,a=[];let l=e,n=t[e],c;for(c=e+1;c<=s;++c){const u=t[c%o];u.skip||u.stop?n.skip||(r=!1,a.push({start:e%o,end:(c-1)%o,loop:r}),e=l=u.stop?c:null):(l=c,n.skip&&(e=c)),n=u}return l!==null&&a.push({start:e%o,end:l%o,loop:r}),a}function qC(t,e){const s=t.points,r=t.options.spanGaps,o=s.length;if(!o)return[];const a=!!t._loop,{start:l,end:n}=VC(s,o,a,r);if(r===!0)return N0(t,[{start:l,end:n,loop:a}],s,e);const c=n<l?n+o:n,u=!!t._fullLoop&&l===0&&n===o-1;return N0(t,WC(s,l,c,u),s,e)}function N0(t,e,s,r){return!r||!r.setContext||!s?e:KC(t,e,s,r)}function KC(t,e,s,r){const o=t._chart.getContext(),a=j0(t.options),{_datasetIndex:l,options:{spanGaps:n}}=t,c=s.length,u=[];let d=a,h=e[0].start,g=h;function _(w,b,m,v){const p=n?-1:1;if(w!==b){for(w+=c;s[w%c].skip;)w-=p;for(;s[b%c].skip;)b+=p;w%c!==b%c&&(u.push({start:w%c,end:b%c,loop:m,style:v}),d=v,h=b%c)}}for(const w of e){h=n?h:w.start;let b=s[h%c],m;for(g=h+1;g<=w.end;g++){const v=s[g%c];m=j0(r.setContext(Vo(o,{type:"segment",p0:b,p1:v,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:l}))),GC(m,d)&&_(h,g-1,w.loop,d),b=v,d=m}h<g-1&&_(h,g-1,w.loop,d)}return u}function j0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function GC(t,e){if(!e)return!1;const s=[],r=function(o,a){return Td(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function nl(t,e,s){return t.options.clip?t[s]:e[s]}function XC(t,e){const{xScale:s,yScale:r}=t;return s&&r?{left:nl(s,e,"left"),right:nl(s,e,"right"),top:nl(r,e,"top"),bottom:nl(r,e,"bottom")}:e}function vg(t,e){const s=e._clip;if(s.disabled)return!1;const r=XC(e,t.chartArea);return{left:s.left===!1?0:r.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:r.right+(s.right===!0?0:s.right),top:s.top===!1?0:r.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:r.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,r,o){const a=s.listeners[o],l=s.duration;a.forEach(n=>n({chart:e,initial:s.initial,numSteps:l,currentStep:Math.min(r-s.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Qm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,n=!1,c;for(;l>=0;--l)c=a[l],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),n=!0):(a[l]=a[a.length-1],a.pop());n&&(o.draw(),this._notify(o,r,e,"progress")),a.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),s+=a.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let r=s.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,r)),r}listen(e,s,r){this._getAnims(e).listeners[s].push(r)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const r=s.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var kr=new YC;const H0="transparent",JC={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const r=T0(t||H0),o=r.valid&&T0(e||H0);return o&&o.valid?o.mix(r,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class ZC{constructor(e,s,r,o){const a=s[r];o=rl([e.to,o,a,e.from]);const l=rl([e.from,a,o]);this._active=!0,this._fn=e.fn||JC[e.type||typeof l],this._easing=ha[e.easing]||ha.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=r,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,s,r){if(this._active){this._notify(!1);const o=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=rl([e.to,s,o,e.from]),this._from=rl([e.from,o,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,r=this._duration,o=this._prop,a=this._from,l=this._loop,n=this._to;let c;if(this._active=a!==n&&(l||s<r),!this._active){this._target[o]=n,this._notify(!0);return}if(s<0){this._target[o]=a;return}c=s/r%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[o]=this._fn(a,n,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,r)=>{e.push({res:s,rej:r})})}_notify(e){const s=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][s]()}}class bg{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!zt(e))return;const s=Object.keys(xs.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!zt(a))return;const l={};for(const n of s)l[n]=a[n];(Ss(a.properties)&&a.properties||[o]).forEach(n=>{(n===o||!r.has(n))&&r.set(n,l)})})}_animateOptions(e,s){const r=s.options,o=e6(e,r);if(!o)return[];const a=this._createAnimations(o,r);return r.$shared&&QC(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,s){const r=this._properties,o=[],a=e.$animations||(e.$animations={}),l=Object.keys(s),n=Date.now();let c;for(c=l.length-1;c>=0;--c){const u=l[c];if(u.charAt(0)==="$")continue;if(u==="options"){o.push(...this._animateOptions(e,s));continue}const d=s[u];let h=a[u];const g=r.get(u);if(h)if(g&&h.active()){h.update(g,d,n);continue}else h.cancel();if(!g||!g.duration){e[u]=d;continue}a[u]=h=new ZC(g,e,u,d),o.push(h)}return o}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const r=this._createAnimations(e,s);if(r.length)return kr.add(this._chart,r),!0}}function QC(t,e){const s=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const a=t[r[o]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function e6(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function z0(t,e){const s=t&&t.options||{},r=s.reverse,o=s.min===void 0?e:0,a=s.max===void 0?e:0;return{start:r?a:o,end:r?o:a}}function t6(t,e,s){if(s===!1)return!1;const r=z0(t,s),o=z0(e,s);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function s6(t){let e,s,r,o;return zt(t)?(e=t.top,s=t.right,r=t.bottom,o=t.left):e=s=r=o=t,{top:e,right:s,bottom:r,left:o,disabled:t===!1}}function xg(t,e){const s=[],r=t._getSortedDatasetMetas(e);let o,a;for(o=0,a=r.length;o<a;++o)s.push(r[o].index);return s}function F0(t,e,s,r={}){const o=t.keys,a=r.mode==="single";let l,n,c,u;if(e===null)return;let d=!1;for(l=0,n=o.length;l<n;++l){if(c=+o[l],c===s){if(d=!0,r.all)continue;break}u=t.values[c],Js(u)&&(a||e===0||gr(e)===gr(u))&&(e+=u)}return!d&&!r.all?0:e}function i6(t,e){const{iScale:s,vScale:r}=e,o=s.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(t),n=new Array(l.length);let c,u,d;for(c=0,u=l.length;c<u;++c)d=l[c],n[c]={[o]:d,[a]:t[d]};return n}function Qc(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function r6(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function o6(t){const{min:e,max:s,minDefined:r,maxDefined:o}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?s:Number.POSITIVE_INFINITY}}function n6(t,e,s){const r=t[e]||(t[e]={});return r[s]||(r[s]={})}function U0(t,e,s,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const a=t[o.index];if(s&&a>0||!s&&a<0)return o.index}return null}function V0(t,e){const{chart:s,_cachedMeta:r}=t,o=s._stacks||(s._stacks={}),{iScale:a,vScale:l,index:n}=r,c=a.axis,u=l.axis,d=r6(a,l,r),h=e.length;let g;for(let _=0;_<h;++_){const w=e[_],{[c]:b,[u]:m}=w,v=w._stacks||(w._stacks={});g=v[u]=n6(o,d,b),g[n]=m,g._top=U0(g,l,!0,r.type),g._bottom=U0(g,l,!1,r.type);const p=g._visualValues||(g._visualValues={});p[n]=m}}function eu(t,e){const s=t.scales;return Object.keys(s).filter(r=>s[r].axis===e).shift()}function a6(t,e){return Vo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function l6(t,e,s){return Vo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function zn(t,e){const s=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const o of e){const a=o._stacks;if(!a||a[r]===void 0||a[r][s]===void 0)return;delete a[r][s],a[r]._visualValues!==void 0&&a[r]._visualValues[s]!==void 0&&delete a[r]._visualValues[s]}}}const tu=t=>t==="reset"||t==="none",W0=(t,e)=>e?t:Object.assign({},t),c6=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:xg(s,!0),values:null};class jo{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,r=this.getDataset(),o=(h,g,_,w)=>h==="x"?g:h==="r"?w:_,a=s.xAxisID=Lt(r.xAxisID,eu(e,"x")),l=s.yAxisID=Lt(r.yAxisID,eu(e,"y")),n=s.rAxisID=Lt(r.rAxisID,eu(e,"r")),c=s.indexAxis,u=s.iAxisID=o(c,a,l,n),d=s.vAxisID=o(c,l,a,n);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(l),s.rScale=this.getScaleForId(n),s.iScale=this.getScaleForId(u),s.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&E0(this._data,this),e._stacked&&zn(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),r=this._data;if(zt(s)){const o=this._cachedMeta;this._data=i6(s,o)}else if(r!==s){if(r){E0(r,this);const o=this._cachedMeta;zn(o),o._parsed=[]}s&&Object.isExtensible(s)&&KS(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=s._stacked;s._stacked=Qc(s.vScale,s),s.stack!==r.stack&&(o=!0,zn(s),s.stack=r.stack),this._resyncElements(e),(o||a!==s._stacked)&&(V0(this,s._parsed),s._stacked=Qc(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:l}=r,n=a.axis;let c=e===0&&s===o.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,h,g;if(this._parsing===!1)r._parsed=o,r._sorted=!0,g=o;else{Ss(o[e])?g=this.parseArrayData(r,o,e,s):zt(o[e])?g=this.parseObjectData(r,o,e,s):g=this.parsePrimitiveData(r,o,e,s);const _=()=>h[n]===null||u&&h[n]<u[n];for(d=0;d<s;++d)r._parsed[d+e]=h=g[d],c&&(_()&&(c=!1),u=h);r._sorted=c}l&&V0(this,g)}parsePrimitiveData(e,s,r,o){const{iScale:a,vScale:l}=e,n=a.axis,c=l.axis,u=a.getLabels(),d=a===l,h=new Array(o);let g,_,w;for(g=0,_=o;g<_;++g)w=g+r,h[g]={[n]:d||a.parse(u[w],w),[c]:l.parse(s[w],w)};return h}parseArrayData(e,s,r,o){const{xScale:a,yScale:l}=e,n=new Array(o);let c,u,d,h;for(c=0,u=o;c<u;++c)d=c+r,h=s[d],n[c]={x:a.parse(h[0],d),y:l.parse(h[1],d)};return n}parseObjectData(e,s,r,o){const{xScale:a,yScale:l}=e,{xAxisKey:n="x",yAxisKey:c="y"}=this._parsing,u=new Array(o);let d,h,g,_;for(d=0,h=o;d<h;++d)g=d+r,_=s[g],u[d]={x:a.parse(yn(_,n),g),y:l.parse(yn(_,c),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,r){const o=this.chart,a=this._cachedMeta,l=s[e.axis],n={keys:xg(o,!0),values:s._stacks[e.axis]._visualValues};return F0(n,l,a.index,{mode:r})}updateRangeFromParsed(e,s,r,o){const a=r[s.axis];let l=a===null?NaN:a;const n=o&&r._stacks[s.axis];o&&n&&(o.values=n,l=F0(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,s){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,l=o.length,n=this._getOtherScale(e),c=c6(s,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=o6(n);let g,_;function w(){_=o[g];const b=_[n.axis];return!Js(_[e.axis])||d>b||h<b}for(g=0;g<l&&!(!w()&&(this.updateRangeFromParsed(u,e,_,c),a));++g);if(a){for(g=l-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(u,e,_,c);break}}return u}getAllParsedValues(e){const s=this._cachedMeta._parsed,r=[];let o,a,l;for(o=0,a=s.length;o<a;++o)l=s[o][e.axis],Js(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,r=s.iScale,o=s.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=s6(Lt(this.options.clip,t6(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,r=this._cachedMeta,o=r.data||[],a=s.chartArea,l=[],n=this._drawStart||0,c=this._drawCount||o.length-n,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,a,n,c),d=n;d<n+c;++d){const h=o[d];h.hidden||(h.active&&u?l.push(h):h.draw(e,a))}for(d=0;d<l.length;++d)l[d].draw(e,a)}getStyle(e,s){const r=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,s,r){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=l6(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=a6(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",r){const o=s==="active",a=this._cachedDataOpts,l=e+"-"+s,n=a[l],c=this.enableOptionSharing&&Ca(r);if(n)return W0(n,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=o?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),d),_=Object.keys(xs.elements[e]),w=()=>this.getContext(r,o,s),b=u.resolveNamedOptions(g,_,w,h);return b.$shared&&(b.$shared=c,a[l]=Object.freeze(W0(b,c))),b}_resolveAnimations(e,s,r){const o=this.chart,a=this._cachedDataOpts,l=`animation-${s}`,n=a[l];if(n)return n;let c;if(o.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,s),g=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(g,this.getContext(e,r,s))}const u=new bg(o,c&&c.animations);return c&&c._cacheable&&(a[l]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||tu(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const r=this.resolveDataElementOptions(e,s),o=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(s,a)||a!==o;return this.updateSharedOptions(a,s,r),{sharedOptions:a,includeOptions:l}}updateElement(e,s,r,o){tu(o)?Object.assign(e,r):this._resolveAnimations(s,o).update(e,r)}updateSharedOptions(e,s,r){e&&!tu(s)&&this._resolveAnimations(void 0,s).update(e,r)}_setStyle(e,s,r,o){e.active=o;const a=this.getStyle(s,o);this._resolveAnimations(s,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,s,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,s,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,r=this._cachedMeta.data;for(const[n,c,u]of this._syncList)this[n](c,u);this._syncList=[];const o=r.length,a=s.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,s,r=!0){const o=this._cachedMeta,a=o.data,l=e+s;let n;const c=u=>{for(u.length+=s,n=u.length-1;n>=l;n--)u[n]=u[n-s]};for(c(a),n=e;n<l;++n)a[n]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,s),r&&this.updateElements(a,e,s,"reset")}updateElements(e,s,r,o){}_removeElements(e,s){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,s);r._stacked&&zn(r,o)}r.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,r,o]=e;this[s](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot(jo,"defaults",{}),ot(jo,"datasetElementType",null),ot(jo,"dataElementType",null);function u6(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let r=[];for(let o=0,a=s.length;o<a;o++)r=r.concat(s[o].controller.getAllParsedValues(t));t._cache.$bar=Zm(r.sort((o,a)=>o-a))}return t._cache.$bar}function d6(t){const e=t.iScale,s=u6(e,t.type);let r=e._length,o,a,l,n;const c=()=>{l===32767||l===-32768||(Ca(n)&&(r=Math.min(r,Math.abs(l-n)||r)),n=l)};for(o=0,a=s.length;o<a;++o)l=e.getPixelForValue(s[o]),c();for(n=void 0,o=0,a=e.ticks.length;o<a;++o)l=e.getPixelForTick(o),c();return r}function h6(t,e,s,r){const o=s.barThickness;let a,l;return Kt(o)?(a=e.min*s.categoryPercentage,l=s.barPercentage):(a=o*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[t]-a/2}}function f6(t,e,s,r){const o=e.pixels,a=o[t];let l=t>0?o[t-1]:null,n=t<o.length-1?o[t+1]:null;const c=s.categoryPercentage;l===null&&(l=a-(n===null?e.end-e.start:n-a)),n===null&&(n=a+a-l);const u=a-(a-Math.min(l,n))/2*c;return{chunk:Math.abs(n-l)/2*c/r,ratio:s.barPercentage,start:u}}function p6(t,e,s,r){const o=s.parse(t[0],r),a=s.parse(t[1],r),l=Math.min(o,a),n=Math.max(o,a);let c=l,u=n;Math.abs(l)>Math.abs(n)&&(c=n,u=l),e[s.axis]=u,e._custom={barStart:c,barEnd:u,start:o,end:a,min:l,max:n}}function _g(t,e,s,r){return Ss(t)?p6(t,e,s,r):e[s.axis]=s.parse(t,r),e}function q0(t,e,s,r){const o=t.iScale,a=t.vScale,l=o.getLabels(),n=o===a,c=[];let u,d,h,g;for(u=s,d=s+r;u<d;++u)g=e[u],h={},h[o.axis]=n||o.parse(l[u],u),c.push(_g(g,h,a,u));return c}function su(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function m6(t,e,s){return t!==0?gr(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function g6(t){let e,s,r,o,a;return t.horizontal?(e=t.base>t.x,s="left",r="right"):(e=t.base<t.y,s="bottom",r="top"),e?(o="end",a="start"):(o="start",a="end"),{start:s,end:r,reverse:e,top:o,bottom:a}}function v6(t,e,s,r){let o=e.borderSkipped;const a={};if(!o){t.borderSkipped=a;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:n,reverse:c,top:u,bottom:d}=g6(t);o==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===r?o=u:(s._bottom||0)===r?o=d:(a[K0(d,l,n,c)]=!0,o=u)),a[K0(o,l,n,c)]=!0,t.borderSkipped=a}function K0(t,e,s,r){return r?(t=b6(t,e,s),t=G0(t,s,e)):t=G0(t,e,s),t}function b6(t,e,s){return t===e?s:t===s?e:t}function G0(t,e,s){return t==="start"?e:t==="end"?s:t}function x6(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class Cl extends jo{parsePrimitiveData(e,s,r,o){return q0(e,s,r,o)}parseArrayData(e,s,r,o){return q0(e,s,r,o)}parseObjectData(e,s,r,o){const{iScale:a,vScale:l}=e,{xAxisKey:n="x",yAxisKey:c="y"}=this._parsing,u=a.axis==="x"?n:c,d=l.axis==="x"?n:c,h=[];let g,_,w,b;for(g=r,_=r+o;g<_;++g)b=s[g],w={},w[a.axis]=a.parse(yn(b,u),g),h.push(_g(yn(b,d),w,l,g));return h}updateRangeFromParsed(e,s,r,o){super.updateRangeFromParsed(e,s,r,o);const a=r._custom;a&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:r,vScale:o}=s,a=this.getParsed(e),l=a._custom,n=su(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:n}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,r,o){const a=o==="reset",{index:l,_cachedMeta:{vScale:n}}=this,c=n.getBasePixel(),u=n.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:g}=this._getSharedOptions(s,o);for(let _=s;_<s+r;_++){const w=this.getParsed(_),b=a||Kt(w[n.axis])?{base:c,head:c}:this._calculateBarValuePixels(_),m=this._calculateBarIndexPixels(_,d),v=(w._stacks||{})[n.axis],p={horizontal:u,base:b.base,enableBorderRadius:!v||su(w._custom)||l===v._top||l===v._bottom,x:u?b.head:m.center,y:u?m.center:b.head,height:u?m.size:Math.abs(b.size),width:u?Math.abs(b.size):m.size};g&&(p.options=h||this.resolveDataElementOptions(_,e[_].active?"active":o));const x=p.options||e[_].options;v6(p,x,v,l),x6(p,x,d.ratio),this.updateElement(e[_],_,p,o)}}_getStacks(e,s){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),a=r.options.stacked,l=[],n=this._cachedMeta.controller.getParsed(s),c=n&&n[r.axis],u=d=>{const h=d._parsed.find(_=>_[r.axis]===c),g=h&&h[d.vScale.axis];if(Kt(g)||isNaN(g))return!0};for(const d of o)if(!(s!==void 0&&u(d))&&((a===!1||l.indexOf(d.stack)===-1||a===void 0&&d.stack===void 0)&&l.push(d.stack),d.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Lt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,r){const o=this._getStacks(e,r),a=s!==void 0?o.indexOf(s):-1;return a===-1?o.length-1:a}_getRuler(){const e=this.options,s=this._cachedMeta,r=s.iScale,o=[];let a,l;for(a=0,l=s.data.length;a<l;++a)o.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const n=e.barThickness;return{min:n||d6(s),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:n?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:r,index:o},options:{base:a,minBarLength:l}}=this,n=a||0,c=this.getParsed(e),u=c._custom,d=su(u);let h=c[s.axis],g=0,_=r?this.applyStack(s,c,r):h,w,b;_!==h&&(g=_-h,_=h),d&&(h=u.barStart,_=u.barEnd-u.barStart,h!==0&&gr(h)!==gr(u.barEnd)&&(g=0),g+=h);const m=!Kt(a)&&!d?a:g;let v=s.getPixelForValue(m);if(this.chart.getDataVisibility(e)?w=s.getPixelForValue(g+_):w=v,b=w-v,Math.abs(b)<l){b=m6(b,s,n)*l,h===n&&(v-=b/2);const p=s.getPixelForDecimal(0),x=s.getPixelForDecimal(1),y=Math.min(p,x),E=Math.max(p,x);v=Math.max(Math.min(v,E),y),w=v+b,r&&!d&&(c._stacks[s.axis]._visualValues[o]=s.getValueForPixel(w)-s.getValueForPixel(v))}if(v===s.getPixelForValue(n)){const p=gr(b)*s.getLineWidthForValue(n)/2;v+=p,b-=p}return{size:b,base:v,head:w,center:w+b/2}}_calculateBarIndexPixels(e,s){const r=s.scale,o=this.options,a=o.skipNull,l=Lt(o.maxBarThickness,1/0);let n,c;const u=this._getAxisCount();if(s.grouped){const d=a?this._getStackCount(e):s.stackCount,h=o.barThickness==="flex"?f6(e,s,o,d*u):h6(e,s,o,d*u),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Lt(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+_;n=h.start+h.chunk*w+h.chunk/2,c=Math.min(l,h.chunk*h.ratio)}else n=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(l,s.min*s.ratio);return{base:n-c/2,head:n+c/2,center:n,size:c}}draw(){const e=this._cachedMeta,s=e.vScale,r=e.data,o=r.length;let a=0;for(;a<o;++a)this.getParsed(a)[s.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}ot(Cl,"id","bar"),ot(Cl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(Cl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class El extends jo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:r,data:o=[],_dataset:a}=s,l=this.chart._animationsDisabled;let{start:n,count:c}=tg(s,o,l);this._drawStart=n,this._drawCount=c,sg(s)&&(n=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:u},e),this.updateElements(o,n,c,e)}updateElements(e,s,r,o){const a=o==="reset",{iScale:l,vScale:n,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,o),g=l.axis,_=n.axis,{spanGaps:w,segment:b}=this.options,m=wn(w)?w:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||o==="none",p=s+r,x=e.length;let y=s>0&&this.getParsed(s-1);for(let E=0;E<x;++E){const A=e[E],D=v?A:{};if(E<s||E>=p){D.skip=!0;continue}const S=this.getParsed(E),C=Kt(S[_]),B=D[g]=l.getPixelForValue(S[g],E),L=D[_]=a||C?n.getBasePixel():n.getPixelForValue(c?this.applyStack(n,S,c):S[_],E);D.skip=isNaN(B)||isNaN(L)||C,D.stop=E>0&&Math.abs(S[g]-y[g])>m,b&&(D.parsed=S,D.raw=u.data[E]),h&&(D.options=d||this.resolveDataElementOptions(E,A.active?"active":o)),v||this.updateElement(A,E,D,o),y=S}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,r=s.options&&s.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const a=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ot(El,"id","line"),ot(El,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ot(El,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Al extends jo{getLabelAndValue(e){const s=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:a}=s,l=this.getParsed(e),n=o.getLabelForValue(l.x),c=a.getLabelForValue(l.y);return{label:r[e]||"",value:"("+n+", "+c+")"}}update(e){const s=this._cachedMeta,{data:r=[]}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=tg(s,r,o);if(this._drawStart=a,this._drawCount=l,sg(s)&&(a=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:n,_dataset:c}=s;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!c._decimated,n.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(r,a,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,r,o){const a=o==="reset",{iScale:l,vScale:n,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(s,o),h=this.getSharedOptions(d),g=this.includeOptions(o,h),_=l.axis,w=n.axis,{spanGaps:b,segment:m}=this.options,v=wn(b)?b:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||a||o==="none";let x=s>0&&this.getParsed(s-1);for(let y=s;y<s+r;++y){const E=e[y],A=this.getParsed(y),D=p?E:{},S=Kt(A[w]),C=D[_]=l.getPixelForValue(A[_],y),B=D[w]=a||S?n.getBasePixel():n.getPixelForValue(c?this.applyStack(n,A,c):A[w],y);D.skip=isNaN(C)||isNaN(B)||S,D.stop=y>0&&Math.abs(A[_]-x[_])>v,m&&(D.parsed=A,D.raw=u.data[y]),g&&(D.options=h||this.resolveDataElementOptions(y,E.active?"active":o)),p||this.updateElement(E,y,D,o),x=A}this.updateSharedOptions(h,o,d)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let n=0;for(let c=s.length-1;c>=0;--c)n=Math.max(n,s[c].size(this.resolveDataElementOptions(c))/2);return n>0&&n}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!s.length)return o;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(o,a,l)/2}}ot(Al,"id","scatter"),ot(Al,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ot(Al,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Od{constructor(e){ot(this,"options");this.options=e||{}}static override(e){Object.assign(Od.prototype,e)}init(){}formats(){return Co()}parse(){return Co()}format(){return Co()}add(){return Co()}diff(){return Co()}startOf(){return Co()}endOf(){return Co()}}var _6={_date:Od};function y6(t,e,s,r){const{controller:o,data:a,_sorted:l}=t,n=o._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(n&&e===n.axis&&e!=="r"&&l&&a.length){const u=n._reversePixels?WS:Bo;if(r){if(o._sharedOptions){const d=a[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const g=u(a,e,s-h),_=u(a,e,s+h);return{lo:g.lo,hi:_.hi}}}}else{const d=u(a,e,s);if(c){const{vScale:h}=o._cachedMeta,{_parsed:g}=t,_=g.slice(0,d.lo+1).reverse().findIndex(b=>!Kt(b[h.axis]));d.lo-=Math.max(0,_);const w=g.slice(d.hi).findIndex(b=>!Kt(b[h.axis]));d.hi+=Math.max(0,w)}return d}}return{lo:0,hi:a.length-1}}function yc(t,e,s,r,o){const a=t.getSortedVisibleDatasetMetas(),l=s[e];for(let n=0,c=a.length;n<c;++n){const{index:u,data:d}=a[n],{lo:h,hi:g}=y6(a[n],e,l,o);for(let _=h;_<=g;++_){const w=d[_];w.skip||r(w,u,_)}}}function w6(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(r,o){const a=e?Math.abs(r.x-o.x):0,l=s?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function iu(t,e,s,r,o){const a=[];return!o&&!t.isPointInArea(e)||yc(t,s,e,function(n,c,u){!o&&!Ea(n,t.chartArea,0)||n.inRange(e.x,e.y,r)&&a.push({element:n,datasetIndex:c,index:u})},!0),a}function k6(t,e,s,r){let o=[];function a(l,n,c){const{startAngle:u,endAngle:d}=l.getProps(["startAngle","endAngle"],r),{angle:h}=Ym(l,{x:e.x,y:e.y});Ed(h,u,d)&&o.push({element:l,datasetIndex:n,index:c})}return yc(t,s,e,a),o}function S6(t,e,s,r,o,a){let l=[];const n=w6(s);let c=Number.POSITIVE_INFINITY;function u(d,h,g){const _=d.inRange(e.x,e.y,o);if(r&&!_)return;const w=d.getCenterPoint(o);if(!(!!a||t.isPointInArea(w))&&!_)return;const m=n(e,w);m<c?(l=[{element:d,datasetIndex:h,index:g}],c=m):m===c&&l.push({element:d,datasetIndex:h,index:g})}return yc(t,s,e,u),l}function ru(t,e,s,r,o,a){return!a&&!t.isPointInArea(e)?[]:s==="r"&&!r?k6(t,e,s,o):S6(t,e,s,r,o,a)}function X0(t,e,s,r,o){const a=[],l=s==="x"?"inXRange":"inYRange";let n=!1;return yc(t,s,e,(c,u,d)=>{c[l]&&c[l](e[s],o)&&(a.push({element:c,datasetIndex:u,index:d}),n=n||c.inRange(e.x,e.y,o))}),r&&!n?[]:a}var C6={modes:{index(t,e,s,r){const o=Ao(e,t),a=s.axis||"x",l=s.includeInvisible||!1,n=s.intersect?iu(t,o,a,r,l):ru(t,o,a,!1,r,l),c=[];return n.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=n[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,s,r){const o=Ao(e,t),a=s.axis||"xy",l=s.includeInvisible||!1;let n=s.intersect?iu(t,o,a,r,l):ru(t,o,a,!1,r,l);if(n.length>0){const c=n[0].datasetIndex,u=t.getDatasetMeta(c).data;n=[];for(let d=0;d<u.length;++d)n.push({element:u[d],datasetIndex:c,index:d})}return n},point(t,e,s,r){const o=Ao(e,t),a=s.axis||"xy",l=s.includeInvisible||!1;return iu(t,o,a,r,l)},nearest(t,e,s,r){const o=Ao(e,t),a=s.axis||"xy",l=s.includeInvisible||!1;return ru(t,o,a,s.intersect,r,l)},x(t,e,s,r){const o=Ao(e,t);return X0(t,o,"x",s.intersect,r)},y(t,e,s,r){const o=Ao(e,t);return X0(t,o,"y",s.intersect,r)}}};const yg=["left","top","right","bottom"];function Fn(t,e){return t.filter(s=>s.pos===e)}function Y0(t,e){return t.filter(s=>yg.indexOf(s.pos)===-1&&s.box.axis===e)}function Un(t,e){return t.sort((s,r)=>{const o=e?r:s,a=e?s:r;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function E6(t){const e=[];let s,r,o,a,l,n;for(s=0,r=(t||[]).length;s<r;++s)o=t[s],{position:a,options:{stack:l,stackWeight:n=1}}=o,e.push({index:s,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:n});return e}function A6(t){const e={};for(const s of t){const{stack:r,pos:o,stackWeight:a}=s;if(!r||!yg.includes(o))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function M6(t,e){const s=A6(t),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let a,l,n;for(a=0,l=t.length;a<l;++a){n=t[a];const{fullSize:c}=n.box,u=s[n.stack],d=u&&n.stackWeight/u.weight;n.horizontal?(n.width=d?d*r:c&&e.availableWidth,n.height=o):(n.width=r,n.height=d?d*o:c&&e.availableHeight)}return s}function T6(t){const e=E6(t),s=Un(e.filter(u=>u.box.fullSize),!0),r=Un(Fn(e,"left"),!0),o=Un(Fn(e,"right")),a=Un(Fn(e,"top"),!0),l=Un(Fn(e,"bottom")),n=Y0(e,"x"),c=Y0(e,"y");return{fullSize:s,leftAndTop:r.concat(a),rightAndBottom:o.concat(c).concat(l).concat(n),chartArea:Fn(e,"chartArea"),vertical:r.concat(o).concat(c),horizontal:a.concat(l).concat(n)}}function J0(t,e,s,r){return Math.max(t[s],e[s])+Math.max(t[r],e[r])}function wg(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function D6(t,e,s,r){const{pos:o,box:a}=s,l=t.maxPadding;if(!zt(o)){s.size&&(t[o]-=s.size);const h=r[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,t[o]+=s.size}a.getPadding&&wg(l,a.getPadding());const n=Math.max(0,e.outerWidth-J0(l,t,"left","right")),c=Math.max(0,e.outerHeight-J0(l,t,"top","bottom")),u=n!==t.w,d=c!==t.h;return t.w=n,t.h=c,s.horizontal?{same:u,other:d}:{same:d,other:u}}function L6(t){const e=t.maxPadding;function s(r){const o=Math.max(e[r]-t[r],0);return t[r]+=o,o}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function $6(t,e){const s=e.maxPadding;function r(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(e[l],s[l])}),a}return r(t?["left","right"]:["top","bottom"])}function Qn(t,e,s,r){const o=[];let a,l,n,c,u,d;for(a=0,l=t.length,u=0;a<l;++a){n=t[a],c=n.box,c.update(n.width||e.w,n.height||e.h,$6(n.horizontal,e));const{same:h,other:g}=D6(e,s,n,r);u|=h&&o.length,d=d||g,c.fullSize||o.push(n)}return u&&Qn(o,e,s,r)||d}function al(t,e,s,r,o){t.top=s,t.left=e,t.right=e+r,t.bottom=s+o,t.width=r,t.height=o}function Z0(t,e,s,r){const o=s.padding;let{x:a,y:l}=e;for(const n of t){const c=n.box,u=r[n.stack]||{placed:0,weight:1},d=n.stackWeight/u.weight||1;if(n.horizontal){const h=e.w*d,g=u.size||c.height;Ca(u.start)&&(l=u.start),c.fullSize?al(c,o.left,l,s.outerWidth-o.right-o.left,g):al(c,e.left+u.placed,l,h,g),u.start=l,u.placed+=h,l=c.bottom}else{const h=e.h*d,g=u.size||c.width;Ca(u.start)&&(a=u.start),c.fullSize?al(c,a,o.top,g,s.outerHeight-o.bottom-o.top):al(c,a,e.top+u.placed,g,h),u.start=a,u.placed+=h,a=c.right}}e.x=a,e.y=l}var ji={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,r){if(!t)return;const o=Fi(t.options.layout.padding),a=Math.max(e-o.width,0),l=Math.max(s-o.height,0),n=T6(t.boxes),c=n.vertical,u=n.horizontal;es(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,m)=>m.box.options&&m.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/d,hBoxMaxHeight:l/2}),g=Object.assign({},o);wg(g,Fi(r));const _=Object.assign({maxPadding:g,w:a,h:l,x:o.left,y:o.top},o),w=M6(c.concat(u),h);Qn(n.fullSize,_,h,w),Qn(c,_,h,w),Qn(u,_,h,w)&&Qn(c,_,h,w),L6(_),Z0(n.leftAndTop,_,h,w),_.x+=_.w,_.y+=_.h,Z0(n.rightAndBottom,_,h,w),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},es(n.chartArea,b=>{const m=b.box;Object.assign(m,t.chartArea),m.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class kg{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,r){}removeEventListener(e,s,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,r,o){return s=Math.max(0,s||e.width),r=r||e.height,{width:s,height:Math.max(0,o?Math.floor(s/o):r)}}isAttached(e){return!0}updateConfig(e){}}class R6 extends kg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ml="$chartjs",B6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Q0=t=>t===null||t==="";function P6(t,e){const s=t.style,r=t.getAttribute("height"),o=t.getAttribute("width");if(t[Ml]={initial:{height:r,width:o,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Q0(o)){const a=O0(t,"width");a!==void 0&&(t.width=a)}if(Q0(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=O0(t,"height");a!==void 0&&(t.height=a)}return t}const Sg=NC?{passive:!0}:!1;function O6(t,e,s){t&&t.addEventListener(e,s,Sg)}function I6(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Sg)}function N6(t,e){const s=B6[t.type]||t.type,{x:r,y:o}=Ao(t,e);return{type:s,chart:e,native:t,x:r!==void 0?r:null,y:o!==void 0?o:null}}function Kl(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function j6(t,e,s){const r=t.canvas,o=new MutationObserver(a=>{let l=!1;for(const n of a)l=l||Kl(n.addedNodes,r),l=l&&!Kl(n.removedNodes,r);l&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}function H6(t,e,s){const r=t.canvas,o=new MutationObserver(a=>{let l=!1;for(const n of a)l=l||Kl(n.removedNodes,r),l=l&&!Kl(n.addedNodes,r);l&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ma=new Map;let ef=0;function Cg(){const t=window.devicePixelRatio;t!==ef&&(ef=t,Ma.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function z6(t,e){Ma.size||window.addEventListener("resize",Cg),Ma.set(t,e)}function F6(t){Ma.delete(t),Ma.size||window.removeEventListener("resize",Cg)}function U6(t,e,s){const r=t.canvas,o=r&&Pd(r);if(!o)return;const a=eg((n,c)=>{const u=o.clientWidth;s(n,c),u<o.clientWidth&&s()},window),l=new ResizeObserver(n=>{const c=n[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||a(u,d)});return l.observe(o),z6(t,a),l}function ou(t,e,s){s&&s.disconnect(),e==="resize"&&F6(t)}function V6(t,e,s){const r=t.canvas,o=eg(a=>{t.ctx!==null&&s(N6(a,t))},t);return O6(r,e,o),o}class W6 extends kg{acquireContext(e,s){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(P6(e,s),r):null}releaseContext(e){const s=e.canvas;if(!s[Ml])return!1;const r=s[Ml].initial;["height","width"].forEach(a=>{const l=r[a];Kt(l)?s.removeAttribute(a):s.setAttribute(a,l)});const o=r.style||{};return Object.keys(o).forEach(a=>{s.style[a]=o[a]}),s.width=s.width,delete s[Ml],!0}addEventListener(e,s,r){this.removeEventListener(e,s);const o=e.$proxies||(e.$proxies={}),l={attach:j6,detach:H6,resize:U6}[s]||V6;o[s]=l(e,s,r)}removeEventListener(e,s){const r=e.$proxies||(e.$proxies={}),o=r[s];if(!o)return;({attach:ou,detach:ou,resize:ou}[s]||I6)(e,s,o),r[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,r,o){return IC(e,s,r,o)}isAttached(e){const s=e&&Pd(e);return!!(s&&s.isConnected)}}function q6(t){return!Bd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?R6:W6}var ml;let Ir=(ml=class{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(e){const{x:s,y:r}=this.getProps(["x","y"],e);return{x:s,y:r}}hasValue(){return wn(this.x)&&wn(this.y)}getProps(e,s){const r=this.$animations;if(!s||!r)return this;const o={};return e.forEach(a=>{o[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),o}},ot(ml,"defaults",{}),ot(ml,"defaultRoutes"),ml);function K6(t,e){const s=t.options.ticks,r=G6(t),o=Math.min(s.maxTicksLimit||r,r),a=s.major.enabled?Y6(e):[],l=a.length,n=a[0],c=a[l-1],u=[];if(l>o)return J6(e,u,a,l/o),u;const d=X6(a,e,o);if(l>0){let h,g;const _=l>1?Math.round((c-n)/(l-1)):null;for(ll(e,u,d,Kt(_)?0:n-_,n),h=0,g=l-1;h<g;h++)ll(e,u,d,a[h],a[h+1]);return ll(e,u,d,c,Kt(_)?e.length:c+_),u}return ll(e,u,d),u}function G6(t){const e=t.options.offset,s=t._tickSize(),r=t._length/s+(e?0:1),o=t._maxLength/s;return Math.floor(Math.min(r,o))}function X6(t,e,s){const r=Z6(t),o=e.length/s;if(!r)return Math.max(o,1);const a=NS(r);for(let l=0,n=a.length-1;l<n;l++){const c=a[l];if(c>o)return c}return Math.max(o,1)}function Y6(t){const e=[];let s,r;for(s=0,r=t.length;s<r;s++)t[s].major&&e.push(s);return e}function J6(t,e,s,r){let o=0,a=s[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===a&&(e.push(t[l]),o++,a=s[o*r])}function ll(t,e,s,r,o){const a=Lt(r,0),l=Math.min(Lt(o,t.length),t.length);let n=0,c,u,d;for(s=Math.ceil(s),o&&(c=o-r,s=c/Math.floor(c/s)),d=a;d<0;)n++,d=Math.round(a+n*s);for(u=Math.max(a,0);u<l;u++)u===d&&(e.push(t[u]),n++,d=Math.round(a+n*s))}function Z6(t){const e=t.length;let s,r;if(e<2)return!1;for(r=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==r)return!1;return r}const Q6=t=>t==="left"?"right":t==="right"?"left":t,tf=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,sf=(t,e)=>Math.min(e||t,t);function rf(t,e){const s=[],r=t.length/e,o=t.length;let a=0;for(;a<o;a+=r)s.push(t[Math.floor(a)]);return s}function e8(t,e,s){const r=t.ticks.length,o=Math.min(e,r-1),a=t._startPixel,l=t._endPixel,n=1e-6;let c=t.getPixelForTick(o),u;if(!(s&&(r===1?u=Math.max(c-a,l-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(o-1))/2,c+=o<e?u:-u,c<a-n||c>l+n)))return c}function t8(t,e){es(t,s=>{const r=s.gc,o=r.length/2;let a;if(o>e){for(a=0;a<o;++a)delete s.data[r[a]];r.splice(0,o)}})}function Vn(t){return t.drawTicks?t.tickLength:0}function of(t,e){if(!t.display)return 0;const s=Xs(t.font,e),r=Fi(t.padding);return(Ss(t.text)?t.text.length:1)*s.lineHeight+r.height}function s8(t,e){return Vo(t,{scale:e,type:"scale"})}function i8(t,e,s){return Vo(t,{tick:s,index:e,type:"tick"})}function r8(t,e,s){let r=Md(t);return(s&&e!=="right"||!s&&e==="right")&&(r=Q6(r)),r}function o8(t,e,s,r){const{top:o,left:a,bottom:l,right:n,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,g,_,w;const b=l-o,m=n-a;if(t.isHorizontal()){if(_=Fs(r,a,n),zt(s)){const v=Object.keys(s)[0],p=s[v];w=d[v].getPixelForValue(p)+b-e}else s==="center"?w=(u.bottom+u.top)/2+b-e:w=tf(t,s,e);g=n-a}else{if(zt(s)){const v=Object.keys(s)[0],p=s[v];_=d[v].getPixelForValue(p)-m+e}else s==="center"?_=(u.left+u.right)/2-m+e:_=tf(t,s,e);w=Fs(r,l,o),h=s==="left"?-Os:Os}return{titleX:_,titleY:w,maxWidth:g,rotation:h}}class Mn extends Ir{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:r,_suggestedMax:o}=this;return e=lr(e,Number.POSITIVE_INFINITY),s=lr(s,Number.NEGATIVE_INFINITY),r=lr(r,Number.POSITIVE_INFINITY),o=lr(o,Number.NEGATIVE_INFINITY),{min:lr(e,r),max:lr(s,o),minDefined:Js(e),maxDefined:Js(s)}}getMinMax(e){let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:s,max:r};const n=this.getMatchingVisibleMetas();for(let c=0,u=n.length;c<u;++c)l=n[c].controller.getMinMax(this,e),o||(s=Math.min(s,l.min)),a||(r=Math.max(r,l.max));return s=a&&s>r?r:s,r=o&&s>r?s:r,{min:lr(s,lr(r,s)),max:lr(r,lr(s,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){us(this.options.beforeUpdate,[this])}update(e,s,r){const{beginAtZero:o,grace:a,ticks:l}=this.options,n=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mC(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=n<this.ticks.length;this._convertTicksToLabels(c?rf(this.ticks,n):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=K6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,r;this.isHorizontal()?(s=this.left,r=this.right):(s=this.top,r=this.bottom,e=!e),this._startPixel=s,this._endPixel=r,this._reversePixels=e,this._length=r-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){us(this.options.afterUpdate,[this])}beforeSetDimensions(){us(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){us(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),us(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){us(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let r,o,a;for(r=0,o=e.length;r<o;r++)a=e[r],a.label=us(s.callback,[a.value,r,e],this)}afterTickToLabelConversion(){us(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){us(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,r=sf(this.ticks.length,e.ticks.maxTicksLimit),o=s.minRotation||0,a=s.maxRotation;let l=o,n,c,u;if(!this._isVisible()||!s.display||o>=a||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const d=this._getLabelSizes(),h=d.widest.width,g=d.highest.height,_=Gs(this.chart.width-h,0,this.maxWidth);n=e.offset?this.maxWidth/r:_/(r-1),h+6>n&&(n=_/(r-(e.offset?.5:1)),c=this.maxHeight-Vn(e.grid)-s.padding-of(e.title,this.chart.options.font),u=Math.sqrt(h*h+g*g),l=FS(Math.min(Math.asin(Gs((d.highest.height+6)/n,-1,1)),Math.asin(Gs(c/u,-1,1))-Math.asin(Gs(g/u,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){us(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){us(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:r,title:o,grid:a}}=this,l=this._isVisible(),n=this.isHorizontal();if(l){const c=of(o,s.options.font);if(n?(e.width=this.maxWidth,e.height=Vn(a)+c):(e.height=this.maxHeight,e.width=Vn(a)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:g}=this._getLabelSizes(),_=r.padding*2,w=Ro(this.labelRotation),b=Math.cos(w),m=Math.sin(w);if(n){const v=r.mirror?0:m*h.width+b*g.height;e.height=Math.min(this.maxHeight,e.height+v+_)}else{const v=r.mirror?0:b*h.width+m*g.height;e.width=Math.min(this.maxWidth,e.width+v+_)}this._calculatePadding(u,d,m,b)}}this._handleMargins(),n?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,r,o){const{ticks:{align:a,padding:l},position:n}=this.options,c=this.labelRotation!==0,u=n!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,_=0;c?u?(g=o*e.width,_=r*s.height):(g=r*e.height,_=o*s.width):a==="start"?_=s.width:a==="end"?g=e.width:a!=="inner"&&(g=e.width/2,_=s.width/2),this.paddingLeft=Math.max((g-d+l)*this.width/(this.width-d),0),this.paddingRight=Math.max((_-h+l)*this.width/(this.width-h),0)}else{let d=s.height/2,h=e.height/2;a==="start"?(d=0,h=e.height):a==="end"&&(d=s.height,h=0),this.paddingTop=d+l,this.paddingBottom=h+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){us(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,r;for(s=0,r=e.length;s<r;s++)Kt(e[s].label)&&(e.splice(s,1),r--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let r=this.ticks;s<r.length&&(r=rf(r,s)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,r){const{ctx:o,_longestTextCache:a}=this,l=[],n=[],c=Math.floor(s/sf(s,r));let u=0,d=0,h,g,_,w,b,m,v,p,x,y,E;for(h=0;h<s;h+=c){if(w=e[h].label,b=this._resolveTickFontOptions(h),o.font=m=b.string,v=a[m]=a[m]||{data:{},gc:[]},p=b.lineHeight,x=y=0,!Kt(w)&&!Ss(w))x=L0(o,v.data,v.gc,x,w),y=p;else if(Ss(w))for(g=0,_=w.length;g<_;++g)E=w[g],!Kt(E)&&!Ss(E)&&(x=L0(o,v.data,v.gc,x,E),y+=p);l.push(x),n.push(y),u=Math.max(x,u),d=Math.max(y,d)}t8(a,s);const A=l.indexOf(u),D=n.indexOf(d),S=C=>({width:l[C]||0,height:n[C]||0});return{first:S(0),last:S(s-1),widest:S(A),highest:S(D),widths:l,heights:n}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return VS(this._alignToPixels?So(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const r=s[e];return r.$context||(r.$context=i8(this.getContext(),e,r))}return this.$context||(this.$context=s8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Ro(this.labelRotation),r=Math.abs(Math.cos(s)),o=Math.abs(Math.sin(s)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,n=a?a.widest.width+l:0,c=a?a.highest.height+l:0;return this.isHorizontal()?c*r>n*o?n/r:c/o:c*o<n*r?c/r:n/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,r=this.chart,o=this.options,{grid:a,position:l,border:n}=o,c=a.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),g=Vn(a),_=[],w=n.setContext(this.getContext()),b=w.display?w.width:0,m=b/2,v=function(I){return So(r,I,b)};let p,x,y,E,A,D,S,C,B,L,$,P;if(l==="top")p=v(this.bottom),D=this.bottom-g,C=p-m,L=v(e.top)+m,P=e.bottom;else if(l==="bottom")p=v(this.top),L=e.top,P=v(e.bottom)-m,D=p+m,C=this.top+g;else if(l==="left")p=v(this.right),A=this.right-g,S=p-m,B=v(e.left)+m,$=e.right;else if(l==="right")p=v(this.left),B=e.left,$=v(e.right)-m,A=p+m,S=this.left+g;else if(s==="x"){if(l==="center")p=v((e.top+e.bottom)/2+.5);else if(zt(l)){const I=Object.keys(l)[0],ue=l[I];p=v(this.chart.scales[I].getPixelForValue(ue))}L=e.top,P=e.bottom,D=p+m,C=D+g}else if(s==="y"){if(l==="center")p=v((e.left+e.right)/2);else if(zt(l)){const I=Object.keys(l)[0],ue=l[I];p=v(this.chart.scales[I].getPixelForValue(ue))}A=p-m,S=A-g,B=e.left,$=e.right}const ie=Lt(o.ticks.maxTicksLimit,h),re=Math.max(1,Math.ceil(h/ie));for(x=0;x<h;x+=re){const I=this.getContext(x),ue=a.setContext(I),se=n.setContext(I),R=ue.lineWidth,K=ue.color,G=se.dash||[],U=se.dashOffset,pe=ue.tickWidth,Ae=ue.tickColor,Me=ue.tickBorderDash||[],ye=ue.tickBorderDashOffset;y=e8(this,x,c),y!==void 0&&(E=So(r,y,R),u?A=S=B=$=E:D=C=L=P=E,_.push({tx1:A,ty1:D,tx2:S,ty2:C,x1:B,y1:L,x2:$,y2:P,width:R,color:K,borderDash:G,borderDashOffset:U,tickWidth:pe,tickColor:Ae,tickBorderDash:Me,tickBorderDashOffset:ye}))}return this._ticksLength=h,this._borderValue=p,_}_computeLabelItems(e){const s=this.axis,r=this.options,{position:o,ticks:a}=r,l=this.isHorizontal(),n=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=a,g=Vn(r.grid),_=g+d,w=h?-d:_,b=-Ro(this.labelRotation),m=[];let v,p,x,y,E,A,D,S,C,B,L,$,P="middle";if(o==="top")A=this.bottom-w,D=this._getXAxisLabelAlignment();else if(o==="bottom")A=this.top+w,D=this._getXAxisLabelAlignment();else if(o==="left"){const re=this._getYAxisLabelAlignment(g);D=re.textAlign,E=re.x}else if(o==="right"){const re=this._getYAxisLabelAlignment(g);D=re.textAlign,E=re.x}else if(s==="x"){if(o==="center")A=(e.top+e.bottom)/2+_;else if(zt(o)){const re=Object.keys(o)[0],I=o[re];A=this.chart.scales[re].getPixelForValue(I)+_}D=this._getXAxisLabelAlignment()}else if(s==="y"){if(o==="center")E=(e.left+e.right)/2-_;else if(zt(o)){const re=Object.keys(o)[0],I=o[re];E=this.chart.scales[re].getPixelForValue(I)}D=this._getYAxisLabelAlignment(g).textAlign}s==="y"&&(c==="start"?P="top":c==="end"&&(P="bottom"));const ie=this._getLabelSizes();for(v=0,p=n.length;v<p;++v){x=n[v],y=x.label;const re=a.setContext(this.getContext(v));S=this.getPixelForTick(v)+a.labelOffset,C=this._resolveTickFontOptions(v),B=C.lineHeight,L=Ss(y)?y.length:1;const I=L/2,ue=re.color,se=re.textStrokeColor,R=re.textStrokeWidth;let K=D;l?(E=S,D==="inner"&&(v===p-1?K=this.options.reverse?"left":"right":v===0?K=this.options.reverse?"right":"left":K="center"),o==="top"?u==="near"||b!==0?$=-L*B+B/2:u==="center"?$=-ie.highest.height/2-I*B+B:$=-ie.highest.height+B/2:u==="near"||b!==0?$=B/2:u==="center"?$=ie.highest.height/2-I*B:$=ie.highest.height-L*B,h&&($*=-1),b!==0&&!re.showLabelBackdrop&&(E+=B/2*Math.sin(b))):(A=S,$=(1-L)*B/2);let G;if(re.showLabelBackdrop){const U=Fi(re.backdropPadding),pe=ie.heights[v],Ae=ie.widths[v];let Me=$-U.top,ye=0-U.left;switch(P){case"middle":Me-=pe/2;break;case"bottom":Me-=pe;break}switch(D){case"center":ye-=Ae/2;break;case"right":ye-=Ae;break;case"inner":v===p-1?ye-=Ae:v>0&&(ye-=Ae/2);break}G={left:ye,top:Me,width:Ae+U.width,height:pe+U.height,color:re.backdropColor}}m.push({label:y,font:C,textOffset:$,options:{rotation:b,color:ue,strokeColor:se,strokeWidth:R,textAlign:K,textBaseline:P,translation:[E,A],backdrop:G}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Ro(this.labelRotation))return e==="top"?"left":"right";let o="center";return s.align==="start"?o="left":s.align==="end"?o="right":s.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:r,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),n=e+a,c=l.widest.width;let u,d;return s==="left"?o?(d=this.right+a,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-n,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):s==="right"?o?(d=this.left+a,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+n,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:r,top:o,width:a,height:l}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(r,o,a,l),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?s.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const s=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const n=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(s.display)for(a=0,l=o.length;a<l;++a){const c=o[a];s.drawOnChartArea&&n({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&n({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:r,grid:o}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const n=o.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,g;this.isHorizontal()?(u=So(e,this.left,l)-l/2,d=So(e,this.right,n)+n/2,h=g=c):(h=So(e,this.top,l)-l/2,g=So(e,this.bottom,n)+n/2,u=d=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(u,h),s.lineTo(d,g),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&bc(r,o);const a=this.getLabelItems(e);for(const l of a){const n=l.options,c=l.font,u=l.label,d=l.textOffset;Aa(r,u,0,d,c,n)}o&&xc(r)}drawTitle(){const{ctx:e,options:{position:s,title:r,reverse:o}}=this;if(!r.display)return;const a=Xs(r.font),l=Fi(r.padding),n=r.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||zt(s)?(c+=l.bottom,Ss(r.text)&&(c+=a.lineHeight*(r.text.length-1))):c+=l.top;const{titleX:u,titleY:d,maxWidth:h,rotation:g}=o8(this,c,s,n);Aa(e,r.text,0,0,a,{color:r.color,maxWidth:h,rotation:g,textAlign:r8(n,s,o),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,r=Lt(e.grid&&e.grid.z,-1),o=Lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Mn.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let a,l;for(a=0,l=s.length;a<l;++a){const n=s[a];n[r]===this.id&&(!e||n.type===e)&&o.push(n)}return o}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Xs(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cl{constructor(e,s,r){this.type=e,this.scope=s,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let r;l8(s)&&(r=this.register(s));const o=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,n8(e,l,r),this.override&&xs.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const s=this.items,r=e.id,o=this.scope;r in s&&delete s[r],o&&r in xs[o]&&(delete xs[o][r],this.override&&delete Uo[r])}}function n8(t,e,s){const r=Sa(Object.create(null),[s?xs.get(s):{},xs.get(e),t.defaults]);xs.set(e,r),t.defaultRoutes&&a8(e,t.defaultRoutes),t.descriptors&&xs.describe(e,t.descriptors)}function a8(t,e){Object.keys(e).forEach(s=>{const r=s.split("."),o=r.pop(),a=[t].concat(r).join("."),l=e[s].split("."),n=l.pop(),c=l.join(".");xs.route(a,o,c,n)})}function l8(t){return"id"in t&&"defaults"in t}class c8{constructor(){this.controllers=new cl(jo,"datasets",!0),this.elements=new cl(Ir,"elements"),this.plugins=new cl(Object,"plugins"),this.scales=new cl(Mn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,r){[...s].forEach(o=>{const a=r||this._getRegistryForType(o);r||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):es(o,l=>{const n=r||this._getRegistryForType(l);this._exec(e,n,l)})})}_exec(e,s,r){const o=Cd(e);us(r["before"+o],[],r),s[e](r),us(r["after"+o],[],r)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const r=this._typedRegistries[s];if(r.isForType(e))return r}return this.plugins}_get(e,s,r){const o=s.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var fr=new c8;class u8{constructor(){this._init=void 0}notify(e,s,r,o){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(a,e,s,r);return s==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,s,r,o){o=o||{};for(const a of e){const l=a.plugin,n=l[r],c=[s,o,a.options];if(us(n,c,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const r=e&&e.config,o=Lt(r.options&&r.options.plugins,{}),a=d8(r);return o===!1&&!s?[]:f8(e,a,o,s)}_notifyStateChanges(e){const s=this._oldCache||[],r=this._cache,o=(a,l)=>a.filter(n=>!l.some(c=>n.plugin.id===c.plugin.id));this._notify(o(s,r),e,"stop"),this._notify(o(r,s),e,"start")}}function d8(t){const e={},s=[],r=Object.keys(fr.plugins.items);for(let a=0;a<r.length;a++)s.push(fr.getPlugin(r[a]));const o=t.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];s.indexOf(l)===-1&&(s.push(l),e[l.id]=!0)}return{plugins:s,localIds:e}}function h8(t,e){return!e&&t===!1?null:t===!0?{}:t}function f8(t,{plugins:e,localIds:s},r,o){const a=[],l=t.getContext();for(const n of e){const c=n.id,u=h8(r[c],o);u!==null&&a.push({plugin:n,options:p8(t.config,{plugin:n,local:s[c]},u,l)})}return a}function p8(t,{plugin:e,local:s},r,o){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(r,a);return s&&e.defaults&&l.push(e.defaults),t.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hu(t,e){const s=xs.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function m8(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function g8(t,e){return t===e?"_index_":"_value_"}function nf(t){if(t==="x"||t==="y"||t==="r")return t}function v8(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function zu(t,...e){if(nf(t))return t;for(const s of e){const r=s.axis||v8(s.position)||t.length>1&&nf(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function af(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function b8(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(s.length)return af(t,"x",s[0])||af(t,"y",s[0])}return{}}function x8(t,e){const s=Uo[t.type]||{scales:{}},r=e.scales||{},o=Hu(t.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const n=r[l];if(!zt(n))return console.error(`Invalid scale configuration for scale: ${l}`);if(n._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=zu(l,n,b8(l,t),xs.scales[n.type]),u=g8(c,o),d=s.scales||{};a[l]=ua(Object.create(null),[{axis:c},n,d[c],d[u]])}),t.data.datasets.forEach(l=>{const n=l.type||t.type,c=l.indexAxis||Hu(n,e),d=(Uo[n]||{}).scales||{};Object.keys(d).forEach(h=>{const g=m8(h,c),_=l[g+"AxisID"]||g;a[_]=a[_]||Object.create(null),ua(a[_],[{axis:g},r[_],d[h]])})}),Object.keys(a).forEach(l=>{const n=a[l];ua(n,[xs.scales[n.type],xs.scale])}),a}function Eg(t){const e=t.options||(t.options={});e.plugins=Lt(e.plugins,{}),e.scales=x8(t,e)}function Ag(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function _8(t){return t=t||{},t.data=Ag(t.data),Eg(t),t}const lf=new Map,Mg=new Set;function ul(t,e){let s=lf.get(t);return s||(s=e(),lf.set(t,s),Mg.add(s)),s}const Wn=(t,e,s)=>{const r=yn(e,s);r!==void 0&&t.add(r)};class y8{constructor(e){this._config=_8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ag(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Eg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ul(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return ul(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return ul(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,r=this.type;return ul(`${r}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const r=this._scopeCache;let o=r.get(e);return(!o||s)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,s,r){const{options:o,type:a}=this,l=this._cachedScopes(e,r),n=l.get(s);if(n)return n;const c=new Set;s.forEach(d=>{e&&(c.add(e),d.forEach(h=>Wn(c,e,h))),d.forEach(h=>Wn(c,o,h)),d.forEach(h=>Wn(c,Uo[a]||{},h)),d.forEach(h=>Wn(c,xs,h)),d.forEach(h=>Wn(c,Nu,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Mg.has(s)&&l.set(s,u),u}chartOptionScopes(){const{options:e,type:s}=this;return[e,Uo[s]||{},xs.datasets[s]||{},{type:s},xs,Nu]}resolveNamedOptions(e,s,r,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:n}=cf(this._resolverCache,e,o);let c=l;if(k8(l,s)){a.$shared=!1,r=lo(r)?r():r;const u=this.createResolver(e,r,n);c=kn(l,r,u)}for(const u of s)a[u]=c[u];return a}createResolver(e,s,r=[""],o){const{resolver:a}=cf(this._resolverCache,e,r);return zt(s)?kn(a,s,void 0,o):a}}function cf(t,e,s){let r=t.get(e);r||(r=new Map,t.set(e,r));const o=s.join();let a=r.get(o);return a||(a={resolver:Ld(e,s),subPrefixes:s.filter(n=>!n.toLowerCase().includes("hover"))},r.set(o,a)),a}const w8=t=>zt(t)&&Object.getOwnPropertyNames(t).some(e=>lo(t[e]));function k8(t,e){const{isScriptable:s,isIndexable:r}=ag(t);for(const o of e){const a=s(o),l=r(o),n=(l||a)&&t[o];if(a&&(lo(n)||w8(n))||l&&Ss(n))return!0}return!1}var S8="4.5.1";const C8=["top","bottom","left","right","chartArea"];function uf(t,e){return t==="top"||t==="bottom"||C8.indexOf(t)===-1&&e==="x"}function df(t,e){return function(s,r){return s[t]===r[t]?s[e]-r[e]:s[t]-r[t]}}function hf(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),us(s&&s.onComplete,[t],e)}function E8(t){const e=t.chart,s=e.options.animation;us(s&&s.onProgress,[t],e)}function Tg(t){return Bd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Tl={},ff=t=>{const e=Tg(t);return Object.values(Tl).filter(s=>s.canvas===e).pop()};function A8(t,e,s){const r=Object.keys(t);for(const o of r){const a=+o;if(a>=e){const l=t[o];delete t[o],(s>0||a>e)&&(t[a+s]=l)}}}function M8(t,e,s,r){return!s||t.type==="mouseout"?null:r?e:t}class bi{static register(...e){fr.add(...e),pf()}static unregister(...e){fr.remove(...e),pf()}constructor(e,s){const r=this.config=new y8(s),o=Tg(e),a=ff(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||q6(o)),this.platform.updateConfig(r);const n=this.platform.acquireContext(o,l.aspectRatio),c=n&&n.canvas,u=c&&c.height,d=c&&c.width;if(this.id=TS(),this.ctx=n,this.canvas=c,this.width=d,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new u8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GS(h=>this.update(h),l.resizeDelay||0),this._dataChanges=[],Tl[this.id]=this,!n||!c){console.error("Failed to create chart: can't acquire context from the given item");return}kr.listen(this,"complete",hf),kr.listen(this,"progress",E8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:r,height:o,_aspectRatio:a}=this;return Kt(e)?s&&a?a:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():P0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $0(this.canvas,this.ctx),this}stop(){return kr.stop(this),this}resize(e,s){kr.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,s,a),n=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,P0(this,n,!0)&&(this.notifyPlugins("resize",{size:l}),us(r.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};es(s,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,s=e.scales,r=this.scales,o=Object.keys(r).reduce((l,n)=>(l[n]=!1,l),{});let a=[];s&&(a=a.concat(Object.keys(s).map(l=>{const n=s[l],c=zu(l,n),u=c==="r",d=c==="x";return{options:n,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),es(a,l=>{const n=l.options,c=n.id,u=zu(c,n),d=Lt(n.type,l.dtype);(n.position===void 0||uf(n.position,u)!==uf(l.dposition))&&(n.position=l.dposition),o[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{const g=fr.getScale(d);h=new g({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(n,e)}),es(o,(l,n)=>{l||delete r[n]}),es(r,l=>{ji.configure(this,l,l.options),ji.addBox(this,l)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,r=e.length;if(e.sort((o,a)=>o.index-a.index),r>s){for(let o=s;o<r;++o)this._destroyDatasetMeta(o);e.splice(s,r-s)}this._sortedMetasets=e.slice(0).sort(df("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((r,o)=>{s.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=s.length;r<o;r++){const a=s[r];let l=this.getDatasetMeta(r);const n=a.type||this.config.type;if(l.type&&l.type!==n&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=n,l.indexAxis=a.indexAxis||Hu(n,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const c=fr.getController(n),{datasetElementType:u,dataElementType:d}=xs.datasets[n];Object.assign(c,{dataElementType:fr.getElement(d),datasetElementType:u&&fr.getElement(u)}),l.controller=new c(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){es(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const r=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),g=!o&&a.indexOf(h)===-1;h.buildOrUpdateElements(g),l=Math.max(+h.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),o||es(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(df("z","_idx"));const{_active:n,_lastEvent:c}=this;c?this._eventHandler(c,!0):n.length&&this._updateHoverStyles(n,n,!0),this.render()}_updateScales(){es(this.scales,e=>{ji.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!w0(s,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:a}of s){const l=r==="_removeElements"?-a:a;A8(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,n)=>n+","+l.splice(1).join(","))),o=r(0);for(let a=1;a<s;a++)if(!w0(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ji.update(this,this.width,this.height,e);const s=this.chartArea,r=s.width<=0||s.height<=0;this._layers=[],es(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,r=this.data.datasets.length;s<r;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,r=this.data.datasets.length;s<r;++s)this._updateDataset(s,lo(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(s),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(kr.has(this)?this.attached&&!kr.running(this)&&kr.start(this):(this.draw(),hf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,r=[];let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=vg(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&bc(s,o),e.controller.draw(),o&&xc(s),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,r,o){const a=C6.modes[s];return typeof a=="function"?a(this,e,r,o):[]}getDatasetMeta(e){const s=this.data.datasets[e],r=this._metasets;let o=r.filter(a=>a&&a._dataset===s).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Vo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!s.hidden}setDatasetVisibility(e,s){const r=this.getDatasetMeta(e);r.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,r){const o=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,o);Ca(s)?(a.data[s].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(n=>n.datasetIndex===e?o:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),kr.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$0(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Tl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,r=(a,l)=>{s.addEventListener(this,a,l),e[a]=l},o=(a,l,n)=>{a.offsetX=l,a.offsetY=n,this._eventHandler(a)};es(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,r=(c,u)=>{s.addEventListener(this,c,u),e[c]=u},o=(c,u)=>{e[c]&&(s.removeEventListener(this,c,u),delete e[c])},a=(c,u)=>{this.canvas&&this.resize(c,u)};let l;const n=()=>{o("attach",n),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",n)},s.isAttached(this.canvas)?n():l()}unbindEvents(){es(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},es(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,r){const o=r?"set":"remove";let a,l,n,c;for(s==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),n=0,c=e.length;n<c;++n){l=e[n];const u=l&&this.getDatasetMeta(l.datasetIndex).controller;u&&u[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const n=this.getDatasetMeta(a);if(!n)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:n.data[l],index:l}});!Fl(r,s)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,s))}notifyPlugins(e,s,r){return this._plugins.notify(this,e,s,r)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,r){const o=this.options.hover,a=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),l=a(s,e),n=r?e:a(e,s);l.length&&this.updateHoverStyle(l,o.mode,!1),n.length&&o.mode&&this.updateHoverStyle(n,o.mode,!0)}_eventHandler(e,s){const r={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const a=this._handleEvent(e,s,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(e,s,r){const{_active:o=[],options:a}=this,l=s,n=this._getActiveElements(e,o,r,l),c=PS(e),u=M8(e,this._lastEvent,r,c);r&&(this._lastEvent=null,us(a.onHover,[e,n,this],this),c&&us(a.onClick,[e,n,this],this));const d=!Fl(n,o);return(d||s)&&(this._active=n,this._updateHoverStyles(n,o,s)),this._lastEvent=u,d}_getActiveElements(e,s,r,o){if(e.type==="mouseout")return[];if(!r)return s;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}}ot(bi,"defaults",xs),ot(bi,"instances",Tl),ot(bi,"overrides",Uo),ot(bi,"registry",fr),ot(bi,"version",S8),ot(bi,"getChart",ff);function pf(){return es(bi.instances,t=>t._plugins.invalidate())}function T8(t,e,s){const{startAngle:r,x:o,y:a,outerRadius:l,innerRadius:n,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/l,Ci(r-s));if(t.beginPath(),t.arc(o,a,l-u/2,r+h/2,s-h/2),n>0){const g=Math.min(u/n,Ci(r-s));t.arc(o,a,n+u/2,s-g/2,r+g/2,!0)}else{const g=Math.min(u/2,l*Ci(r-s));if(d==="round")t.arc(o,a,g,s-os/2,r+os/2,!0);else if(d==="bevel"){const _=2*g*g,w=-_*Math.cos(s+os/2)+o,b=-_*Math.sin(s+os/2)+a,m=_*Math.cos(r+os/2)+o,v=_*Math.sin(r+os/2)+a;t.lineTo(w,b),t.lineTo(m,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function D8(t,e,s){const{startAngle:r,pixelMargin:o,x:a,y:l,outerRadius:n,innerRadius:c}=e;let u=o/n;t.beginPath(),t.arc(a,l,n,r-u,s+u),c>o?(u=o/c,t.arc(a,l,c,s+u,r-u,!0)):t.arc(a,l,o,s+Os,r-Os),t.closePath(),t.clip()}function L8(t){return Dd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function $8(t,e,s,r){const o=L8(t.options.borderRadius),a=(s-e)/2,l=Math.min(a,r*e/2),n=c=>{const u=(s-Math.min(a,c))*r/2;return Gs(c,0,Math.min(a,u))};return{outerStart:n(o.outerStart),outerEnd:n(o.outerEnd),innerStart:Gs(o.innerStart,0,l),innerEnd:Gs(o.innerEnd,0,l)}}function en(t,e,s,r){return{x:s+t*Math.cos(e),y:r+t*Math.sin(e)}}function Gl(t,e,s,r,o,a){const{x:l,y:n,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+r+s-u,0),g=d>0?d+r+s+u:0;let _=0;const w=o-c;if(r){const re=d>0?d-r:0,I=h>0?h-r:0,ue=(re+I)/2,se=ue!==0?w*ue/(ue+r):w;_=(w-se)/2}const b=Math.max(.001,w*h-s/os)/h,m=(w-b)/2,v=c+m+_,p=o-m-_,{outerStart:x,outerEnd:y,innerStart:E,innerEnd:A}=$8(e,g,h,p-v),D=h-x,S=h-y,C=v+x/D,B=p-y/S,L=g+E,$=g+A,P=v+E/L,ie=p-A/$;if(t.beginPath(),a){const re=(C+B)/2;if(t.arc(l,n,h,C,re),t.arc(l,n,h,re,B),y>0){const R=en(S,B,l,n);t.arc(R.x,R.y,y,B,p+Os)}const I=en($,p,l,n);if(t.lineTo(I.x,I.y),A>0){const R=en($,ie,l,n);t.arc(R.x,R.y,A,p+Os,ie+Math.PI)}const ue=(p-A/g+(v+E/g))/2;if(t.arc(l,n,g,p-A/g,ue,!0),t.arc(l,n,g,ue,v+E/g,!0),E>0){const R=en(L,P,l,n);t.arc(R.x,R.y,E,P+Math.PI,v-Os)}const se=en(D,v,l,n);if(t.lineTo(se.x,se.y),x>0){const R=en(D,C,l,n);t.arc(R.x,R.y,x,v-Os,C)}}else{t.moveTo(l,n);const re=Math.cos(C)*h+l,I=Math.sin(C)*h+n;t.lineTo(re,I);const ue=Math.cos(B)*h+l,se=Math.sin(B)*h+n;t.lineTo(ue,se)}t.closePath()}function R8(t,e,s,r,o){const{fullCircles:a,startAngle:l,circumference:n}=e;let c=e.endAngle;if(a){Gl(t,e,s,r,c,o);for(let u=0;u<a;++u)t.fill();isNaN(n)||(c=l+(n%Ls||Ls))}return Gl(t,e,s,r,c,o),t.fill(),c}function B8(t,e,s,r,o){const{fullCircles:a,startAngle:l,circumference:n,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:g,borderRadius:_}=c,w=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=g,w?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let b=e.endAngle;if(a){Gl(t,e,s,r,b,o);for(let m=0;m<a;++m)t.stroke();isNaN(n)||(b=l+(n%Ls||Ls))}w&&D8(t,e,b),c.selfJoin&&b-l>=os&&_===0&&d!=="miter"&&T8(t,e,b),a||(Gl(t,e,s,r,b,o),t.stroke())}class ea extends Ir{constructor(s){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,r,o){const a=this.getProps(["x","y"],o),{angle:l,distance:n}=Ym(a,{x:s,y:r}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),_=(this.options.spacing+this.options.borderWidth)/2,w=Lt(g,u-c),b=Ed(l,c,u)&&c!==u,m=w>=Ls||b,v=Lr(n,d+_,h+_);return m&&v}getCenterPoint(s){const{x:r,y:o,startAngle:a,endAngle:l,innerRadius:n,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:u,spacing:d}=this.options,h=(a+l)/2,g=(n+c+d+u)/2;return{x:r+Math.cos(h)*g,y:o+Math.sin(h)*g}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:r,circumference:o}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,n=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>Ls?Math.floor(o/Ls):0,o===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const u=1-Math.sin(Math.min(os,o||0)),d=a*u;s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,R8(s,this,d,l,n),B8(s,this,d,l,n),s.restore()}}ot(ea,"id","arc"),ot(ea,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ot(ea,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(ea,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Dg(t,e,s=e){t.lineCap=Lt(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Lt(s.borderDash,e.borderDash)),t.lineDashOffset=Lt(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Lt(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Lt(s.borderWidth,e.borderWidth),t.strokeStyle=Lt(s.borderColor,e.borderColor)}function P8(t,e,s){t.lineTo(s.x,s.y)}function O8(t){return t.stepped?nC:t.tension||t.cubicInterpolationMode==="monotone"?aC:P8}function Lg(t,e,s={}){const r=t.length,{start:o=0,end:a=r-1}=s,{start:l,end:n}=e,c=Math.max(o,l),u=Math.min(a,n),d=o<l&&a<l||o>n&&a>n;return{count:r,start:c,loop:e.loop,ilen:u<c&&!d?r+u-c:u-c}}function I8(t,e,s,r){const{points:o,options:a}=e,{count:l,start:n,loop:c,ilen:u}=Lg(o,s,r),d=O8(a);let{move:h=!0,reverse:g}=r||{},_,w,b;for(_=0;_<=u;++_)w=o[(n+(g?u-_:_))%l],!w.skip&&(h?(t.moveTo(w.x,w.y),h=!1):d(t,b,w,g,a.stepped),b=w);return c&&(w=o[(n+(g?u:0))%l],d(t,b,w,g,a.stepped)),!!c}function N8(t,e,s,r){const o=e.points,{count:a,start:l,ilen:n}=Lg(o,s,r),{move:c=!0,reverse:u}=r||{};let d=0,h=0,g,_,w,b,m,v;const p=y=>(l+(u?n-y:y))%a,x=()=>{b!==m&&(t.lineTo(d,m),t.lineTo(d,b),t.lineTo(d,v))};for(c&&(_=o[p(0)],t.moveTo(_.x,_.y)),g=0;g<=n;++g){if(_=o[p(g)],_.skip)continue;const y=_.x,E=_.y,A=y|0;A===w?(E<b?b=E:E>m&&(m=E),d=(h*d+y)/++h):(x(),t.lineTo(y,E),w=A,h=0,b=m=E),v=E}x()}function Fu(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?N8:I8}function j8(t){return t.stepped?jC:t.tension||t.cubicInterpolationMode==="monotone"?HC:Mo}function H8(t,e,s,r){let o=e._path;o||(o=e._path=new Path2D,e.path(o,s,r)&&o.closePath()),Dg(t,e.options),t.stroke(o)}function z8(t,e,s,r){const{segments:o,options:a}=e,l=Fu(e);for(const n of o)Dg(t,a,n.style),t.beginPath(),l(t,e,n,{start:s,end:s+r-1})&&t.closePath(),t.stroke()}const F8=typeof Path2D=="function";function U8(t,e,s,r){F8&&!e.options.segment?H8(t,e,s,r):z8(t,e,s,r)}class to extends Ir{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;LC(this._points,r,e,o,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=qC(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,r=e.length;return r&&s[e[r-1].end]}interpolate(e,s){const r=this.options,o=e[s],a=this.points,l=gg(this,{property:s,start:o,end:o});if(!l.length)return;const n=[],c=j8(r);let u,d;for(u=0,d=l.length;u<d;++u){const{start:h,end:g}=l[u],_=a[h],w=a[g];if(_===w){n.push(_);continue}const b=Math.abs((o-_[s])/(w[s]-_[s])),m=c(_,w,b,r.stepped);m[s]=e[s],n.push(m)}return n.length===1?n[0]:n}pathSegment(e,s,r){return Fu(this)(e,this,s,r)}path(e,s,r){const o=this.segments,a=Fu(this);let l=this._loop;s=s||0,r=r||this.points.length-s;for(const n of o)l&=a(e,this,n,{start:s,end:s+r-1});return!!l}draw(e,s,r,o){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),U8(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ot(to,"id","line"),ot(to,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ot(to,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ot(to,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function mf(t,e,s,r){const o=t.options,{[s]:a}=t.getProps([s],r);return Math.abs(e-a)<o.radius+o.hitRadius}class Dl extends Ir{constructor(s){super();ot(this,"parsed");ot(this,"skip");ot(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,r,o){const a=this.options,{x:l,y:n}=this.getProps(["x","y"],o);return Math.pow(s-l,2)+Math.pow(r-n,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,r){return mf(this,s,"x",r)}inYRange(s,r){return mf(this,s,"y",r)}getCenterPoint(s){const{x:r,y:o}=this.getProps(["x","y"],s);return{x:r,y:o}}size(s){s=s||this.options||{};let r=s.radius||0;r=Math.max(r,r&&s.hoverRadius||0);const o=r&&s.borderWidth||0;return(r+o)*2}draw(s,r){const o=this.options;this.skip||o.radius<.1||!Ea(this,r,this.size(o)/2)||(s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.fillStyle=o.backgroundColor,ju(s,o,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}ot(Dl,"id","point"),ot(Dl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ot(Dl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $g(t,e){const{x:s,y:r,base:o,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let n,c,u,d,h;return t.horizontal?(h=l/2,n=Math.min(s,o),c=Math.max(s,o),u=r-h,d=r+h):(h=a/2,n=s-h,c=s+h,u=Math.min(r,o),d=Math.max(r,o)),{left:n,top:u,right:c,bottom:d}}function so(t,e,s,r){return t?0:Gs(e,s,r)}function V8(t,e,s){const r=t.options.borderWidth,o=t.borderSkipped,a=ng(r);return{t:so(o.top,a.top,0,s),r:so(o.right,a.right,0,e),b:so(o.bottom,a.bottom,0,s),l:so(o.left,a.left,0,e)}}function W8(t,e,s){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,a=fn(o),l=Math.min(e,s),n=t.borderSkipped,c=r||zt(o);return{topLeft:so(!c||n.top||n.left,a.topLeft,0,l),topRight:so(!c||n.top||n.right,a.topRight,0,l),bottomLeft:so(!c||n.bottom||n.left,a.bottomLeft,0,l),bottomRight:so(!c||n.bottom||n.right,a.bottomRight,0,l)}}function q8(t){const e=$g(t),s=e.right-e.left,r=e.bottom-e.top,o=V8(t,s/2,r/2),a=W8(t,s/2,r/2);return{outer:{x:e.left,y:e.top,w:s,h:r,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:s-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function nu(t,e,s,r){const o=e===null,a=s===null,n=t&&!(o&&a)&&$g(t,r);return n&&(o||Lr(e,n.left,n.right))&&(a||Lr(s,n.top,n.bottom))}function K8(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function G8(t,e){t.rect(e.x,e.y,e.w,e.h)}function au(t,e,s={}){const r=t.x!==s.x?-e:0,o=t.y!==s.y?-e:0,a=(t.x+t.w!==s.x+s.w?e:0)-r,l=(t.y+t.h!==s.y+s.h?e:0)-o;return{x:t.x+r,y:t.y+o,w:t.w+a,h:t.h+l,radius:t.radius}}class Ll extends Ir{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:r,backgroundColor:o}}=this,{inner:a,outer:l}=q8(this),n=K8(l.radius)?Wl:G8;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),n(e,au(l,s,a)),e.clip(),n(e,au(a,-s,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),n(e,au(a,s)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,s,r){return nu(this,e,s,r)}inXRange(e,s){return nu(this,e,null,s)}inYRange(e,s){return nu(this,null,e,s)}getCenterPoint(e){const{x:s,y:r,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(s+o)/2:s,y:a?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ot(Ll,"id","bar"),ot(Ll,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(Ll,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function X8(t,e,s){const r=t.segments,o=t.points,a=e.points,l=[];for(const n of r){let{start:c,end:u}=n;u=wc(c,u,o);const d=Uu(s,o[c],o[u],n.loop);if(!e.segments){l.push({source:n,target:d,start:o[c],end:o[u]});continue}const h=gg(e,d);for(const g of h){const _=Uu(s,a[g.start],a[g.end],g.loop),w=mg(n,o,_);for(const b of w)l.push({source:b,target:g,start:{[s]:gf(d,_,"start",Math.max)},end:{[s]:gf(d,_,"end",Math.min)}})}}return l}function Uu(t,e,s,r){if(r)return;let o=e[t],a=s[t];return t==="angle"&&(o=Ci(o),a=Ci(a)),{property:t,start:o,end:a}}function Y8(t,e){const{x:s=null,y:r=null}=t||{},o=e.points,a=[];return e.segments.forEach(({start:l,end:n})=>{n=wc(l,n,o);const c=o[l],u=o[n];r!==null?(a.push({x:c.x,y:r}),a.push({x:u.x,y:r})):s!==null&&(a.push({x:s,y:c.y}),a.push({x:s,y:u.y}))}),a}function wc(t,e,s){for(;e>t;e--){const r=s[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function gf(t,e,s,r){return t&&e?r(t[s],e[s]):t?t[s]:e?e[s]:0}function Rg(t,e){let s=[],r=!1;return Ss(t)?(r=!0,s=t):s=Y8(t,e),s.length?new to({points:s,options:{tension:0},_loop:r,_fullLoop:r}):null}function vf(t){return t&&t.fill!==!1}function J8(t,e,s){let o=t[e].fill;const a=[e];let l;if(!s)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!Js(o))return o;if(l=t[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function Z8(t,e,s){const r=s7(t);if(zt(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return Js(o)&&Math.floor(o)===o?Q8(r[0],e,o,s):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Q8(t,e,s,r){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=r?!1:s}function e7(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:zt(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function t7(t,e,s){let r;return t==="start"?r=s:t==="end"?r=e.options.reverse?e.min:e.max:zt(t)?r=t.value:r=e.getBaseValue(),r}function s7(t){const e=t.options,s=e.fill;let r=Lt(s&&s.target,s);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function i7(t){const{scale:e,index:s,line:r}=t,o=[],a=r.segments,l=r.points,n=r7(e,s);n.push(Rg({x:null,y:e.bottom},r));for(let c=0;c<a.length;c++){const u=a[c];for(let d=u.start;d<=u.end;d++)o7(o,l[d],n)}return new to({points:o,options:{}})}function r7(t,e){const s=[],r=t.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const a=r[o];if(a.index===e)break;a.hidden||s.unshift(a.dataset)}return s}function o7(t,e,s){const r=[];for(let o=0;o<s.length;o++){const a=s[o],{first:l,last:n,point:c}=n7(a,e,"x");if(!(!c||l&&n)){if(l)r.unshift(c);else if(t.push(c),!n)break}}t.push(...r)}function n7(t,e,s){const r=t.interpolate(e,s);if(!r)return{};const o=r[s],a=t.segments,l=t.points;let n=!1,c=!1;for(let u=0;u<a.length;u++){const d=a[u],h=l[d.start][s],g=l[d.end][s];if(Lr(o,h,g)){n=o===h,c=o===g;break}}return{first:n,last:c,point:r}}class Bg{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,r){const{x:o,y:a,radius:l}=this;return s=s||{start:0,end:Ls},e.arc(o,a,l,s.end,s.start,!0),!r.bounds}interpolate(e){const{x:s,y:r,radius:o}=this,a=e.angle;return{x:s+Math.cos(a)*o,y:r+Math.sin(a)*o,angle:a}}}function a7(t){const{chart:e,fill:s,line:r}=t;if(Js(s))return l7(e,s);if(s==="stack")return i7(t);if(s==="shape")return!0;const o=c7(t);return o instanceof Bg?o:Rg(o,r)}function l7(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function c7(t){return(t.scale||{}).getPointPositionForValue?d7(t):u7(t)}function u7(t){const{scale:e={},fill:s}=t,r=e7(s,e);if(Js(r)){const o=e.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function d7(t){const{scale:e,fill:s}=t,r=e.options,o=e.getLabels().length,a=r.reverse?e.max:e.min,l=t7(s,e,a),n=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,a);return new Bg({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(l)})}for(let c=0;c<o;++c)n.push(e.getPointPositionForValue(c,l));return n}function lu(t,e,s){const r=a7(e),{chart:o,index:a,line:l,scale:n,axis:c}=e,u=l.options,d=u.fill,h=u.backgroundColor,{above:g=h,below:_=h}=d||{},w=o.getDatasetMeta(a),b=vg(o,w);r&&l.points.length&&(bc(t,s),h7(t,{line:l,target:r,above:g,below:_,area:s,scale:n,axis:c,clip:b}),xc(t))}function h7(t,e){const{line:s,target:r,above:o,below:a,area:l,scale:n,clip:c}=e,u=s._loop?"angle":e.axis;t.save();let d=a;a!==o&&(u==="x"?(bf(t,r,l.top),cu(t,{line:s,target:r,color:o,scale:n,property:u,clip:c}),t.restore(),t.save(),bf(t,r,l.bottom)):u==="y"&&(xf(t,r,l.left),cu(t,{line:s,target:r,color:a,scale:n,property:u,clip:c}),t.restore(),t.save(),xf(t,r,l.right),d=o)),cu(t,{line:s,target:r,color:d,scale:n,property:u,clip:c}),t.restore()}function bf(t,e,s){const{segments:r,points:o}=e;let a=!0,l=!1;t.beginPath();for(const n of r){const{start:c,end:u}=n,d=o[c],h=o[wc(c,u,o)];a?(t.moveTo(d.x,d.y),a=!1):(t.lineTo(d.x,s),t.lineTo(d.x,d.y)),l=!!e.pathSegment(t,n,{move:l}),l?t.closePath():t.lineTo(h.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function xf(t,e,s){const{segments:r,points:o}=e;let a=!0,l=!1;t.beginPath();for(const n of r){const{start:c,end:u}=n,d=o[c],h=o[wc(c,u,o)];a?(t.moveTo(d.x,d.y),a=!1):(t.lineTo(s,d.y),t.lineTo(d.x,d.y)),l=!!e.pathSegment(t,n,{move:l}),l?t.closePath():t.lineTo(s,h.y)}t.lineTo(s,e.first().y),t.closePath(),t.clip()}function cu(t,e){const{line:s,target:r,property:o,color:a,scale:l,clip:n}=e,c=X8(s,r,o);for(const{source:u,target:d,start:h,end:g}of c){const{style:{backgroundColor:_=a}={}}=u,w=r!==!0;t.save(),t.fillStyle=_,f7(t,l,n,w&&Uu(o,h,g)),t.beginPath();const b=!!s.pathSegment(t,u);let m;if(w){b?t.closePath():_f(t,r,g,o);const v=!!r.pathSegment(t,d,{move:b,reverse:!0});m=b&&v,m||_f(t,r,h,o)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function f7(t,e,s,r){const o=e.chart.chartArea,{property:a,start:l,end:n}=r||{};if(a==="x"||a==="y"){let c,u,d,h;a==="x"?(c=l,u=o.top,d=n,h=o.bottom):(c=o.left,u=l,d=o.right,h=n),t.beginPath(),s&&(c=Math.max(c,s.left),d=Math.min(d,s.right),u=Math.max(u,s.top),h=Math.min(h,s.bottom)),t.rect(c,u,d-c,h-u),t.clip()}}function _f(t,e,s,r){const o=e.interpolate(s,r);o&&t.lineTo(o.x,o.y)}var p7={id:"filler",afterDatasetsUpdate(t,e,s){const r=(t.data.datasets||[]).length,o=[];let a,l,n,c;for(l=0;l<r;++l)a=t.getDatasetMeta(l),n=a.dataset,c=null,n&&n.options&&n instanceof to&&(c={visible:t.isDatasetVisible(l),index:l,fill:Z8(n,l,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:n}),a.$filler=c,o.push(c);for(l=0;l<r;++l)c=o[l],!(!c||c.fill===!1)&&(c.fill=J8(o,l,s.propagate))},beforeDraw(t,e,s){const r=s.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=o.length-1;l>=0;--l){const n=o[l].$filler;n&&(n.line.updateControlPoints(a,n.axis),r&&n.fill&&lu(t.ctx,n,a))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;vf(a)&&lu(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,s){const r=e.meta.$filler;!vf(r)||s.drawTime!=="beforeDatasetDraw"||lu(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yf=(t,e)=>{let{boxHeight:s=e,boxWidth:r=e}=t;return t.usePointStyle&&(s=Math.min(s,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:s,itemHeight:Math.max(e,s)}},m7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class wf extends Ir{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,r){this.maxWidth=e,this.maxHeight=s,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=us(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(r=>e.filter(r,this.chart.data))),e.sort&&(s=s.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=Xs(r.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:n,itemHeight:c}=yf(r,a);let u,d;s.font=o.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(l,a,n,c)+10):(d=this.maxHeight,u=this._fitCols(l,o,n,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,s,r,o){const{ctx:a,maxWidth:l,options:{labels:{padding:n}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=o+n;let h=e;a.textAlign="left",a.textBaseline="middle";let g=-1,_=-d;return this.legendItems.forEach((w,b)=>{const m=r+s/2+a.measureText(w.text).width;(b===0||u[u.length-1]+m+2*n>l)&&(h+=d,u[u.length-(b>0?0:1)]=0,_+=d,g++),c[b]={left:0,top:_,row:g,width:m,height:o},u[u.length-1]+=m+n}),h}_fitCols(e,s,r,o){const{ctx:a,maxHeight:l,options:{labels:{padding:n}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=l-e;let h=n,g=0,_=0,w=0,b=0;return this.legendItems.forEach((m,v)=>{const{itemWidth:p,itemHeight:x}=g7(r,s,a,m,o);v>0&&_+x+2*n>d&&(h+=g+n,u.push({width:g,height:_}),w+=g+n,b++,g=_=0),c[v]={left:w,top:_,col:b,width:p,height:x},g=Math.max(g,p),_+=x+n}),h+=g,u.push({width:g,height:_}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:r,labels:{padding:o},rtl:a}}=this,l=pn(a,this.left,this.width);if(this.isHorizontal()){let n=0,c=Fs(r,this.left+o,this.right-this.lineWidths[n]);for(const u of s)n!==u.row&&(n=u.row,c=Fs(r,this.left+o,this.right-this.lineWidths[n])),u.top+=this.top+e+o,u.left=l.leftForLtr(l.x(c),u.width),c+=u.width+o}else{let n=0,c=Fs(r,this.top+e+o,this.bottom-this.columnSizes[n].height);for(const u of s)u.col!==n&&(n=u.col,c=Fs(r,this.top+e+o,this.bottom-this.columnSizes[n].height)),u.top=c,u.left+=this.left+o,u.left=l.leftForLtr(l.x(u.left),u.width),c+=u.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;bc(e,this),this._draw(),xc(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:r,ctx:o}=this,{align:a,labels:l}=e,n=xs.color,c=pn(e.rtl,this.left,this.width),u=Xs(l.font),{padding:d}=l,h=u.size,g=h/2;let _;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=u.string;const{boxWidth:w,boxHeight:b,itemHeight:m}=yf(l,h),v=function(A,D,S){if(isNaN(w)||w<=0||isNaN(b)||b<0)return;o.save();const C=Lt(S.lineWidth,1);if(o.fillStyle=Lt(S.fillStyle,n),o.lineCap=Lt(S.lineCap,"butt"),o.lineDashOffset=Lt(S.lineDashOffset,0),o.lineJoin=Lt(S.lineJoin,"miter"),o.lineWidth=C,o.strokeStyle=Lt(S.strokeStyle,n),o.setLineDash(Lt(S.lineDash,[])),l.usePointStyle){const B={radius:b*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:C},L=c.xPlus(A,w/2),$=D+g;og(o,B,L,$,l.pointStyleWidth&&w)}else{const B=D+Math.max((h-b)/2,0),L=c.leftForLtr(A,w),$=fn(S.borderRadius);o.beginPath(),Object.values($).some(P=>P!==0)?Wl(o,{x:L,y:B,w,h:b,radius:$}):o.rect(L,B,w,b),o.fill(),C!==0&&o.stroke()}o.restore()},p=function(A,D,S){Aa(o,S.text,A,D+m/2,u,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},x=this.isHorizontal(),y=this._computeTitleHeight();x?_={x:Fs(a,this.left+d,this.right-r[0]),y:this.top+d+y,line:0}:_={x:this.left+d,y:Fs(a,this.top+y+d,this.bottom-s[0].height),line:0},hg(this.ctx,e.textDirection);const E=m+d;this.legendItems.forEach((A,D)=>{o.strokeStyle=A.fontColor,o.fillStyle=A.fontColor;const S=o.measureText(A.text).width,C=c.textAlign(A.textAlign||(A.textAlign=l.textAlign)),B=w+g+S;let L=_.x,$=_.y;c.setWidth(this.width),x?D>0&&L+B+d>this.right&&($=_.y+=E,_.line++,L=_.x=Fs(a,this.left+d,this.right-r[_.line])):D>0&&$+E>this.bottom&&(L=_.x=L+s[_.line].width+d,_.line++,$=_.y=Fs(a,this.top+y+d,this.bottom-s[_.line].height));const P=c.x(L);if(v(P,$,A),L=XS(C,L+w+g,x?L+B:this.right,e.rtl),p(c.x(L),$,A),x)_.x+=B+d;else if(typeof A.text!="string"){const ie=u.lineHeight;_.y+=Pg(A,ie)+d}else _.y+=E}),fg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,r=Xs(s.font),o=Fi(s.padding);if(!s.display)return;const a=pn(e.rtl,this.left,this.width),l=this.ctx,n=s.position,c=r.size/2,u=o.top+c;let d,h=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+u,h=Fs(e.align,h,this.right-g);else{const w=this.columnSizes.reduce((b,m)=>Math.max(b,m.height),0);d=u+Fs(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const _=Fs(n,h,h+g);l.textAlign=a.textAlign(Md(n)),l.textBaseline="middle",l.strokeStyle=s.color,l.fillStyle=s.color,l.font=r.string,Aa(l,s.text,_,d,r)}_computeTitleHeight(){const e=this.options.title,s=Xs(e.font),r=Fi(e.padding);return e.display?s.lineHeight+r.height:0}_getLegendItemAt(e,s){let r,o,a;if(Lr(e,this.left,this.right)&&Lr(s,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(o=a[r],Lr(e,o.left,o.left+o.width)&&Lr(s,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const s=this.options;if(!x7(e.type,s))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=m7(o,r);o&&!a&&us(s.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!a&&us(s.onHover,[e,r,this],this)}else r&&us(s.onClick,[e,r,this],this)}}function g7(t,e,s,r,o){const a=v7(r,t,e,s),l=b7(o,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function v7(t,e,s,r){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),e+s.size/2+r.measureText(o).width}function b7(t,e,s){let r=t;return typeof e.text!="string"&&(r=Pg(e,s)),r}function Pg(t,e){const s=t.text?t.text.length:0;return e*s}function x7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var _7={id:"legend",_element:wf,start(t,e,s){const r=t.legend=new wf({ctx:t.ctx,options:s,chart:t});ji.configure(t,r,s),ji.addBox(t,r)},stop(t){ji.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const r=t.legend;ji.configure(t,r,s),r.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const r=e.datasetIndex,o=s.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:r,textAlign:o,color:a,useBorderRadius:l,borderRadius:n}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(s?0:void 0),d=Fi(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:o||u.textAlign,borderRadius:l&&(n||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Og extends Ir{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const o=Ss(r.text)?r.text.length:1;this._padding=Fi(r.padding);const a=o*Xs(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:r,bottom:o,right:a,options:l}=this,n=l.align;let c=0,u,d,h;return this.isHorizontal()?(d=Fs(n,r,a),h=s+e,u=a-r):(l.position==="left"?(d=r+e,h=Fs(n,o,s),c=os*-.5):(d=a-e,h=Fs(n,s,o),c=os*.5),u=o-s),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const r=Xs(s.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:n,maxWidth:c,rotation:u}=this._drawArgs(a);Aa(e,s.text,0,0,r,{color:s.color,maxWidth:c,rotation:u,textAlign:Md(s.align),textBaseline:"middle",translation:[l,n]})}}function y7(t,e){const s=new Og({ctx:t.ctx,options:e,chart:t});ji.configure(t,s,e),ji.addBox(t,s),t.titleBlock=s}var w7={id:"title",_element:Og,start(t,e,s){y7(t,s)},stop(t){const e=t.titleBlock;ji.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const r=t.titleBlock;ji.configure(t,r,s),r.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ta={average(t){if(!t.length)return!1;let e,s,r=new Set,o=0,a=0;for(e=0,s=t.length;e<s;++e){const n=t[e].element;if(n&&n.hasValue()){const c=n.tooltipPosition();r.add(c.x),o+=c.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((n,c)=>n+c)/r.size,y:o/a}},nearest(t,e){if(!t.length)return!1;let s=e.x,r=e.y,o=Number.POSITIVE_INFINITY,a,l,n;for(a=0,l=t.length;a<l;++a){const c=t[a].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Iu(e,u);d<o&&(o=d,n=c)}}if(n){const c=n.tooltipPosition();s=c.x,r=c.y}return{x:s,y:r}}};function ur(t,e){return e&&(Ss(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Sr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function k7(t,e){const{element:s,datasetIndex:r,index:o}=e,a=t.getDatasetMeta(r).controller,{label:l,value:n}=a.getLabelAndValue(o);return{chart:t,label:l,parsed:a.getParsed(o),raw:t.data.datasets[r].data[o],formattedValue:n,dataset:a.getDataset(),dataIndex:o,datasetIndex:r,element:s}}function kf(t,e){const s=t.chart.ctx,{body:r,footer:o,title:a}=t,{boxWidth:l,boxHeight:n}=e,c=Xs(e.bodyFont),u=Xs(e.titleFont),d=Xs(e.footerFont),h=a.length,g=o.length,_=r.length,w=Fi(e.padding);let b=w.height,m=0,v=r.reduce((y,E)=>y+E.before.length+E.lines.length+E.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(b+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const y=e.displayColors?Math.max(n,c.lineHeight):c.lineHeight;b+=_*y+(v-_)*c.lineHeight+(v-1)*e.bodySpacing}g&&(b+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let p=0;const x=function(y){m=Math.max(m,s.measureText(y).width+p)};return s.save(),s.font=u.string,es(t.title,x),s.font=c.string,es(t.beforeBody.concat(t.afterBody),x),p=e.displayColors?l+2+e.boxPadding:0,es(r,y=>{es(y.before,x),es(y.lines,x),es(y.after,x)}),p=0,s.font=d.string,es(t.footer,x),s.restore(),m+=w.width,{width:m,height:b}}function S7(t,e){const{y:s,height:r}=e;return s<r/2?"top":s>t.height-r/2?"bottom":"center"}function C7(t,e,s,r){const{x:o,width:a}=r,l=s.caretSize+s.caretPadding;if(t==="left"&&o+a+l>e.width||t==="right"&&o-a-l<0)return!0}function E7(t,e,s,r){const{x:o,width:a}=s,{width:l,chartArea:{left:n,right:c}}=t;let u="center";return r==="center"?u=o<=(n+c)/2?"left":"right":o<=a/2?u="left":o>=l-a/2&&(u="right"),C7(u,t,e,s)&&(u="center"),u}function Sf(t,e,s){const r=s.yAlign||e.yAlign||S7(t,s);return{xAlign:s.xAlign||e.xAlign||E7(t,e,s,r),yAlign:r}}function A7(t,e){let{x:s,width:r}=t;return e==="right"?s-=r:e==="center"&&(s-=r/2),s}function M7(t,e,s){let{y:r,height:o}=t;return e==="top"?r+=s:e==="bottom"?r-=o+s:r-=o/2,r}function Cf(t,e,s,r){const{caretSize:o,caretPadding:a,cornerRadius:l}=t,{xAlign:n,yAlign:c}=s,u=o+a,{topLeft:d,topRight:h,bottomLeft:g,bottomRight:_}=fn(l);let w=A7(e,n);const b=M7(e,c,u);return c==="center"?n==="left"?w+=u:n==="right"&&(w-=u):n==="left"?w-=Math.max(d,g)+o:n==="right"&&(w+=Math.max(h,_)+o),{x:Gs(w,0,r.width-e.width),y:Gs(b,0,r.height-e.height)}}function dl(t,e,s){const r=Fi(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Ef(t){return ur([],Sr(t))}function T7(t,e,s){return Vo(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Af(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const Ig={beforeTitle:wr,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,r=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return s[e.dataIndex]}return""},afterTitle:wr,beforeBody:wr,beforeLabel:wr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Kt(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:wr,afterBody:wr,beforeFooter:wr,footer:wr,afterFooter:wr};function gi(t,e,s,r){const o=t[e].call(s,r);return typeof o>"u"?Ig[e].call(s,r):o}class Vu extends Ir{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&s.options.animation&&r.animations,a=new bg(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=T7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:r}=s,o=gi(r,"beforeTitle",this,e),a=gi(r,"title",this,e),l=gi(r,"afterTitle",this,e);let n=[];return n=ur(n,Sr(o)),n=ur(n,Sr(a)),n=ur(n,Sr(l)),n}getBeforeBody(e,s){return Ef(gi(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:r}=s,o=[];return es(e,a=>{const l={before:[],lines:[],after:[]},n=Af(r,a);ur(l.before,Sr(gi(n,"beforeLabel",this,a))),ur(l.lines,gi(n,"label",this,a)),ur(l.after,Sr(gi(n,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(e,s){return Ef(gi(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:r}=s,o=gi(r,"beforeFooter",this,e),a=gi(r,"footer",this,e),l=gi(r,"afterFooter",this,e);let n=[];return n=ur(n,Sr(o)),n=ur(n,Sr(a)),n=ur(n,Sr(l)),n}_createItems(e){const s=this._active,r=this.chart.data,o=[],a=[],l=[];let n=[],c,u;for(c=0,u=s.length;c<u;++c)n.push(k7(this.chart,s[c]));return e.filter&&(n=n.filter((d,h,g)=>e.filter(d,h,g,r))),e.itemSort&&(n=n.sort((d,h)=>e.itemSort(d,h,r))),es(n,d=>{const h=Af(e.callbacks,d);o.push(gi(h,"labelColor",this,d)),a.push(gi(h,"labelPointStyle",this,d)),l.push(gi(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=n,n}update(e,s){const r=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const n=ta[r.position].call(this,o,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const c=this._size=kf(this,r),u=Object.assign({},n,c),d=Sf(this.chart,r,u),h=Cf(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:n.x,caretY:n.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,r,o){const a=this.getCaretPosition(e,r,o);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(e,s,r){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:n}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=fn(n),{x:g,y:_}=e,{width:w,height:b}=s;let m,v,p,x,y,E;return a==="center"?(y=_+b/2,o==="left"?(m=g,v=m-l,x=y+l,E=y-l):(m=g+w,v=m+l,x=y-l,E=y+l),p=m):(o==="left"?v=g+Math.max(c,d)+l:o==="right"?v=g+w-Math.max(u,h)-l:v=this.caretX,a==="top"?(x=_,y=x-l,m=v-l,p=v+l):(x=_+b,y=x+l,m=v+l,p=v-l),E=x),{x1:m,x2:v,x3:p,y1:x,y2:y,y3:E}}drawTitle(e,s,r){const o=this.title,a=o.length;let l,n,c;if(a){const u=pn(r.rtl,this.x,this.width);for(e.x=dl(this,r.titleAlign,r),s.textAlign=u.textAlign(r.titleAlign),s.textBaseline="middle",l=Xs(r.titleFont),n=r.titleSpacing,s.fillStyle=r.titleColor,s.font=l.string,c=0;c<a;++c)s.fillText(o[c],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n,c+1===a&&(e.y+=r.titleMarginBottom-n)}}_drawColorBox(e,s,r,o,a){const l=this.labelColors[r],n=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=a,d=Xs(a.bodyFont),h=dl(this,"left",a),g=o.x(h),_=c<d.lineHeight?(d.lineHeight-c)/2:0,w=s.y+_;if(a.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:1},m=o.leftForLtr(g,u)+u/2,v=w+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ju(e,b,m,v),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ju(e,b,m,v)}else{e.lineWidth=zt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const b=o.leftForLtr(g,u),m=o.leftForLtr(o.xPlus(g,1),u-2),v=fn(l.borderRadius);Object.values(v).some(p=>p!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Wl(e,{x:b,y:w,w:u,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Wl(e,{x:m,y:w+1,w:u-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(b,w,u,c),e.strokeRect(b,w,u,c),e.fillStyle=l.backgroundColor,e.fillRect(m,w+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,s,r){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:n,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=Xs(r.bodyFont);let g=h.lineHeight,_=0;const w=pn(r.rtl,this.x,this.width),b=function(S){s.fillText(S,w.x(e.x+_),e.y+g/2),e.y+=g+a},m=w.textAlign(l);let v,p,x,y,E,A,D;for(s.textAlign=l,s.textBaseline="middle",s.font=h.string,e.x=dl(this,m,r),s.fillStyle=r.bodyColor,es(this.beforeBody,b),_=n&&m!=="right"?l==="center"?u/2+d:u+2+d:0,y=0,A=o.length;y<A;++y){for(v=o[y],p=this.labelTextColors[y],s.fillStyle=p,es(v.before,b),x=v.lines,n&&x.length&&(this._drawColorBox(s,e,y,w,r),g=Math.max(h.lineHeight,c)),E=0,D=x.length;E<D;++E)b(x[E]),g=h.lineHeight;es(v.after,b)}_=0,g=h.lineHeight,es(this.afterBody,b),e.y-=a}drawFooter(e,s,r){const o=this.footer,a=o.length;let l,n;if(a){const c=pn(r.rtl,this.x,this.width);for(e.x=dl(this,r.footerAlign,r),e.y+=r.footerMarginTop,s.textAlign=c.textAlign(r.footerAlign),s.textBaseline="middle",l=Xs(r.footerFont),s.fillStyle=r.footerColor,s.font=l.string,n=0;n<a;++n)s.fillText(o[n],c.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,s,r,o){const{xAlign:a,yAlign:l}=this,{x:n,y:c}=e,{width:u,height:d}=r,{topLeft:h,topRight:g,bottomLeft:_,bottomRight:w}=fn(o.cornerRadius);s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.beginPath(),s.moveTo(n+h,c),l==="top"&&this.drawCaret(e,s,r,o),s.lineTo(n+u-g,c),s.quadraticCurveTo(n+u,c,n+u,c+g),l==="center"&&a==="right"&&this.drawCaret(e,s,r,o),s.lineTo(n+u,c+d-w),s.quadraticCurveTo(n+u,c+d,n+u-w,c+d),l==="bottom"&&this.drawCaret(e,s,r,o),s.lineTo(n+_,c+d),s.quadraticCurveTo(n,c+d,n,c+d-_),l==="center"&&a==="left"&&this.drawCaret(e,s,r,o),s.lineTo(n,c+h),s.quadraticCurveTo(n,c,n+h,c),s.closePath(),s.fill(),o.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const l=ta[e.position].call(this,this._active,this._eventPosition);if(!l)return;const n=this._size=kf(this,e),c=Object.assign({},l,this._size),u=Sf(s,e,c),d=Cf(e,c,u,s);(o._to!==d.x||a._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=n.width,this.height=n.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(s);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Fi(s.padding),n=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&n&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,s),hg(e,s.textDirection),a.y+=l.top,this.drawTitle(a,e,s),this.drawBody(a,e,s),this.drawFooter(a,e,s),fg(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const r=this._active,o=e.map(({datasetIndex:n,index:c})=>{const u=this.chart.getDatasetMeta(n);if(!u)throw new Error("Cannot find a dataset at index "+n);return{datasetIndex:n,element:u.data[c],index:c}}),a=!Fl(r,o),l=this._positionChanged(o,s);(a||l)&&(this._active=o,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(e,a,s,r),n=this._positionChanged(l,e),c=s||!Fl(l,a)||n;return c&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,r,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return s.filter(n=>this.chart.data.datasets[n.datasetIndex]&&this.chart.getDatasetMeta(n.datasetIndex).controller.getParsed(n.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,s){const{caretX:r,caretY:o,options:a}=this,l=ta[a.position].call(this,e,s);return l!==!1&&(r!==l.x||o!==l.y)}}ot(Vu,"positioners",ta);var D7={id:"tooltip",_element:Vu,positioners:ta,afterInit(t,e,s){s&&(t.tooltip=new Vu({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ig},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const L7=(t,e,s,r)=>(typeof e=="string"?(s=t.push(e)-1,r.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function $7(t,e,s,r){const o=t.indexOf(e);if(o===-1)return L7(t,e,s,r);const a=t.lastIndexOf(e);return o!==a?s:o}const R7=(t,e)=>t===null?null:Gs(Math.round(t),0,e);function Mf(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Wu extends Mn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const r=this.getLabels();for(const{index:o,label:a}of s)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Kt(e))return null;const r=this.getLabels();return s=isFinite(s)&&r[s]===e?s:$7(r,e,Lt(s,e),this._addedLabels),R7(s,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),s||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,s=this.max,r=this.options.offset,o=[];let a=this.getLabels();a=e===0&&s===a.length-1?a:a.slice(e,s+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=s;l++)o.push({value:l});return o}getLabelForValue(e){return Mf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ot(Wu,"id","category"),ot(Wu,"defaults",{ticks:{callback:Mf}});function B7(t,e){const s=[],{bounds:o,step:a,min:l,max:n,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:g}=t,_=a||1,w=d-1,{min:b,max:m}=e,v=!Kt(l),p=!Kt(n),x=!Kt(u),y=(m-b)/(h+1);let E=S0((m-b)/w/_)*_,A,D,S,C;if(E<1e-14&&!v&&!p)return[{value:b},{value:m}];C=Math.ceil(m/E)-Math.floor(b/E),C>w&&(E=S0(C*E/w/_)*_),Kt(c)||(A=Math.pow(10,c),E=Math.ceil(E*A)/A),o==="ticks"?(D=Math.floor(b/E)*E,S=Math.ceil(m/E)*E):(D=b,S=m),v&&p&&a&&HS((n-l)/a,E/1e3)?(C=Math.round(Math.min((n-l)/E,d)),E=(n-l)/C,D=l,S=n):x?(D=v?l:D,S=p?n:S,C=u-1,E=(S-D)/C):(C=(S-D)/E,da(C,Math.round(C),E/1e3)?C=Math.round(C):C=Math.ceil(C));const B=Math.max(C0(E),C0(D));A=Math.pow(10,Kt(c)?B:c),D=Math.round(D*A)/A,S=Math.round(S*A)/A;let L=0;for(v&&(g&&D!==l?(s.push({value:l}),D<l&&L++,da(Math.round((D+L*E)*A)/A,l,Tf(l,y,t))&&L++):D<l&&L++);L<C;++L){const $=Math.round((D+L*E)*A)/A;if(p&&$>n)break;s.push({value:$})}return p&&g&&S!==n?s.length&&da(s[s.length-1].value,n,Tf(n,y,t))?s[s.length-1].value=n:s.push({value:n}):(!p||S===n)&&s.push({value:S}),s}function Tf(t,e,{horizontal:s,minRotation:r}){const o=Ro(r),a=(s?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class P7 extends Mn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:o,max:a}=this;const l=c=>o=s?o:c,n=c=>a=r?a:c;if(e){const c=gr(o),u=gr(a);c<0&&u<0?n(0):c>0&&u>0&&l(0)}if(o===a){let c=a===0?1:Math.abs(a*.05);n(a+c),e||l(o-c)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),s=s||11),s&&(o=Math.min(s,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,l=B7(o,a);return e.bounds==="ticks"&&zS(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let s=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-s)/Math.max(e.length-1,1)/2;s-=o,r+=o}this._startValue=s,this._endValue=r,this._valueRange=r-s}getLabelForValue(e){return ig(e,this.chart.options.locale,this.options.ticks.format)}}class qu extends P7{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Js(e)?e:0,this.max=Js(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,r=Ro(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ot(qu,"id","linear"),ot(qu,"defaults",{ticks:{callback:rg.formatters.numeric}});const kc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xi=Object.keys(kc);function Df(t,e){return t-e}function Lf(t,e){if(Kt(e))return null;const s=t._adapter,{parser:r,round:o,isoWeekday:a}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Js(l)||(l=typeof r=="string"?s.parse(l,r):s.parse(l)),l===null?null:(o&&(l=o==="week"&&(wn(a)||a===!0)?s.startOf(l,"isoWeek",a):s.startOf(l,o)),+l)}function $f(t,e,s,r){const o=xi.length;for(let a=xi.indexOf(t);a<o-1;++a){const l=kc[xi[a]],n=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((s-e)/(n*l.size))<=r)return xi[a]}return xi[o-1]}function O7(t,e,s,r,o){for(let a=xi.length-1;a>=xi.indexOf(s);a--){const l=xi[a];if(kc[l].common&&t._adapter.diff(o,r,l)>=e-1)return l}return xi[s?xi.indexOf(s):0]}function I7(t){for(let e=xi.indexOf(t)+1,s=xi.length;e<s;++e)if(kc[xi[e]].common)return xi[e]}function Rf(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:r,hi:o}=Ad(s,e),a=s[r]>=e?s[r]:s[o];t[a]=!0}}function N7(t,e,s,r){const o=t._adapter,a=+o.startOf(e[0].value,r),l=e[e.length-1].value;let n,c;for(n=a;n<=l;n=+o.add(n,1,r))c=s[n],c>=0&&(e[c].major=!0);return e}function Bf(t,e,s){const r=[],o={},a=e.length;let l,n;for(l=0;l<a;++l)n=e[l],o[n]=l,r.push({value:n,major:!1});return a===0||!s?r:N7(t,r,o,s)}class Xl extends Mn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const r=e.time||(e.time={}),o=this._adapter=new _6._date(e.adapters.date);o.init(s),ua(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Lf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,r=e.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:n}=this.getUserBounds();function c(u){!l&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!n&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!l||!n)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Js(o)&&!isNaN(o)?o:+s.startOf(Date.now(),r),a=Js(a)&&!isNaN(a)?a:+s.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],r=e[e.length-1]),{min:s,max:r}}buildTicks(){const e=this.options,s=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,l=this.max,n=qS(o,a,l);return this._unit=s.unit||(r.autoSkip?$f(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):O7(this,n.length,s.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:I7(this._unit),this.initOffsets(o),e.reverse&&n.reverse(),Bf(this,n,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,r=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?s=1-o:s=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;s=Gs(s,0,l),r=Gs(r,0,l),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const e=this._adapter,s=this.min,r=this.max,o=this.options,a=o.time,l=a.unit||$f(a.minUnit,s,r,this._getLabelCapacity(s)),n=Lt(o.ticks.stepSize,1),c=l==="week"?a.isoWeekday:!1,u=wn(c)||c===!0,d={};let h=s,g,_;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":l),e.diff(r,s,l)>1e5*n)throw new Error(s+" and "+r+" are too far apart with stepSize of "+n+" "+l);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(g=h,_=0;g<r;g=+e.add(g,n,l),_++)Rf(d,g,w);return(g===r||o.bounds==="ticks"||_===1)&&Rf(d,g,w),Object.keys(d).sort(Df).map(b=>+b)}getLabelForValue(e){const s=this._adapter,r=this.options.time;return r.tooltipFormat?s.format(e,r.tooltipFormat):s.format(e,r.displayFormats.datetime)}format(e,s){const o=this.options.time.displayFormats,a=this._unit,l=s||o[a];return this._adapter.format(e,l)}_tickFormatFunction(e,s,r,o){const a=this.options,l=a.ticks.callback;if(l)return us(l,[e,s,r],this);const n=a.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&n[c],h=u&&n[u],g=r[s],_=u&&h&&g&&g.major;return this._adapter.format(e,o||(_?h:d))}generateTickLabels(e){let s,r,o;for(s=0,r=e.length;s<r;++s)o=e[s],o.label=this._tickFormatFunction(o.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(e){const s=this._offsets,r=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,r=this.ctx.measureText(e).width,o=Ro(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(o),l=Math.sin(o),n=this._resolveTickFontOptions(0).size;return{w:r*a+n*l,h:r*l+n*a}}_getLabelCapacity(e){const s=this.options.time,r=s.displayFormats,o=r[s.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Bf(this,[e],this._majorUnit),o),l=this._getLabelSize(a),n=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return n>0?n:1}getDataTimestamps(){let e=this._cache.data||[],s,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(s=0,r=o.length;s<r;++s)e=e.concat(o[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,r;if(e.length)return e;const o=this.getLabels();for(s=0,r=o.length;s<r;++s)e.push(Lf(this,o[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Zm(e.sort(Df))}}ot(Xl,"id","time"),ot(Xl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function hl(t,e,s){let r=0,o=t.length-1,a,l,n,c;s?(e>=t[r].pos&&e<=t[o].pos&&({lo:r,hi:o}=Bo(t,"pos",e)),{pos:a,time:n}=t[r],{pos:l,time:c}=t[o]):(e>=t[r].time&&e<=t[o].time&&({lo:r,hi:o}=Bo(t,"time",e)),{time:a,pos:n}=t[r],{time:l,pos:c}=t[o]);const u=l-a;return u?n+(c-n)*(e-a)/u:n}class Pf extends Xl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=hl(s,this.min),this._tableRange=hl(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:r}=this,o=[],a=[];let l,n,c,u,d;for(l=0,n=e.length;l<n;++l)u=e[l],u>=s&&u<=r&&o.push(u);if(o.length<2)return[{time:s,pos:0},{time:r,pos:1}];for(l=0,n=o.length;l<n;++l)d=o[l+1],c=o[l-1],u=o[l],Math.round((d+c)/2)!==u&&a.push({time:u,pos:l/(n-1)});return a}_generate(){const e=this.min,s=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(s)||r.length===1)&&r.push(s),r.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),r=this.getLabelTimestamps();return s.length&&r.length?e=this.normalize(s.concat(r)):e=s.length?s:r,e=this._cache.all=e,e}getDecimalForValue(e){return(hl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,r=this.getDecimalForPixel(e)/s.factor-s.end;return hl(this._table,r*this._tableRange+this._minPos,!0)}}ot(Pf,"id","timeseries"),ot(Pf,"defaults",Xl.defaults);const j7={class:"relative min-h-screen overflow-hidden"},H7={class:"relative z-10 p-3 sm:p-6"},z7={class:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl mb-6 border border-white/20 animate-fade-in-up"},F7={class:"px-4 py-5 sm:p-6"},U7={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4"},V7=["disabled"],W7=["disabled"],q7=["disabled"],K7=["disabled"],G7={class:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl mb-6 border border-white/20 animate-fade-in-up",style:{"animation-delay":"0.2s"}},X7={class:"px-4 py-5 sm:p-6"},Y7={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4"},J7=["disabled"],Z7=["disabled"],Q7=["disabled"],eE=["disabled"],tE=["disabled"],sE={key:0,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},iE={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},rE={class:"px-4 sm:px-6 py-4 sm:py-5"},oE={class:"border-b border-gray-200 mb-6"},nE={class:"-mb-px flex space-x-4"},aE={key:0,class:"space-y-4"},lE={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},cE=["disabled"],uE={key:0,class:"animate-spin h-5 w-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24"},dE={key:1,class:"space-y-6"},hE={class:"space-y-3"},fE={class:"flex items-start space-x-3"},pE=["checked"],mE={class:"flex-1"},gE={class:"mt-3 flex items-center space-x-3"},vE={class:"border border-gray-200 rounded-lg p-4"},bE={class:"flex items-start space-x-3"},xE={class:"flex-1"},_E={key:0,class:"mt-3 grid grid-cols-3 gap-2 sm:gap-3"},yE={key:1,class:"mt-2 text-xs text-purple-600"},wE={class:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3"},kE={class:"flex items-center space-x-2"},SE=["checked"],CE={class:"flex items-center space-x-2"},EE=["checked"],AE={class:"flex items-center space-x-2"},ME=["checked"],TE={class:"flex items-center space-x-2"},DE=["checked"],LE={class:"space-y-2"},$E={class:"flex items-center space-x-3 cursor-pointer"},RE={class:"flex items-center space-x-3 cursor-pointer"},BE={class:"flex items-center space-x-3 cursor-pointer"},PE={class:"flex items-center space-x-3"},OE={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 sticky bottom-0 bg-white/95 backdrop-blur-sm"},IE=["disabled"];const NE={key:2,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},jE={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},HE={class:"px-4 sm:px-6 py-4 sm:py-5"},zE={class:"space-y-6"},FE={class:"grid grid-cols-2 gap-4"},UE={class:"grid grid-cols-2 gap-4"},VE={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 sticky bottom-0 bg-white/95 backdrop-blur-sm"},WE=["disabled"],qE={key:3,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},KE={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},GE={key:0,class:"absolute top-4 right-4 z-50 max-w-md animate-slide-in-right"},XE={key:0,class:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},YE={key:1,class:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},JE={key:2,class:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ZE={key:3,class:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},QE={class:"flex-1"},e9={class:"text-sm font-semibold whitespace-pre-line"},t9={class:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 border-b border-gray-200"},s9={class:"grid grid-cols-3 gap-4"},i9={class:"bg-white border border-gray-200 rounded-lg p-3"},r9={class:"flex items-center justify-between"},o9={class:"text-xl font-semibold text-gray-900"},n9={class:"bg-white border border-gray-200 rounded-lg p-3"},a9={class:"flex items-center justify-between"},l9={class:"text-xl font-semibold text-gray-900"},c9={class:"px-4 sm:px-6 py-4 sm:py-5"},u9={class:"space-y-6"},d9={class:"flex items-center justify-between mb-3"},h9={class:"flex items-center space-x-2"},f9={class:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs font-medium"},p9={class:"px-2 py-1 bg-amber-100 text-amber-700 rounded text-xs font-medium"},m9={class:"border border-gray-200 rounded-lg p-4"},g9={class:"mb-6"},v9={class:"flex items-center space-x-3"},b9={class:"flex-1"},x9=["disabled"],_9={key:0,class:"space-y-2 max-h-64 overflow-y-auto mt-4"},y9={class:"flex items-center space-x-3"},w9={class:"text-sm text-gray-700"},k9=["onClick"],S9={key:1,class:"text-center py-8 text-gray-400 text-sm"},C9={class:"border border-gray-200 rounded-lg p-4"},E9={class:"mb-4"},A9={class:"flex items-center space-x-3"},M9={class:"flex-1"},T9=["disabled"],D9={key:0,class:"space-y-2 max-h-64 overflow-y-auto mt-4"},L9={class:"flex items-center space-x-3"},$9={class:"text-sm text-gray-700"},R9=["onClick"],B9={key:1,class:"text-center py-8 text-gray-400 text-sm"},P9={class:"border border-gray-200 rounded-lg p-4"},O9={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I9={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 sticky bottom-0 bg-white/95 backdrop-blur-sm"},N9=["disabled"],j9={key:4,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},H9={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},z9={class:"px-4 sm:px-6 py-4 sm:py-5"},F9={class:"space-y-6"},U9={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4"},V9={class:"flex items-start justify-between"},W9={class:"flex-1"},q9={class:"text-sm text-gray-700 whitespace-pre-line"},K9={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 sticky bottom-0 bg-white/95 backdrop-blur-sm"},G9=["disabled"],X9={key:5,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},Y9={class:"relative bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md transform transition-all duration-300 scale-100 animate-scale-in"},J9={class:"px-6 py-6"},Z9={key:0,class:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-6"},Q9={class:"text-sm text-gray-700 line-clamp-3"},eA={class:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 rounded-b-xl sm:rounded-b-2xl flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3"},tA=["disabled"],sA={key:0,class:"flex items-center justify-center space-x-2"},iA={key:1,class:"flex items-center justify-center space-x-2"},rA={key:6,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},oA={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},nA={class:"px-4 sm:px-6 py-4 sm:py-5"},aA={key:0,class:"flex items-center justify-center py-8"},lA={key:1,class:"space-y-6"},cA={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},uA={class:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4"},dA={class:"flex items-center justify-between mb-2"},hA={class:"flex items-center space-x-2"},fA={class:"text-xs text-gray-600"},pA={class:"text-xs text-gray-600 space-y-1"},mA={class:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4"},gA={class:"flex items-center justify-between mb-2"},vA={class:"flex items-center space-x-2"},bA={class:"text-xs text-gray-600"},xA={class:"text-xs text-gray-600"},_A={class:"bg-gradient-to-br from-purple-50 to-violet-50 border border-purple-200 rounded-lg p-4"},yA={class:"flex items-center justify-between mb-2"},wA={class:"flex items-center space-x-2"},kA={class:"text-xs text-gray-600"},SA={class:"text-xs text-gray-600"},CA={class:"bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-lg p-4"},EA={class:"flex items-center justify-between mb-2"},AA={class:"flex items-center space-x-2"},MA={class:"text-xs text-gray-600"},TA={class:"text-xs text-gray-600 space-y-1"},DA={class:"bg-gradient-to-br from-cyan-50 to-teal-50 border border-cyan-200 rounded-lg p-4"},LA={class:"flex items-center justify-between mb-2"},$A={class:"flex items-center space-x-2"},RA={class:"text-xs text-gray-600"},BA={class:"text-xs text-gray-600"},PA={class:"bg-gradient-to-br from-pink-50 to-rose-50 border border-pink-200 rounded-lg p-4"},OA={class:"flex items-center justify-between mb-2"},IA={class:"flex items-center space-x-2"},NA={class:"text-xs text-gray-600"},jA={class:"text-xs text-gray-600"},HA={class:"bg-gray-50 rounded-lg p-4"},zA={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},FA={class:"ml-2 font-mono"},UA={class:"ml-2 font-mono"},VA={class:"ml-2 font-mono"},WA={class:"ml-2 font-mono"},qA={class:"flex justify-end space-x-3"},KA=["disabled"],GA={class:"bg-white/80 backdrop-blur-sm shadow-xl rounded-2xl mb-6 border border-white/20 animate-fade-in-up",style:{"animation-delay":"0.3s"}},XA={class:"px-4 py-5 sm:p-6"},YA={class:"mb-6"},JA={class:"flex items-center justify-between mb-4"},ZA={class:"flex items-center gap-1.5 sm:gap-2 flex-wrap"},QA=["disabled"],eM={class:"hidden sm:inline"},tM={class:"sm:hidden"},sM=["disabled"],iM={key:0,class:"hidden sm:inline"},rM={key:1,class:"hidden sm:inline"},oM={class:"bg-gray-50 rounded-lg overflow-hidden"},nM={class:"hidden md:block overflow-x-auto"},aM={class:"min-w-full divide-y divide-gray-200"},lM={class:"bg-gray-100"},cM={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},uM=["checked"],dM={class:"bg-white divide-y divide-gray-200"},hM={key:0},fM={colspan:"7",class:"px-4 py-8 text-center text-gray-500"},pM={class:"flex flex-col items-center"},mM={class:"px-4 py-3 text-sm text-gray-500"},gM={class:"px-4 py-3 text-sm"},vM=["checked","onChange"],bM={key:1,class:"text-gray-400 text-xs"},xM={class:"px-4 py-3 text-sm font-medium text-gray-900"},_M={class:"px-4 py-3 text-sm text-gray-500"},yM={class:"px-4 py-3 text-sm text-gray-500"},wM={class:"px-4 py-3 text-sm"},kM={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},SM={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},CM={class:"px-4 py-3 text-sm"},EM={class:"flex items-center space-x-3"},AM=["onClick"],MM=["onClick"],TM={key:2,class:"text-gray-400 text-xs"},DM={class:"md:hidden space-y-3 p-3"},LM={key:0,class:"text-center py-8 text-gray-500"},$M={class:"flex flex-col items-center"},RM={class:"flex items-start justify-between mb-3"},BM={class:"flex-1"},PM={class:"flex items-center space-x-2 mb-2"},OM=["checked","onChange"],IM={class:"text-xs text-gray-500"},NM={key:1,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},jM={key:2,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},HM={class:"text-sm font-semibold text-gray-900 mb-1"},zM={class:"text-xs text-gray-600 mb-1"},FM={class:"text-xs text-gray-500"},UM={class:"flex items-center space-x-2 ml-2"},VM=["onClick"],WM=["onClick"],qM={key:2,class:"text-xs text-gray-400"},KM={key:0,class:"mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0"},GM={class:"flex items-center space-x-2"},XM={class:"flex items-center space-x-2"},YM={class:"text-xs sm:text-sm text-gray-700"},JM={key:0,class:"flex items-center space-x-1"},ZM=["disabled"],QM=["onClick"],eT={key:0,class:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md"},tT=["disabled"],sT={key:1,class:"flex items-center"},iT={class:"space-y-4 mt-6 sm:mt-8"},rT={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4"},oT={key:0,class:"text-xs text-gray-500 mt-1"},nT={key:1,class:"text-xs text-red-600 mt-1"},aT={key:0,class:"mb-3 p-3 bg-red-50 border border-red-200 rounded-md"},lT={class:"flex items-start"},cT={class:"text-sm text-red-800"},uT={key:1,class:"mb-3 p-3 bg-green-50 border border-green-200 rounded-md"},dT={class:"flex items-start"},hT={class:"text-sm text-green-800"},fT={class:"flex justify-end"},pT={class:"mt-6 sm:mt-8 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"},mT={class:"bg-white rounded-lg sm:rounded-xl shadow-lg border border-gray-200 p-4 sm:p-6"},gT={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4"},vT={class:"flex items-center space-x-1 sm:space-x-2"},bT=["onClick"],xT={class:"relative h-48 sm:h-64"},_T={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-10"},yT={key:1,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90 z-10"},wT={class:"bg-white rounded-lg sm:rounded-xl shadow-lg border border-gray-200 p-4 sm:p-6"},kT={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-4"},ST={class:"flex items-center space-x-1 sm:space-x-2"},CT=["onClick"],ET={class:"relative h-48 sm:h-64"},AT={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-10"},MT={key:1,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90 z-10"},TT={key:7,class:"bg-white shadow rounded-lg mb-6"},DT={class:"px-4 py-5 sm:p-6"},LT={key:0,class:"flex items-center"},$T={key:1,class:"bg-red-50 border border-red-200 rounded-md p-4"},RT={class:"flex"},BT={class:"ml-3"},PT={class:"mt-2 text-sm text-red-700"},OT={key:2,class:"mt-4 animate-fade-in-up"},IT={class:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center gap-3"},NT={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 animate-pulse"},jT={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},HT={key:2,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800"},zT={class:"bg-gray-900/90 backdrop-blur-sm rounded-xl p-4 overflow-auto max-h-96 border border-gray-700/50 shadow-2xl"},FT={class:"text-green-400 text-sm whitespace-pre-wrap font-mono"},UT={key:8,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},VT={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},WT={class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},qT={class:"text-lg font-medium text-gray-900 flex items-center gap-3"},KT={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 animate-pulse"},GT={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},XT={class:"px-4 sm:px-6 py-4 sm:py-5 max-h-96 overflow-auto"},YT={class:"bg-gray-900/90 backdrop-blur-sm rounded-xl p-4 border border-gray-700/50 shadow-2xl"},JT={class:"text-green-400 text-sm whitespace-pre-wrap font-mono"},ZT={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex justify-end"},QT={key:9,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},eD={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},tD={class:"px-4 sm:px-6 py-4 sm:py-5"},sD={key:0,class:"mb-6"},iD={key:1,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg"},rD={key:2,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"},oD={class:"flex items-center"},nD={class:"text-sm text-red-700"},aD={key:3,class:"mb-6"},lD={class:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-64 overflow-y-auto whitespace-pre-wrap"},cD={class:"flex justify-end space-x-3"},uD=["disabled"],dD={key:10,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},hD={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},fD={class:"px-4 sm:px-6 py-4 sm:py-5"},pD={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mD={class:"flex items-start space-x-3"},gD=["checked"],vD={class:"flex items-start space-x-3"},bD=["checked"],xD={class:"flex items-start space-x-3"},_D=["checked"],yD={class:"flex items-start space-x-3"},wD=["checked"],kD={class:"mt-6 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 sticky bottom-0 bg-white/95 backdrop-blur-sm pt-4 border-t border-gray-200"},SD=["disabled"],CD={key:11,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},ED={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},AD={class:"px-4 sm:px-6 py-4 sm:py-5"},MD={class:"mb-6"},TD={class:"grid grid-cols-2 gap-4"},DD={class:"space-y-4"},LD={class:"text-sm font-medium text-gray-900"},$D={class:"flex items-start space-x-3"},RD=["checked"],BD={class:"flex items-start space-x-3"},PD=["checked"],OD={class:"flex items-start space-x-3"},ID=["checked"],ND={class:"flex items-start space-x-3"},jD=["checked"],HD={class:"flex items-start space-x-3"},zD=["checked"],FD={class:"mt-6 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 sticky bottom-0 bg-white/95 backdrop-blur-sm pt-4 border-t border-gray-200"},UD=["disabled"],VD={key:12,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},WD={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-white/20 animate-scale-in"},qD={class:"px-4 sm:px-6 py-4 sm:py-5"},KD={key:0,class:"space-y-6"},GD={class:"space-y-3"},XD={class:"flex items-start space-x-3"},YD=["checked"],JD={class:"flex items-start space-x-3"},ZD=["checked"],QD={key:0,class:"space-y-4"},eL={key:1},tL={class:"space-y-3"},sL={class:"flex items-start space-x-3"},iL=["checked"],rL={class:"flex items-start space-x-3"},oL=["checked"],nL={key:2},aL={key:0,class:"text-sm text-gray-600 mb-3"},lL={key:1,class:"text-sm text-gray-600 mb-3"},cL={key:1,class:"space-y-4"},uL={key:0},dL={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3"},hL={class:"flex items-center justify-between"},fL={class:"font-medium text-gray-900"},pL={key:1},mL={class:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3"},gL={class:"flex items-center justify-between"},vL={class:"font-medium text-gray-900"},bL={key:2,class:"space-y-3"},xL={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between space-y-2 sm:space-y-0 sticky bottom-0 bg-white/95 backdrop-blur-sm"},_L={class:"text-xs text-gray-500 order-2 sm:order-1"},yL={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 order-1 sm:order-2 w-full sm:w-auto"},wL=["disabled"],kL=["disabled"],SL=["disabled"],CL={key:3,class:"px-4 py-2 text-sm rounded-md text-white bg-gray-400 cursor-not-allowed",disabled:""},EL={class:"px-4 sm:px-6 py-4 sm:py-5"},AL={class:"mb-6"},ML={class:"space-y-3"},TL={class:"flex items-start space-x-3"},DL=["checked"],LL={class:"flex items-start space-x-3"},$L=["checked"],RL={key:0,class:"space-y-4"},BL={key:1,class:"space-y-4"},PL={class:"mt-6"},OL={key:0,class:"text-xs text-red-500 mt-1"},IL={key:1,class:"text-xs text-gray-500 mt-1"},NL={key:2,class:"mt-6"},jL={class:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto"},HL={class:"flex-1"},zL={class:"flex items-center space-x-2"},FL={class:"font-medium"},UL={class:"text-gray-500"},VL={class:"text-gray-400"},WL={key:0,class:"mt-1"},qL={class:"text-xs text-red-500"},KL={class:"flex items-center"},GL={key:0,class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},XL={key:1,class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},YL={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex justify-end space-x-2 sm:space-x-3"},JL=["disabled"],ZL={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},QL={class:"px-4 sm:px-6 py-4 sm:py-5"},e$={class:"flex items-center mb-4"},t$={class:"ml-3"},s$={class:"text-sm text-gray-500 mt-1"},i$={class:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto"},r$={class:"space-y-2"},o$={class:"flex items-center"},n$={class:"text-sm font-medium text-gray-900"},a$={class:"text-sm text-gray-500 ml-2"},l$={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex justify-end space-x-2 sm:space-x-3"},c$=["disabled"],u$=["disabled"],d$={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h$={class:"px-4 sm:px-6 py-4"},f$={class:"space-y-4"},p$={key:0,class:"text-sm text-red-600 bg-red-50 p-2 rounded"},m$={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex justify-end space-x-2 sm:space-x-3"},g$=["disabled"],v$={class:"p-6"},b$={class:"mb-4"},x$={class:"bg-red-50 border border-red-200 rounded-lg p-3"},_$={class:"flex items-center space-x-2"},y$={class:"font-medium text-red-800"},w$={class:"text-red-600 ml-2"},k$={class:"flex items-center justify-end space-x-3 p-6 bg-gray-50 rounded-b-xl"},S$=["disabled"],C$={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E$={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A$={key:4,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-0 sm:p-2 md:p-4"},M$={class:"relative bg-white/95 backdrop-blur-sm rounded-none sm:rounded-xl md:rounded-2xl shadow-2xl w-full h-full sm:h-auto sm:max-w-6xl sm:max-h-[90vh] overflow-y-auto border-0 sm:border border-white/20 animate-scale-in"},T$={key:0,class:"fixed sm:absolute top-4 sm:top-16 left-4 sm:left-auto sm:right-4 z-50 w-[calc(100%-2rem)] sm:w-auto sm:max-w-md animate-slide-in-right"},D$={key:0,class:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},L$={key:1,class:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$$={key:2,class:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R$={key:3,class:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B$={class:"flex-1"},P$={class:"text-sm font-semibold whitespace-pre-line"},O$={class:"px-3 sm:px-4 md:px-6 py-3 sm:py-4 md:py-5"},I$={class:"border-b border-gray-200 mb-4 sm:mb-6 overflow-x-auto -mx-3 sm:mx-0"},N$={class:"-mb-px flex space-x-2 sm:space-x-4 px-3 sm:px-0 min-w-max sm:min-w-0"},j$={key:0,class:"space-y-4"},H$={key:0,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 sm:p-4 mb-3 sm:mb-4"},z$={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},F$=["disabled"],U$={key:1,class:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4 mb-3 sm:mb-4"},V$={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},W$={class:"flex-1 min-w-0"},q$={key:0,class:"text-xs sm:text-sm text-green-700 font-medium break-words"},K$={key:1,class:"text-xs sm:text-sm text-blue-700 break-words"},G$={class:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto"},X$=["disabled"],Y$={key:0,class:"flex items-center justify-center"},J$={key:1,class:"flex items-center justify-center"},Z$=["disabled"],Q$={key:0,class:"flex items-center justify-center"},eR={key:1,class:"flex items-center justify-center"},tR={class:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4"},sR={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0 mb-3 sm:mb-4"},iR={key:0,class:"mb-3 sm:mb-4 p-3 sm:p-4 bg-gray-50 rounded-lg border border-gray-200"},rR={class:"space-y-3"},oR=["value"],nR={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"},aR=["disabled"],lR={class:"space-y-2 sm:space-y-3"},cR={class:"flex items-start sm:items-center space-x-3 flex-1 min-w-0"},uR={class:"flex-1 min-w-0"},dR={class:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2"},hR={class:"text-sm sm:text-base font-medium text-gray-900 break-words"},fR={key:0,class:"text-xs text-gray-500 break-words"},pR={class:"flex flex-wrap items-center gap-1.5 sm:gap-2 mt-1.5 sm:mt-1"},mR={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800"},gR={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},vR={key:2,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800"},bR={key:3,class:"text-xs text-gray-500 whitespace-nowrap"},xR={class:"flex flex-wrap sm:flex-nowrap items-center gap-2 w-full sm:w-auto"},_R=["onClick","disabled","title"],yR={key:0,class:"flex items-center justify-center"},wR={key:1,class:"flex items-center justify-center"},kR={key:0,class:"w-3.5 h-3.5 sm:w-3 sm:h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},SR={key:1,class:"w-3.5 h-3.5 sm:w-3 sm:h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},CR=["onClick","disabled","title"],ER={key:0,class:"flex items-center justify-center"},AR={key:1,class:"flex items-center justify-center"},MR={class:"flex items-center space-x-1 sm:space-x-2"},TR=["onClick"],DR=["onClick"],LR={key:0,class:"text-center py-8 text-gray-500 text-sm"},$R={key:1,class:"space-y-3 sm:space-y-4"},RR={class:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 md:p-6"},BR={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0 mb-3 sm:mb-4"},PR={class:"text-xs text-gray-500"},OR={class:"space-y-2 sm:space-y-3"},IR={class:"flex items-start sm:items-center space-x-3 sm:space-x-4 flex-1 min-w-0"},NR={class:"flex-1 min-w-0"},jR={class:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 mb-1 sm:mb-1"},HR={class:"text-sm sm:text-base font-semibold text-gray-900 break-words"},zR={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 self-start sm:self-center"},FR={class:"flex flex-wrap items-center gap-1.5 sm:gap-2 mt-2"},UR={key:1,class:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800"},VR={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:space-x-2 sm:ml-4 w-full sm:w-auto"},WR=["onClick"],qR=["onClick","disabled"],KR={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},GR={key:1,class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},XR={key:0,class:"text-center py-12 text-gray-500"},YR={key:2,class:"space-y-3 sm:space-y-4"},JR={class:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4"},ZR={class:"cursor-pointer"},QR={class:"text-sm sm:text-base font-medium text-gray-700 mb-1.5 sm:mb-1 break-words"},eB={key:0,class:"mt-4 sm:mt-6 space-y-3 sm:space-y-4"},tB={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0 mb-3"},sB={class:"flex-1 min-w-0"},iB={class:"text-sm font-medium text-gray-900"},rB={key:0,class:"text-xs text-gray-500 mt-1 break-words"},oB=["onClick"],nB={class:"space-y-3"},aB={class:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2"},lB=["onChange"],cB={key:0,class:"text-xs text-green-600 break-words sm:break-normal"},uB={class:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2"},dB=["onChange"],hB={key:0,class:"text-xs text-green-600 break-words sm:break-normal"},fB={class:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2"},pB=["onChange"],mB={key:0,class:"text-xs text-green-600 break-words sm:break-normal"},gB={key:1,class:"text-xs text-gray-400"},vB=["onUpdate:modelValue","placeholder"],bB={class:"pt-3 sm:pt-4 border-t border-gray-200"},xB=["disabled"],_B={key:0,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},yB={key:5,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},wB={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] border border-white/20 animate-scale-in flex flex-col"},kB={class:"px-4 sm:px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-50 to-indigo-50"},SB={class:"flex items-center space-x-3"},CB={key:0,class:"text-xs sm:text-sm text-gray-600 mt-0.5"},EB={class:"flex-1 overflow-y-auto px-4 sm:px-6 py-4 sm:py-6"},AB={key:0,class:"flex items-center justify-center py-12"},MB={key:1,class:"space-y-6"},TB={class:"bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 p-4 sm:p-6 shadow-sm"},DB={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},LB={class:"mt-1 text-sm font-semibold text-gray-900"},$B={class:"mt-1"},RB={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},BB={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},PB={class:"mt-1 text-sm text-gray-900"},OB={class:"bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 p-4 sm:p-6 shadow-sm"},IB={class:"space-y-3"},NB={class:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200"},jB={class:"flex items-center space-x-3"},HB={class:"text-xs text-gray-500 mt-0.5 font-mono"},zB={key:0,class:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200"},FB={class:"flex items-center space-x-3"},UB={class:"text-xs text-gray-500 mt-0.5 font-mono"},VB={key:1,class:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200"},WB={class:"flex items-center space-x-3"},qB={class:"text-xs text-gray-500 mt-0.5 font-mono"},KB={key:0,class:"bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 p-4 sm:p-6 shadow-sm"},GB={class:"space-y-3"},XB={key:0},YB={class:"mt-1 text-sm text-gray-900 font-mono break-all"},JB={key:1},ZB={class:"mt-1 text-sm text-gray-900 font-mono break-all"},QB={key:2},eP={class:"mt-1 text-sm text-gray-900 font-mono"},tP={key:3},sP={class:"mt-1 text-sm text-gray-900 font-mono break-all"},iP={key:4},rP={class:"mt-2 space-y-1"},oP={class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},nP={key:0,"fill-rule":"evenodd",d:"M11.3 1.047A5 5 0 0115 6h-2.5a2.5 2.5 0 00-4.6-.544A2.5 2.5 0 005.5 8H3a3 3 0 100 6h2.5a2.5 2.5 0 004.6.544A5 5 0 1111.3 1.047zM9 8H5.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5H9v-4zm4.5 0H11v4h2.5a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5z","clip-rule":"evenodd"},aP={key:1,"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"},lP={key:1,class:"bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 p-4 sm:p-6 shadow-sm"},cP={class:"text-sm font-semibold text-gray-900 mb-4 flex items-center"},uP={class:"flex flex-wrap gap-2"},dP={key:2,class:"bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 p-4 sm:p-6 shadow-sm"},hP={key:2,class:"text-center py-12 text-gray-500"},fP={class:"px-4 sm:px-6 py-4 border-t border-gray-200 flex justify-end bg-gray-50/50"},pP={key:6,class:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in p-2 sm:p-4"},mP={class:"relative bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md border border-white/20 animate-scale-in"},gP={class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},vP={class:"px-4 sm:px-6 py-4 sm:py-5"},bP={key:0,class:"space-y-4"},xP=["value"],_P=["value"],yP={class:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3"},wP=Ai({__name:"Dashboard",setup(t){bi.register(El,Al,Cl,Wu,qu,Dl,to,Ll,ea,w7,D7,_7,p7);const e=V({general:{systemName:"XM",adminEmail:"xm@localhost"}}),s=Ht(()=>De.value.trim().length>0?ne.value==="list"?fe.value.trim().length>0:ne.value==="count"?xe.value.trim().length>0&&ae.value>0:!1:!1),r=Ht(()=>{const H=(Be.value-1)*Ye.value+1,f=Math.min(Be.value*Ye.value,st.value);return{start:H,end:f,total:st.value,current:Be.value,totalPages:qe.value}}),o=Ht(()=>Be.value>1),a=Ht(()=>Be.value<qe.value),l=async()=>{var oe,le,he,$e,we;const H=((oe=e.value.mail)==null?void 0:oe.domains)||[];if(H.length>0){const Ee=H[0].name;if(Ee&&Ee!=="localhost")return Ee}const f=((le=e.value.general)==null?void 0:le.adminEmail)||Ue.value;if(f&&f.includes("@")){const Ee=f.split("@")[1];if(Ee&&Ee!=="localhost")return Ee}const Z=(($e=(he=e.value.dns)==null?void 0:he.bind)==null?void 0:$e.domain)||((we=e.value.dns)==null?void 0:we.domain);if(Z&&Z!=="localhost")return Z;try{const Ee=await fetch("/api/system/domains",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(Ee.ok){const dt=await Ee.json();if(dt.success&&dt.domains&&Array.isArray(dt.domains)&&dt.domains.length>0){const kt=dt.domains.find(St=>{const ct=typeof St=="string"?St:St.name;return ct&&ct!=="localhost"});if(kt)return typeof kt=="string"?kt:kt.name}}}catch(Ee){console.warn(":",Ee)}try{const Ee=await fetch("/api/users",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(Ee.ok){const dt=await Ee.json();if(dt.users&&Array.isArray(dt.users)){const kt=dt.users.find(St=>St.username==="xm");if(kt&&kt.email&&kt.email.includes("@")){const St=kt.email.split("@")[1];if(St&&St!=="localhost")return St}}}}catch(Ee){console.warn(":",Ee)}return"skills.com"},n=async()=>{var H,f;try{const Z=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(Z.ok){const oe=await Z.json();oe.success&&(e.value={...e.value,...oe.settings,general:{...e.value.general,...oe.settings.general},mail:{...e.value.mail,...oe.settings.mail},dns:{...e.value.dns,...oe.settings.dns}},console.log(":",(H=e.value.general)==null?void 0:H.adminEmail),console.log(":",(f=e.value.mail)==null?void 0:f.domains),y())}}catch(Z){console.error(":",Z)}};function c(){J.value=!0,ne.value="list",fe.value="",xe.value="",ae.value=1,De.value="",Se.value="",Ce.value=[],Pe.value=!1}function u(){J.value=!1}function d(H){He.value.has(H)?He.value.delete(H):He.value.add(H)}function h(){He.value.size===ge.value.length?He.value.clear():(He.value.clear(),ge.value.forEach(H=>{H.username!=="xm"&&He.value.add(H.id)}))}function g(){if(He.value.size===0){q.value="",X.value="warning";return}Ne.value=!0}function _(){Ne.value=!1}async function w(){if(!Ve.value){Ve.value=!0;try{const H=Array.from(He.value),f=ge.value.filter(le=>H.includes(le.id));let Z=0,oe=0;for(const le of f)try{(await ht.post("/api/ops",{action:"user-del",params:{email:le.email}},{headers:ve()})).data.success?Z++:oe++}catch(he){console.error(` ${le.username} :`,he),oe++}await Mt(),He.value.clear(),Z>0?(q.value=` ${Z} `,oe>0&&(q.value+=`${oe} `),X.value="success"):(q.value="",X.value="error")}catch(H){console.error(":",H),q.value=""+H.message,X.value="error"}finally{Ve.value=!1,Ne.value=!1}}}function b(){st.value=ge.value.length,qe.value=Math.ceil(st.value/Ye.value),Be.value>qe.value&&qe.value>0&&(Be.value=qe.value);const H=(Be.value-1)*Ye.value,f=H+Ye.value;_t.value=ge.value.slice(H,f)}function m(H){H>=1&&H<=qe.value&&(Be.value=H,b())}function v(){o.value&&m(Be.value-1)}function p(){a.value&&m(Be.value+1)}function x(H){Ye.value=H,Be.value=1,b(),e.value.general&&(e.value.general.userPageSize=H),E()}function y(){var H;if((H=e.value.general)!=null&&H.userPageSize)Ye.value=e.value.general.userPageSize;else{const f=localStorage.getItem("userPageSize");f&&(Ye.value=parseInt(f))}}function E(){localStorage.setItem("userPageSize",Ye.value.toString())}async function A(H){try{const f=await ht.post("/api/ops",{action:"check-user-exists",params:{username:H}},{headers:ve()});return f.data.success&&f.data.exists}catch(f){return console.error(` ${H} :`,f),!1}}async function D(){if(Pe.value)return;const H=De.value.trim();if(!H){q.value="",X.value="error",Se.value="";return}Se.value="",Pe.value=!0,Ce.value=[];try{let f=[];if(ne.value==="list")f=fe.value.split(",").map(we=>we.trim()).filter(we=>we.length>0);else if(ne.value==="count"){f=[];for(let we=1;we<=ae.value;we++){const Ee=we.toString().padStart(2,"0");f.push(`${xe.value}${Ee}`)}}if(f.length===0)throw new Error("");const Z=await l();console.log(":",Z);for(const we of f)try{const Ee=`${we}@${Z}`;if(await A(we)){Ce.value.push({username:we,email:Ee,success:!1,reason:""});continue}const kt=await ht.post("/api/ops",{action:"app-register",params:{username:we,email:Ee,password:H}},{headers:ve()});if(kt.data.success)Ce.value.push({username:we,email:Ee,success:!0});else{let St="";kt.data.error?St=kt.data.error:kt.data.message&&(St=kt.data.message),Ce.value.push({username:we,email:Ee,success:!1,reason:St})}}catch(Ee){console.error(` ${we} :`,Ee);let dt="API";if(Ee.response){const kt=Ee.response.data;kt!=null&&kt.error?dt=kt.error:kt!=null&&kt.message?dt=kt.message:typeof kt=="string"?dt=kt:dt=`HTTP ${Ee.response.status}: ${Ee.response.statusText||""}`}else Ee.message&&(dt=Ee.message);Ce.value.push({username:we,email:`${we}@${Z}`,success:!1,reason:dt})}await Mt();const oe=Ce.value.filter(we=>we.success).length,le=Ce.value.filter(we=>!we.success&&we.reason==="").length,he=Ce.value.filter(we=>!we.success&&we.reason!=="").length,$e=Ce.value.length;if(oe>0){let we=` ${oe}/${$e} `;le>0&&(we+=` ${le} `),he>0&&(we+=`${he} `),q.value=we,X.value="success"}else le>0?(q.value=` ${le} `,X.value="warning"):(q.value="",X.value="error")}catch(f){console.error(":",f),q.value=""+f.message,X.value="error"}finally{Pe.value=!1}}const S=V(null),C=V(null),B=V(null),L=V(null),$=V("day"),P=V("user"),ie=V(!1),re=V(!1),I=V(!1),ue=V(!1),se=V(null);async function R(){var H,f;if(!S.value){console.warn(""),setTimeout(()=>R(),500);return}ie.value=!0,I.value=!1;try{console.log(":",$.value);const Z=await ht.get("/api/mail/stats/sending-trends",{params:{period:$.value},headers:ve()});console.log("API:",Z.data);const oe=Z.data.success&&Z.data.data?Z.data.data:[];if(I.value=oe.length===0,console.log(":",oe,":",oe.length),!oe||oe.length===0){console.log(""),I.value=!0;let le=[];const he=new Date;if($.value==="hour")for(let we=23;we>=0;we--){const Ee=new Date(he.getTime()-we*60*60*1e3);le.push(Ee.toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit"}))}else if($.value==="day")for(let we=29;we>=0;we--){const Ee=new Date(he.getTime()-we*24*60*60*1e3);le.push(Ee.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"}))}else for(let we=11;we>=0;we--){const Ee=new Date(he.getTime()-we*7*24*60*60*1e3),dt=Math.ceil(Ee.getDate()/7);le.push(`${Ee.getFullYear()}-W${dt}`)}const $e=new Array(le.length).fill(0);if(B.value&&(B.value.destroy(),B.value=null),await Bs(),!S.value){console.error("Canvas ");return}if(!document.contains(S.value)){console.error("Canvas  DOM "),setTimeout(()=>loadTrendAnalysis(),500);return}try{if(!S.value.getContext("2d")){console.error(" Canvas "),setTimeout(()=>loadTrendAnalysis(),500);return}}catch(we){console.error(" Canvas :",we),setTimeout(()=>loadTrendAnalysis(),500);return}B.value=new bi(S.value,{type:"line",data:{labels:le,datasets:[{label:"",data:$e,borderColor:"rgb(200, 200, 200)",backgroundColor:"rgba(200, 200, 200, 0.1)",fill:!0,tension:.4,yAxisID:"y",pointRadius:0,pointHoverRadius:0},{label:` (${$.value==="hour"?"/":"/"})`,data:$e,borderColor:"rgb(220, 220, 220)",backgroundColor:"rgba(220, 220, 220, 0.1)",fill:!0,tension:.4,yAxisID:"y1",pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!0,title:{display:!0,text:$.value==="hour"?" ()":$.value==="day"?"":""}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:" ()"},min:0,max:10},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:` (${$.value==="hour"?"/":"/"})`},grid:{drawOnChartArea:!1},min:0,max:1}}}})}else{console.log(":",oe),I.value=!1;const le=oe.map(Je=>Je.time_label||String(Je.time_label)),he=oe.map(Je=>{const is=Math.round(Number(Je.email_count)||0);return isNaN(is)?0:is}).filter(Je=>Je!=null),$e=((H=oe[0])==null?void 0:H.frequency_unit)||"day",we=oe.map(Je=>{const is=Number(Je.frequency_per_period||Je.frequency_per_hour)||0;return isNaN(is)?0:is}).filter(Je=>Je!=null),Ee=Math.min(le.length,he.length,we.length),dt=le.slice(0,Ee),kt=he.slice(0,Ee),St=we.slice(0,Ee),ct=$.value==="hour"?"/":"/";if(console.log(":",{labels:dt,emailCounts:kt,frequencies:St,frequencyUnit:$e,frequencyLabel:ct}),B.value&&(console.log(""),B.value.destroy(),B.value=null),await Bs(),!S.value){console.error("Canvas ");return}if(!document.contains(S.value)){console.error("Canvas  DOM "),setTimeout(()=>loadTrendAnalysis(),500);return}try{if(!S.value.getContext("2d")){console.error(" Canvas "),setTimeout(()=>loadTrendAnalysis(),500);return}}catch(Je){console.error(" Canvas :",Je),setTimeout(()=>loadTrendAnalysis(),500);return}console.log("Canvas:",S.value),console.log(":",{labels:le,emailCounts:he,frequencies:we});try{if(!dt||!kt||!St||dt.length===0||kt.length===0||St.length===0){console.error(""),I.value=!0;return}B.value=new bi(S.value,{type:"line",data:{labels:dt,datasets:[{label:"",data:kt,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,yAxisID:"y"},{label:` (${ct})`,data:St,borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",fill:!0,tension:.4,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!1},tooltip:{callbacks:{label:function(Je){if(Je.datasetIndex===0)return`: ${Math.round(Je.parsed.y)} `;{const is=$.value==="hour"?"/":"/",Rs=Je.parsed.y;let zs="";return Rs<.01?zs="< 0.01":Rs<.1||Rs<1?zs=Rs.toFixed(2):Rs<10?zs=Rs.toFixed(1):zs=Math.round(Rs).toString(),`: ${zs} ${is}`}}}}},scales:{x:{display:!0,title:{display:!0,text:$.value==="hour"?" ()":$.value==="day"?"":""}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:" ()"},ticks:{stepSize:1,callback:function(Je){return Math.round(Je)}}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:` (${ct})`},grid:{drawOnChartArea:!1},ticks:{callback:function(Je){return Je.toFixed(1)}}}}}}),console.log("")}catch(Je){if(console.error(":",Je),console.error(":",Je.message,Je.stack),I.value=!0,B.value){try{B.value.destroy()}catch(is){console.error(":",is)}B.value=null}console.warn("")}}}catch(Z){if(console.error(":",Z),console.error(":",((f=Z.response)==null?void 0:f.data)||Z.message),I.value=!0,S.value){const oe=new Date;let le=[];if($.value==="hour")for(let $e=23;$e>=0;$e--){const we=new Date(oe.getTime()-$e*60*60*1e3);le.push(we.toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit"}))}else if($.value==="day")for(let $e=29;$e>=0;$e--){const we=new Date(oe.getTime()-$e*24*60*60*1e3);le.push(we.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"}))}else for(let $e=11;$e>=0;$e--){const we=new Date(oe.getTime()-$e*7*24*60*60*1e3),Ee=Math.ceil(we.getDate()/7);le.push(`${we.getFullYear()}-W${Ee}`)}const he=new Array(le.length).fill(0);B.value&&(B.value.destroy(),B.value=null),await Bs(),B.value=new bi(S.value,{type:"line",data:{labels:le,datasets:[{label:"",data:he,borderColor:"rgb(200, 200, 200)",backgroundColor:"rgba(200, 200, 200, 0.1)",fill:!0,tension:.4,yAxisID:"y",pointRadius:0,pointHoverRadius:0},{label:` (${$.value==="hour"?"/":"/"})`,data:he,borderColor:"rgb(220, 220, 220)",backgroundColor:"rgba(220, 220, 220, 0.1)",fill:!0,tension:.4,yAxisID:"y1",pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!0,title:{display:!0,text:$.value==="hour"?" ()":$.value==="day"?"":""}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:" ()"},min:0,max:10},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:` (${$.value==="hour"?"/":"/"})`},grid:{drawOnChartArea:!1},min:0,max:1,ticks:{callback:function($e){return $e.toFixed(1)}}}}}})}}finally{ie.value=!1}}async function K(){var H;if(!C.value){console.warn(""),setTimeout(()=>K(),500);return}re.value=!0,ue.value=!1;try{console.log(":",P.value);const f=await ht.get("/api/mail/stats/frequency-analysis",{params:{group_by:P.value},headers:ve()});console.log("API:",f.data);const Z=f.data.success&&f.data.data?f.data.data:[];if(ue.value=Z.length===0,console.log(":",Z,":",Z.length),!Z||Z.length===0)console.log(""),ue.value=!0,L.value&&(L.value.destroy(),L.value=null),await Bs(),L.value=new bi(C.value,{type:"scatter",data:{datasets:[{label:P.value==="user"?"":"",data:[],backgroundColor:"rgba(200, 200, 200, 0.3)",borderColor:"rgb(200, 200, 200)",pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1},tooltip:{enabled:!1}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:" (/)"},min:0,max:10},y:{title:{display:!0,text:" ()"},min:0,max:10}}}});else{console.log(":",Z),ue.value=!1;const oe=Z.map(ct=>{const Je=Math.round(parseFloat(ct.total_emails)||0);return isNaN(Je)?0:Je}).filter(ct=>ct!=null),le=Z.map(ct=>{const Je=parseFloat(ct.frequency_per_day||ct.frequency_per_minute)||0;return isNaN(Je)?0:Je}).filter(ct=>ct!=null),he=Z.map(ct=>P.value==="user"?ct.identifier||ct.email||"":ct.identifier||"").filter(ct=>ct!=null&&ct!==""),$e=Math.min(he.length,oe.length,le.length),we=he.slice(0,$e),Ee=oe.slice(0,$e),dt=le.slice(0,$e);if(console.log(":",{frequencies:dt,totals:Ee,labels:we}),L.value&&(console.log(""),L.value.destroy(),L.value=null),await Bs(),!C.value){console.error("Canvas ");return}if(!document.contains(C.value)){console.error("Canvas  DOM "),setTimeout(()=>K(),500);return}try{if(!C.value.getContext("2d")){console.error(" Canvas "),setTimeout(()=>K(),500);return}}catch(ct){console.error(" Canvas :",ct),setTimeout(()=>K(),500);return}console.log("Canvas:",C.value),console.log(":",{frequencies:le,totals:oe,labels:he,data:Z});const kt=Z,St=P.value;if(!we||!Ee||!dt||we.length===0||Ee.length===0||dt.length===0){console.error(""),ue.value=!0;return}try{L.value=new bi(C.value,{type:"bar",data:{labels:we,datasets:[{type:"bar",label:P.value==="user"?"":"",data:Ee,backgroundColor:"rgba(168, 85, 247, 0.6)",borderColor:"rgb(168, 85, 247)",borderWidth:1,yAxisID:"y"},{type:"line",label:P.value==="user"?"":"",data:dt,backgroundColor:"rgba(59, 130, 246, 0.3)",borderColor:"rgb(59, 130, 246)",borderWidth:2,yAxisID:"y1",pointRadius:5,pointHoverRadius:7,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2,tension:.3,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!1},tooltip:{callbacks:{title:function(ct){const Je=ct[0].dataIndex,is=kt[Je];if(St==="user"){const Rs=(is==null?void 0:is.email)||"";return Rs?`${he[Je]} (${Rs})`:he[Je]}else return he[Je]},label:function(ct){const Je=ct.dataIndex;if(ct.datasetIndex===0)return`: ${Math.round(ct.parsed.y)} `;{const is=ct.parsed.y,Rs=oe[Je];let zs="",Vr="";return is<.01?(zs="< 0.01",Vr=""):is<.1?(zs=is.toFixed(2),Vr=""):is<1?(zs=is.toFixed(1),Vr=""):is<10?(zs=is.toFixed(1),Vr=""):(zs=Math.round(is).toString(),Vr=""),St==="day"&&Math.abs(Rs-is)<.01?`: ${Rs} `:`: ${zs} /`}}}}},scales:{x:{display:!0,title:{display:!0,text:P.value==="user"?"":""},ticks:{maxRotation:P.value==="user"?45:0,minRotation:P.value==="user"?45:0}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:" ()"},ticks:{stepSize:1,callback:function(ct){return Math.round(ct)}}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:" (/)"},grid:{drawOnChartArea:!1},ticks:{callback:function(ct){const Je=ct;return Je<.01?"< 0.01":Je<.1?Je.toFixed(2):Je<1||Je<10?Je.toFixed(1):Math.round(Je).toString()},stepSize:function(ct){const Je=ct.chart.scales.y1.max;return Je<1?.1:Je<5?.5:Je<10?1:2}}}}}}),console.log("")}catch(ct){if(console.error(":",ct),console.error(":",ct.message,ct.stack),ue.value=!0,L.value){try{L.value.destroy()}catch(Je){console.error(":",Je)}L.value=null}console.warn("")}}}catch(f){console.error(":",f),console.error(":",((H=f.response)==null?void 0:H.data)||f.message),ue.value=!0,C.value&&(L.value&&(L.value.destroy(),L.value=null),await Bs(),L.value=new bi(C.value,{type:"scatter",data:{datasets:[{label:P.value==="user"?"":"",data:[],backgroundColor:"rgba(200, 200, 200, 0.3)",borderColor:"rgb(200, 200, 200)",pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1},tooltip:{enabled:!1}},scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:" (/)"},min:0,max:10},y:{title:{display:!0,text:" ()"},min:0,max:10}}}}))}finally{re.value=!1}}Mi(async()=>{ft.logPageView("/dashboard"),y(),Mt(),n(),await Bs();const H=()=>{S.value&&C.value?(console.log(""),R(),K(),se.value=window.setInterval(()=>{console.log(""),R(),K()},3e4)):(console.log("500ms"),setTimeout(H,500))};setTimeout(H,500)}),oo(()=>{se.value&&(clearInterval(se.value),se.value=null),B.value&&B.value.destroy(),L.value&&L.value.destroy()});const G=V(""),U=V(""),pe=V(""),Ae=V(""),Me=V(""),ye=V(!1),W=V(""),O=V(""),q=V(""),X=V("info"),ge=V([]),z=V(!1),J=V(!1),ne=V("list"),fe=V(""),xe=V(""),ae=V(1),Ce=V([]),Pe=V(!1),De=V(""),Se=V(""),He=V(new Set),Ne=V(!1),Ve=V(!1),Be=V(1),Ye=V(10),st=V(0),qe=V(0),_t=V([]),wt=V(!1),at=V([]),rt=V(!1),Wt=V(!1),lt=V([]),it=V("restart"),_e=V(!1),j=V(!1),Ke=V(1),Ze=V(""),et=V("bind"),nt=V("system"),Gt=V("XM"),Ue=V("xm@localhost"),vt=V(!1),jt=V("full"),Ut=V(!1),Ft=V("7"),As=V(7),ds=V(!0),hs=V(!0),ys=V(!0),Zs=V(7),Ms=V(!1),ws=V(2),$s=V(0),Qs=V(0),di=V(!1),qt=V(""),Ti=V("CN"),Ts=V("Beijing"),wi=V("Beijing"),Wi=V("skills"),Di=V("system"),qi=V(""),Is=V(""),tt=V(1825),ee=V(""),Oe=V("CN"),We=V("Beijing"),Pt=V("Beijing"),fs=V("skills"),ns=V("system"),bs=V("CA Server"),ei=V(""),Li=V(10950),ir=V(!1),ls=V(!1),Xt=V({}),ps=V({}),ti=V(!1),ks=V([]),Ns=V([]),ms=V(""),vr=V("cn"),hi=V(""),br=V(!1),Ds=V({minBodyLines:0,maxCapsRatio:.8,maxExclamation:6,maxSpecialChars:8}),$i=V(null),Tn=V(!1),js=V(""),fi=V(""),si=V(!1),ho=V(!1),Nr=V(!1),ki=V("domains"),Ri=V([]),jr=V([]),Sc=Ht(()=>Ri.value.some(H=>H.sslConfigured&&H.certExists)),ja=Ht(()=>jr.value.filter(H=>{var Z;const f=((Z=H.name)==null?void 0:Z.toLowerCase())||"";return!f.includes("chain")&&!f.includes("ca-bundle")&&!f.includes("intermediate")&&!f.includes("_chain")&&!f.includes("-chain")})),xr=V(!1),ii=V(""),fo=V(""),Hs=V(!1),Dn=V(!1),Hr=V(!1),po=V(""),rr=V(!1),mo=V(!1),Ki=V(!1),zr=V(!1),Fr=V(null),go=V(""),vo=V(!1),$t=V(null),Ln=V(!1),Cc=V(null),Y=V(null),k=V(""),ce=V([]),me=V(!1),de=V(!1),Ie=V(null);function ve(){const H=sessionStorage.getItem("apiAuth")||"";return console.log(":",{token:H?"":"",length:H.length}),{Authorization:`Basic ${H}`}}async function Te(H,f){try{const{data:Z}=await ht.post("/api/ops",{action:H,params:f},{headers:ve()});if(!Z.opId)return{success:!1};const oe=H.startsWith("install-");let le=3e4;oe&&(H==="install-security"?le=2e5:le=12e4);const he=2e3;let $e=0;for(console.log(` ${H}  ${le/1e3} `);$e<le;){await new Promise(we=>setTimeout(we,he)),$e+=he;try{const Ee=(await ht.get(`/api/ops/${Z.opId}/log`,{headers:ve()})).data||"";if(Ee.includes("OPERATION_END")){const dt=Ee.match(/Exit code: (\d+)/);if(dt){const St=parseInt(dt[1]);return console.log(` ${H} : ${St}`),St===0?{success:!0,opId:Z.opId}:Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")?(console.log(` ${H} 0`),{success:!0,opId:Z.opId}):{success:!1,opId:Z.opId}}if(Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes(""))return console.log(` ${H} `),{success:!0,opId:Z.opId}}if(Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes(""))return console.log(` ${H} `),{success:!0,opId:Z.opId};if(Ee.includes("Exit code: 1")||Ee.includes("Exit code: 2")||Ee.includes("")||Ee.includes("")||Ee.includes(""))return console.log(` ${H} `),{success:!1,opId:Z.opId};$e%1e4===0&&console.log(` ${H} ...  ${$e/1e3} `)}catch(we){console.error(":",we)}}console.warn(` ${H} ${le/1e3}`);try{const Ee=(await ht.get(`/api/ops/${Z.opId}/log`,{headers:ve()})).data||"";if(Ee.includes("OPERATION_END")&&Ee.includes("Exit code: 0"))return console.log(` ${H} 0`),{success:!0,opId:Z.opId};if(Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes("")||Ee.includes(""))return console.log(` ${H} `),{success:!0,opId:Z.opId}}catch(we){console.error(":",we)}return{success:!1,opId:Z.opId}}catch(Z){return console.error("API:",Z),{success:!1}}}async function Ge(){var H,f;try{console.log("callEnvironmentCheck: "),mt(),rt.value=!0,ye.value=!0,W.value="",G.value="",O.value="",U.value=`...
`,console.log("callEnvironmentCheck: ");const Z=await Xe("check");if(console.log("callEnvironmentCheck: :",Z),!Z.success)throw new Error("");console.log("callEnvironmentCheck: ")}catch(Z){console.error(":",Z),W.value=((f=(H=Z.response)==null?void 0:H.data)==null?void 0:f.error)||Z.message||"",O.value="error",ye.value=!1,U.value?U.value+=`
 : ${W.value}
`:U.value=` : ${W.value}
`}}async function Xe(H,f){var Z,oe,le;try{G.value||(ye.value=!0,W.value="",G.value="",U.value||(U.value=""),O.value="");const{data:he}=await ht.post("/api/ops",{action:H,params:f},{headers:ve()});return G.value=he.opId,U.value&&!U.value.includes("...")?U.value+=`
...
`:U.value||(U.value="..."),O.value="running",new Promise($e=>{let we=0;const Ee=setInterval(async()=>{if(!G.value){clearInterval(Ee);return}we++;try{await ze()}catch(dt){console.error(":",dt)}if(O.value==="success"||O.value==="failed"){clearInterval(Ee),$e({success:O.value==="success",opId:G.value});return}we>120&&(clearInterval(Ee),ye.value&&(ye.value=!1),(U.value==="..."||U.value==="...")&&(U.value+=`
[] `),$e({success:!1,opId:G.value}))},500)})}catch(he){return W.value=((oe=(Z=he.response)==null?void 0:Z.data)==null?void 0:oe.error)||he.message||"",U.value=`: ${W.value}`,console.error("API:",he),ye.value=!1,((le=he.response)==null?void 0:le.status)===401&&(W.value="",U.value=""),{success:!1}}}async function ze(){var H,f;if(G.value)try{console.log("fetchLog: OpID:",G.value);const Z=await ht.get(`/api/ops/${G.value}/log`,{headers:ve()});if(Z.data&&Z.data.trim()){U.value=Z.data,console.log("fetchLog: :",Z.data.length);const oe=Z.data.match(/OPERATION_END\] Exit code:\s*(\d+)/);if(oe){const le=parseInt(oe[1]||"1",10);console.log("fetchLog: :",le),O.value=le===0?"success":"failed",ye.value=!1}!oe&&(Z.data.includes("")||Z.data.includes("")||Z.data.includes("")||Z.data.includes("")||Z.data.includes("")||Z.data.includes("")||Z.data.includes("")||Z.data.includes("")||Z.data.includes("===  ==="))&&(console.log("fetchLog: "),ye.value=!1,O.value="success")}else U.value="..."}catch(Z){console.error("fetchLog: :",Z),((H=Z.response)==null?void 0:H.status)===404?U.value="...":((f=Z.response)==null?void 0:f.status)===401?(console.error(":",Z),U.value+=`
[] `):(console.error(":",Z),U.value+=`
[] : ${Z.message}`)}}async function Mt(){try{z.value=!0,console.log("..."),console.log(":",ge.value);const H=await ht.post("/api/ops",{action:"query-users"},{headers:ve()});if(console.log("API:",H.data),console.log("response.data.success:",H.data.success),console.log("response.data.opId:",H.data.opId),H.data.success)if(H.data.users&&Array.isArray(H.data.users))console.log(":",H.data.users),ge.value=H.data.users,console.log(":",ge.value);else{const f=H.data.opId;if(console.log("opId:",!!f),f){console.log("OpID:",f);try{console.log(" pollForUsers "),await Ot(f),console.log("pollForUsers :",ge.value)}catch(Z){console.error("pollForUsers :",Z),console.error(":",Z.message),console.error(":",Z.stack),ge.value||(ge.value=[])}}}else console.error("APIresponse.data.successfalse"),console.error(":",H.data.error),console.error(":",H.data)}catch(H){console.error("loadUsers:",H),console.error(":",H.constructor.name),console.error(":",H.message),console.error(":",H.stack)}finally{z.value=!1,b()}}async function Ot(H){console.log("pollForUsers OpID:",H);const f=30;let Z=0;for(console.log(":",f);Z<f;)try{console.log(`${Z+1}OpID: ${H}`);const le=(await ht.get(`/api/ops/${H}/log`,{headers:ve()})).data;console.log(`${Z+1}:`,le);const he=le.split(`
`);for(const $e of he)if($e.includes("[JSON_OUTPUT]")){console.log("JSON_OUTPUT:",$e);try{const we=$e.indexOf("[JSON_OUTPUT]");if(we!==-1){const Ee=$e.substring(we+13).trim();console.log("JSON:",Ee);const dt=JSON.parse(Ee);if(console.log(":",dt),dt.success&&dt.users){console.log(":",dt.users),console.log(":",dt.users.length),ge.value=dt.users,console.log("users.value:",ge.value);return}}}catch(we){console.error(":",we)}}if(le.includes("[OPERATION_END]")){console.log("");break}Z++,await new Promise($e=>setTimeout($e,1e3))}catch(oe){console.error(":",oe);break}ge.value.length===0&&(console.warn(""),ge.value||(ge.value=[])),console.log("pollForUsers :",ge.value)}const bt=V(""),Ct=V(""),Tt=V(""),It=V("");async function Yt(){var H;if(Ct.value="",bt.value="",!!Me.value)try{const f=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(f.ok){const Z=await f.json();if(Z.success&&((H=Z.settings)!=null&&H.security)){const oe=Z.settings.security,le=oe.passwordMinLength||8,he=oe.requireSpecialChars||!1;let $e=`${le}`;if(he&&($e+=""),bt.value=$e,Me.value.length<le){Ct.value=`${le}`;return}if(he){const we=/[A-Z]/.test(Me.value),Ee=/[a-z]/.test(Me.value),dt=/[0-9]/.test(Me.value),kt=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Me.value);if(!we||!Ee||!dt||!kt){const St=[];we||St.push(""),Ee||St.push(""),dt||St.push(""),kt||St.push(""),Ct.value=`${St.join("")}`;return}}}}}catch{Me.value.length<8?(bt.value="8",Ct.value="8"):bt.value="8"}}async function pi(){if(Tt.value="",It.value="",!pe.value||!Ae.value||!Me.value){Tt.value="";return}if(Ct.value){Tt.value=Ct.value;return}try{ye.value=!0,console.log(":",{action:"app-register",username:pe.value,email:Ae.value,password:Me.value});const H=await ht.post("/api/ops",{action:"app-register",username:pe.value,email:Ae.value,password:Me.value},{headers:ve()});if(console.log("API:",H.data),H.data.success)It.value=` ${pe.value} `,pe.value="",Ae.value="",Me.value="",bt.value="",Ct.value="",await Mt(),setTimeout(()=>{It.value=""},3e3);else{let f="";H.data.error?f=H.data.error:H.data.message&&(f=H.data.message),Tt.value=f}}catch(H){console.error(":",H);let f="";if(H.response){const Z=H.response.data;Z!=null&&Z.error?f=Z.error:Z!=null&&Z.message?f=Z.message:typeof Z=="string"?f=Z:f=`HTTP ${H.response.status}: ${H.response.statusText||""}`}else H.message&&(f=H.message);Tt.value=f}finally{ye.value=!1}}function Bi(H){if(!H)return"";try{return new Date(H).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return""}}async function Gi(H){console.log("pollForDeleteResult OpID:",H);const f=30;let Z=0;for(;Z<f;)try{console.log(`${Z+1}OpID: ${H}`);const le=(await ht.get(`/api/ops/${H}/log`,{headers:ve()})).data;if(console.log(`${Z+1}:`,le),le.includes("[OPERATION_END]")){if(console.log(""),le.includes("[ERROR]"))throw console.error(""),new Error("");return}Z++,await new Promise(he=>setTimeout(he,1e3))}catch(oe){throw console.error(":",oe),oe}throw console.warn(""),new Error("")}const bo=V(!1),or=V(null),xo=V(!1),ss=V({originalUsername:"",username:"",email:"",password:""}),Pi=V("");function $n(H){ss.value={originalUsername:H.username,username:H.username,email:H.email,password:""},Pi.value="",xo.value=!0}function Wo(){xo.value=!1,ss.value={originalUsername:"",username:"",email:"",password:""},Pi.value=""}async function Ha(){var f,Z;if(!ss.value.username||!ss.value.email){Pi.value="";return}if(!/^[^\s@]+@([^\s@]+\.[^\s@]+|localhost)$/.test(ss.value.email)){Pi.value="";return}Pi.value="";try{ye.value=!0;const oe={username:ss.value.originalUsername};ss.value.username!==ss.value.originalUsername&&(oe.new_username=ss.value.username),ss.value.email&&(oe.email=ss.value.email),ss.value.password&&(oe.password=ss.value.password);const le=await ht.post("/api/ops",{action:"app-update",params:oe},{headers:ve()});if(le.data.success){const he=le.data.opId;if(he)try{await pollForResult(he)}catch(we){console.error(":",we)}await Mt(),xo.value=!1;let $e="";ss.value.username!==ss.value.originalUsername&&($e+=` "${ss.value.originalUsername}"  "${ss.value.username}"`),ss.value.password?$e+="":$e+="",q.value=$e,X.value="success",setTimeout(()=>{q.value=""},5e3)}else Pi.value=le.data.error||""}catch(oe){console.error(":",oe),Pi.value=((Z=(f=oe.response)==null?void 0:f.data)==null?void 0:Z.error)||oe.message||""}finally{ye.value=!1}}function Rn(H,f){or.value={username:H,email:f},bo.value=!0}function Bn(){bo.value=!1,or.value=null}async function za(){var Z,oe;if(!or.value)return;const{username:H,email:f}=or.value;console.log(""),bo.value=!1,or.value=null;try{ye.value=!0,W.value="",console.log(":",{action:"user-del",email:f}),console.log("API /api/ops");const le=await ht.post("/api/ops",{action:"user-del",email:f},{headers:ve()});if(console.log("API:",le.data),le.data.success){const he=le.data.opId;if(he){console.log("OpID:",he);try{await Gi(he),console.log("")}catch($e){console.error(":",$e)}}await Mt(),W.value=""}else W.value=le.data.error||""}catch(le){console.error(":",le),console.error(":",le.constructor.name),console.error(":",le.message),console.error(":",(Z=le.response)==null?void 0:Z.status),console.error(":",(oe=le.response)==null?void 0:oe.data),le.value=": "+(le.message||"")}finally{ye.value=!1}}function te(){ye.value=!1,W.value="",G.value="",U.value="",O.value="",_e.value=!0}function mt(){_e.value=!1,!G.value&&!ye.value&&(ye.value=!1,W.value="",U.value="",O.value="")}function Nt(){at.value=[],wt.value=!0}function yt(){console.log("closeInstallDialog called, showInstallDialog before:",wt.value),wt.value=!1,at.value=[],console.log("closeInstallDialog executed, showInstallDialog after:",wt.value)}function Jt(){vt.value=!0,jt.value="full"}function At(){vt.value=!1}async function Pn(){if(!ye.value)try{(await Xe("full-backup")).success?(q.value="",X.value="success"):(q.value=W.value||"",X.value="error")}finally{ye.value=!1,At()}}function zX(){Ut.value=!1}function Fg(){di.value=!0}function Fa(){di.value=!1}function Ug(){Nr.value=!0,ki.value="domains",Vg()}function Ec(){Nr.value=!1,xr.value=!1,ii.value="",fo.value="",Cc.value=null,Y.value=null,k.value="",ce.value=[]}async function Vg(){console.log("[SSL] SSL...");try{await Promise.all([Ur(),Ua(),Id(),qo()]),console.log("[SSL] SSL, HTTP:",Ki.value)}catch(H){console.error("[SSL] SSL:",H)}}async function Ur(){try{const H=await ht.get("/api/cert/domains",{headers:ve()});if(H.data.success){const f=H.data.domains||[];for(const Z of f){if(Z.certExists)try{const oe=await ht.get(`/api/cert/domains/${Z.name}/ssl-status`,{headers:ve()});oe.data.success&&(Z.sslConfigured=oe.data.configured||!1)}catch(oe){console.error(` ${Z.name} SSL:`,oe),Z.sslConfigured=!1}else Z.sslConfigured=!1;Z.sslConfiguring=!1,Z.sslDisabling=!1}Ri.value=f}}catch(H){console.error("SSL:",H)}}async function Ua(){try{const H=await ht.get("/api/cert/list",{headers:ve()});if(H.data.success){const f=H.data.certificates||[];jr.value=f.map(Z=>({...Z,deleting:!1}))}}catch(H){console.error(":",H)}}async function Id(){try{const H=await ht.get("/api/cert/ssl-status",{headers:ve()});H.data.success&&(Dn.value=H.data.enabled||!1)}catch(H){console.error("SSL:",H)}}async function qo(){try{console.log("[HTTP] HTTP...");const H=await ht.get("/api/cert/http-redirect-status",{headers:ve()});if(console.log("[HTTP] API:",JSON.stringify(H.data,null,2)),H.data.success){const f=Ki.value,Z=H.data.enabled===!0&&H.data.configuredDomains&&Array.isArray(H.data.configuredDomains)&&H.data.configuredDomains.length>0&&H.data.configuredDomains.some(oe=>oe&&oe.match(/^[a-zA-Z0-9.-]+$/));Ki.value=Z,console.log("[HTTP] :"),console.log("  - API enabled:",H.data.enabled),console.log("  - Apache:",H.data.apacheConfigValid),console.log("  - :",H.data.configFilesExist),console.log("  - :",H.data.configuredDomains),console.log("  - :",f,"->",Ki.value),Z?console.log("[HTTP]  HTTP:",H.data.configuredDomains.join(", ")):H.data.configFilesExist&&!H.data.apacheConfigValid?console.warn("[HTTP]  Apache"):H.data.configFilesExist?console.log("[HTTP]  HTTP"):console.log("[HTTP]  HTTP")}else console.warn("[HTTP] API:",H.data),Ki.value=!1}catch(H){console.error("HTTP:",H),Ki.value=!1}}async function Wg(){var H,f;if(!ii.value.trim()){q.value="",X.value="error",setTimeout(()=>{q.value=""},3e3);return}Hs.value=!0;try{const Z=await ht.post("/api/cert/domains",{domain:ii.value.trim(),certName:fo.value||null},{headers:ve()});Z.data.success?(q.value="SSL",X.value="success",ii.value="",fo.value="",xr.value=!1,await Ur(),setTimeout(()=>{q.value=""},3e3)):(q.value=Z.data.error||"SSL",X.value="error",setTimeout(()=>{q.value=""},5e3))}catch(Z){q.value="SSL: "+(((f=(H=Z.response)==null?void 0:H.data)==null?void 0:f.error)||Z.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}finally{Hs.value=!1}}async function qg(H){var f,Z,oe,le;if(!H.certExists){q.value="SSL",X.value="error",setTimeout(()=>{q.value=""},3e3);return}H.sslConfiguring=!0;try{const he=await ht.post(`/api/cert/domains/${H.name}/enable-ssl`,{},{headers:ve()});he.data.success?(q.value=he.data.message||"Apache SSL",X.value="success",await Ur(),setTimeout(()=>{q.value=""},8e3)):(q.value=he.data.error||he.data.message||"SSL",X.value="error",setTimeout(()=>{q.value=""},5e3))}catch(he){q.value="SSL: "+(((Z=(f=he.response)==null?void 0:f.data)==null?void 0:Z.error)||((le=(oe=he.response)==null?void 0:oe.data)==null?void 0:le.message)||he.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}finally{H.sslConfiguring=!1}}async function Kg(H){var f,Z,oe,le;if(confirm(` ${H.name} Apache SSLSSL VirtualHost`)){H.sslDisabling=!0;try{const he=await ht.post(`/api/cert/domains/${H.name}/disable-ssl`,{},{headers:ve()});he.data.success?(q.value=he.data.message||"SSL",X.value="success",await Ur(),setTimeout(()=>{q.value=""},5e3)):(q.value=he.data.error||he.data.message||"SSL",X.value="error",setTimeout(()=>{q.value=""},5e3))}catch(he){q.value="SSL: "+(((Z=(f=he.response)==null?void 0:f.data)==null?void 0:Z.error)||((le=(oe=he.response)==null?void 0:oe.data)==null?void 0:le.message)||he.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}finally{H.sslDisabling=!1}}}async function Gg(H){var f,Z;if(confirm(`SSL ${H} `))try{const oe=await ht.delete(`/api/cert/domains/${encodeURIComponent(H)}`,{headers:ve()});oe.data.success?(q.value="SSL",X.value="success",await Ur(),setTimeout(()=>{q.value=""},3e3)):(q.value=oe.data.error||"SSL",X.value="error",setTimeout(()=>{q.value=""},5e3))}catch(oe){q.value="SSL: "+(((Z=(f=oe.response)==null?void 0:f.data)==null?void 0:Z.error)||oe.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}}async function Xg(H){Fr.value=H,go.value=H.certName||"",zr.value=!0,jr.value.length===0&&await Ua()}async function Yg(){var H,f;if(Fr.value)try{const Z=await ht.put(`/api/cert/domains/${encodeURIComponent(Fr.value.name)}/cert`,{certName:go.value||null},{headers:ve()});Z.data.success?(q.value="",X.value="success",zr.value=!1,Fr.value=null,go.value="",await Ur(),setTimeout(()=>{q.value=""},3e3)):(q.value=Z.data.error||"",X.value="error",setTimeout(()=>{q.value=""},5e3))}catch(Z){q.value=": "+(((f=(H=Z.response)==null?void 0:H.data)==null?void 0:f.error)||Z.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}}function Jg(H){let f=H.replace(/\.(crt|pem|cer|key)$/i,"");f=f.replace(/[_-]?(chain|public|private)$/i,"");const Z=new RegExp("(?:www\\.)?([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\\.)+[a-z]{2,}","i"),oe=f.match(Z);if(oe)return oe[0].toLowerCase();const le=f.split(".");return le.length>=2?le.slice(0,-1).join("."):f}function Zg(H){const f=H.toLowerCase();return(f.endsWith(".key")||f.endsWith(".pem"))&&(f.includes("key")||f.includes("private"))?"key":f.includes("_chain")||f.includes("-chain")||f.includes("chain")||f.includes("ca-bundle")||f.includes("intermediate")?"chain":f.endsWith(".crt")||f.endsWith(".cer")||f.endsWith(".pem")||f.includes("_public")||f.includes("-public")||f.includes("public")?"cert":"unknown"}function Qg(H){var Z;H.preventDefault(),de.value=!1;const f=(Z=H.dataTransfer)==null?void 0:Z.files;f&&f.length>0&&Nd(Array.from(f))}function e1(H){const f=H.target;f.files&&f.files.length>0&&Nd(Array.from(f.files)),f&&(f.value="")}function Nd(H){const f=new Map;H.forEach(Z=>{const oe=Jg(Z.name),le=Zg(Z.name);f.has(oe)||f.set(oe,{keyFile:null,certFile:null,chainFile:null,domainName:oe});const he=f.get(oe);switch(le){case"key":he.keyFile||(he.keyFile=Z);break;case"cert":he.certFile||(he.certFile=Z);break;case"chain":he.chainFile||(he.chainFile=Z);break}}),f.forEach((Z,oe)=>{Z.certFile&&Z.keyFile&&ce.value.push({certFile:Z.certFile,keyFile:Z.keyFile,chainFile:Z.chainFile,certName:oe,domainName:oe,id:Date.now().toString()+Math.random().toString(36).substr(2,9)})}),ce.value.length===0&&(q.value="domain.com.key, domain.com_public.crt, domain.com_chain.crt",X.value="warning",setTimeout(()=>{q.value=""},5e3))}function t1(H){const f=ce.value.findIndex(Z=>Z.id===H);f>-1&&ce.value.splice(f,1)}function s1(H,f){const Z=H.target,oe=ce.value.find(le=>le.id===f);oe&&Z.files&&Z.files.length>0&&(oe.certFile=Z.files[0])}function i1(H,f){const Z=H.target,oe=ce.value.find(le=>le.id===f);oe&&Z.files&&Z.files.length>0&&(oe.keyFile=Z.files[0])}function r1(H,f){const Z=H.target,oe=ce.value.find(le=>le.id===f);oe&&Z.files&&Z.files.length>0&&(oe.chainFile=Z.files[0])}const jd=Ht(()=>ce.value.length>0&&ce.value.every(H=>H.certFile&&H.keyFile&&H.certName.trim()));async function o1(){var H,f,Z,oe;if(!jd.value){q.value="",X.value="error",setTimeout(()=>{q.value=""},3e3);return}me.value=!0,q.value="",X.value="info";try{const le=new FormData;ce.value.forEach(($e,we)=>{$e.certFile&&le.append(`cert_${we}`,$e.certFile),$e.keyFile&&le.append(`key_${we}`,$e.keyFile),$e.chainFile&&le.append(`chain_${we}`,$e.chainFile),le.append(`certName_${we}`,$e.certName.trim())}),le.append("count",ce.value.length.toString());const he=await ht.post("/api/cert/batch-upload",le,{headers:{...ve(),"Content-Type":"multipart/form-data"}});if(he.data&&he.data.success!==!1){const $e=he.data.results||[],we=$e.filter(St=>St.success).length,Ee=$e.length-we,dt=he.data.apacheConfiguredCount||$e.filter(St=>St.success&&St.apacheConfigured).length;let kt=he.data.message||` ${we} `;dt>0?(kt+="Apache SSL2-3HTTPSHTTPHTTPS",X.value="success"):Ee===0?X.value="success":X.value="warning",q.value=kt,ce.value=[],await Ua(),await Ur(),setTimeout(()=>{q.value=""},dt>0?1e4:8e3)}else q.value=((H=he.data)==null?void 0:H.error)||((f=he.data)==null?void 0:f.message)||"",X.value="error",setTimeout(()=>{q.value=""},5e3)}catch(le){q.value=": "+(((oe=(Z=le.response)==null?void 0:Z.data)==null?void 0:oe.error)||le.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}finally{me.value=!1}}async function n1(){var H,f;if(!po.value)if(Ri.value.length>0)po.value=Ri.value[0].name;else{q.value="SSL",X.value="error",setTimeout(()=>{q.value=""},3e3);return}Hr.value=!0;try{const Z=await ht.post("/api/ops",{action:"enable-ssl",params:{domain:po.value}},{headers:ve()});Z.data.success?(q.value="SSLApacheSSL/TLS",X.value="success",await Id(),setTimeout(()=>{q.value=""},5e3)):(q.value=Z.data.error||"SSL",X.value="error",setTimeout(()=>{q.value=""},5e3))}catch(Z){q.value="SSL: "+(((f=(H=Z.response)==null?void 0:H.data)==null?void 0:f.error)||Z.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}finally{Hr.value=!1}}async function a1(){var f,Z,oe,le;if(Ri.value.filter(he=>he.sslConfigured&&he.certExists).length===0){q.value='SSL"HTTPS"',X.value="error",setTimeout(()=>{q.value=""},5e3);return}rr.value=!0;try{console.log("[HTTP] HTTPHTTPS...");const he=await ht.post("/api/ops",{action:"enable-http-redirect",params:{}},{headers:ve()});if(console.log("[HTTP] API:",he.data),he.data.success){const $e=he.data.opId;console.log("[HTTP] ID:",$e),setTimeout(async()=>{try{const Ee=(await ht.get(`/api/ops/${$e}/log`,{headers:ve()})).data||"";console.log("[HTTP] :",Ee),Ee.includes("[ERROR]")||Ee.includes("")||Ee.includes("")?(q.value="HTTPHTTPSApache",X.value="warning",setTimeout(()=>{q.value=""},1e4)):Ee.includes("[SUCCESS]")||Ee.includes("")||Ee.includes("")?(q.value="HTTPHTTPSHTTPHTTPS2-3",X.value="success",await qo(),setTimeout(()=>{q.value=""},1e4)):(q.value="HTTPHTTPS2-3Apache",X.value="info",await qo(),setTimeout(()=>{q.value=""},1e4))}catch(we){console.error("[HTTP] :",we),q.value="HTTPHTTPS2-3Apache",X.value="info",await qo(),setTimeout(()=>{q.value=""},1e4)}},2e3),q.value="HTTPHTTPS...",X.value="info",await Promise.all([Ur(),qo()])}else{const $e=he.data.error||he.data.message||"HTTP";console.error("[HTTP] :",$e),q.value="HTTP: "+$e,X.value="error",setTimeout(()=>{q.value=""},8e3)}}catch(he){console.error("[HTTP] :",he);const $e=((Z=(f=he.response)==null?void 0:f.data)==null?void 0:Z.error)||((le=(oe=he.response)==null?void 0:oe.data)==null?void 0:le.message)||he.message||"";q.value="HTTP: "+$e,X.value="error",setTimeout(()=>{q.value=""},8e3)}finally{rr.value=!1}}async function l1(){var H,f,Z,oe;if(confirm("HTTPHTTPSHTTP")){mo.value=!0;try{console.log("[HTTP] HTTPHTTPS...");const le=await ht.post("/api/cert/disable-http-redirect",{},{headers:ve()});if(console.log("[HTTP] API:",le.data),le.data.success)q.value="HTTPHTTPSHTTPApache",X.value="success",await qo(),setTimeout(()=>{q.value=""},5e3);else{const he=le.data.error||le.data.message||"HTTP";console.error("[HTTP] :",he),q.value="HTTP: "+he,X.value="error",setTimeout(()=>{q.value=""},8e3)}}catch(le){console.error("[HTTP] :",le);const he=((f=(H=le.response)==null?void 0:H.data)==null?void 0:f.error)||((oe=(Z=le.response)==null?void 0:Z.data)==null?void 0:oe.message)||le.message||"";q.value="HTTP: "+he,X.value="error",setTimeout(()=>{q.value=""},8e3)}finally{mo.value=!1}}}function Hd(H){if(!H)return!1;try{const f=H.split("/");if(f.length===3){const Z=parseInt(f[0]),oe=parseInt(f[1])-1,le=parseInt(f[2]),he=new Date(Z,oe,le),$e=new Date,we=Math.ceil((he.getTime()-$e.getTime())/(1e3*60*60*24));return we>0&&we<=30}}catch(f){console.error(":",f)}return!1}async function c1(H){var f,Z;vo.value=!0,$t.value=null,Ln.value=!0;try{const oe=await ht.get(`/api/cert/${encodeURIComponent(H.name)}/details`,{headers:ve()});oe.data.success?$t.value=oe.data.certificate:(q.value=oe.data.error||"",X.value="error",setTimeout(()=>{q.value=""},5e3))}catch(oe){console.error(":",oe),q.value=": "+(((Z=(f=oe.response)==null?void 0:f.data)==null?void 0:Z.error)||oe.message||""),X.value="error",setTimeout(()=>{q.value=""},5e3)}finally{Ln.value=!1}}async function u1(H){var f,Z,oe,le,he,$e;if(confirm(` "${H.name}" 


- ${H.name}.crt
- ${H.name}.key
- ${H.name}.chain.crt

`)){H.deleting=!0;try{const we=await ht.delete(`/api/cert/${encodeURIComponent(H.name)}`,{headers:ve()});we.data.success?(q.value=we.data.message||"",X.value="success",await Ua(),setTimeout(()=>{q.value=""},3e3)):(q.value=we.data.error||we.data.message||"",X.value="error",we.data.usedByDomains&&we.data.usedByDomains.length>0&&(q.value+=`
: ${we.data.usedByDomains.join(", ")}`),setTimeout(()=>{q.value=""},8e3))}catch(we){console.error(":",we),q.value=": "+(((Z=(f=we.response)==null?void 0:f.data)==null?void 0:Z.error)||((le=(oe=we.response)==null?void 0:oe.data)==null?void 0:le.message)||we.message||""),X.value="error",($e=(he=we.response)==null?void 0:he.data)!=null&&$e.usedByDomains&&we.response.data.usedByDomains.length>0&&(q.value+=`
: ${we.response.data.usedByDomains.join(", ")}`),setTimeout(()=>{q.value=""},8e3)}finally{H.deleting=!1}}}async function d1(){if(console.log("executeCertRequest called"),!qt.value){alert("");return}Fa(),rt.value=!0,ye.value=!0,G.value="cert-request-"+Date.now(),U.value=`SSL...
`;try{const H=await Te("install-cert",{domain:qt.value,country:Ti.value,state:Ts.value,city:wi.value,organization:Wi.value,unit:Di.value,commonName:qi.value,email:Is.value,validity:tt.value,san:ee.value,caCountry:Oe.value,caState:We.value,caCity:Pt.value,caOrganization:fs.value,caUnit:ns.value,caCommonName:bs.value,caEmail:ei.value,caValidity:Li.value});H&&H.success?(U.value+=` SSL
`,U.value+=` : ${qt.value}
`,U.value+=` : ${tt.value}
`,U.value+=` : CA
`,U.value+=`
 SSL
`):(U.value+=` SSL
`,H&&"error"in H&&(U.value+=`: ${H.error}
`))}catch(H){console.error("Cert request error:",H),U.value+=` SSL: ${H.message}
`}ye.value=!1,console.log("Cert request completed")}async function h1(){try{const H=sessionStorage.getItem("apiAuth");if(!H){alert("");return}const f=await fetch("/api/cert/ca-cert",{method:"GET",headers:{Authorization:`Basic ${H}`}});if(!f.ok){const $e=await f.json().catch(()=>({error:""}));alert(`: ${$e.error||""}`);return}const Z=await f.text(),oe=new Blob([Z],{type:"application/x-x509-ca-cert"}),le=window.URL.createObjectURL(oe),he=document.createElement("a");he.href=le,he.download="cacert.pem",document.body.appendChild(he),he.click(),document.body.removeChild(he),window.URL.revokeObjectURL(le),alert(`


 Windows: """"""""
 Linux:  /usr/local/share/ca-certificates/  sudo update-ca-trust
 macOS: """"""`)}catch(H){console.error(":",H),alert(`: ${H.message}`)}}async function f1(){console.log("executeBackupSetup called"),console.log("backupInterval:",Ft.value),console.log("customDays:",As.value),console.log("backupDatabase:",ds.value),console.log("backupConfig:",hs.value),console.log("backupMaildir:",ys.value),console.log("retentionDays:",Zs.value);let H=7;Ft.value==="custom"?H=As.value||7:H=parseInt(Ft.value),console.log("Calculated interval days:",H),At(),rt.value=!0,ye.value=!0,G.value="backup-setup-"+Date.now(),U.value=`...
`;try{const f=await Te("setup-backup-cron",{interval:H,database:ds.value,config:hs.value,maildir:ys.value,retention:Zs.value,customTime:Ms.value,customHour:ws.value,customMinute:$s.value,customSecond:Qs.value});f&&f.success?(U.value+=` 
`,U.value+=` : ${H}
`,U.value+=` : ${p1()}
`,U.value+=` : ${Zs.value}
`,U.value+=`
 ...
`,U.value+=` 
`,U.value+=`
 
`,setTimeout(()=>{At()},2e3)):(U.value+=` 
`,f&&"error"in f&&(U.value+=`: ${f.error}
`))}catch(f){console.error("Backup setup error:",f),U.value+=` : ${f.message}
`}ye.value=!1,console.log("Backup setup completed")}function p1(){const H=[];return ds.value&&H.push(""),hs.value&&H.push(""),ys.value&&H.push(""),H.length>0?H.join(""):""}function m1(){ir.value=!0,Mc(),$i.value&&clearInterval($i.value),$i.value=setInterval(()=>{ir.value&&(console.log("Auto refreshing service status..."),Mc(!1))},3e3)}function Ac(){ir.value=!1,$i.value&&(clearInterval($i.value),$i.value=null)}async function Mc(H=!0){var f,Z,oe,le,he,$e,we,Ee,dt,kt;H&&(ls.value=!0);try{console.log("Loading service status..."),console.log("Auth header:",ve()),console.log("Testing API connectivity...");const St=await fetch("/api/test-status",{method:"GET",headers:{Authorization:ve().Authorization,"Content-Type":"application/json"}});if(console.log("Test API status:",St.status),St.ok){const Je=await St.json();console.log("Test API response:",Je)}else console.error("Test API failed:",St.statusText);const ct=await fetch("/api/system-status",{method:"GET",headers:{Authorization:ve().Authorization,"Content-Type":"application/json"}});if(console.log("Response status:",ct.status),console.log("Response ok:",ct.ok),console.log("Response headers:",ct.headers),ct.ok){const Je=await ct.json();console.log("API Response:",Je),console.log("Services data:",(f=Je.data)==null?void 0:f.services),Xt.value=((Z=Je.data)==null?void 0:Z.services)||{},console.log("Service statuses set to:",Xt.value),ps.value={timestamp:((le=(oe=Je.data)==null?void 0:oe.systemInfo)==null?void 0:le.timestamp)||new Date().toLocaleString(),loadAverage:(($e=(he=Je.data)==null?void 0:he.systemInfo)==null?void 0:$e.loadAverage)||"N/A",memoryUsage:((Ee=(we=Je.data)==null?void 0:we.systemInfo)==null?void 0:Ee.memoryUsage)||"N/A",diskUsage:((kt=(dt=Je.data)==null?void 0:dt.systemInfo)==null?void 0:kt.diskUsage)||"N/A"},console.log("System info set to:",ps.value)}else{console.error("Failed to load service status:",ct.statusText);const Je=await ct.text();console.error("Error response:",Je),Xt.value={postfix:{status:"unknown",lastCheck:new Date().toISOString()},dovecot:{status:"unknown",lastCheck:new Date().toISOString()},httpd:{status:"unknown",lastCheck:new Date().toISOString()},mariadb:{status:"unknown",lastCheck:new Date().toISOString()},named:{status:"unknown",lastCheck:new Date().toISOString()},firewalld:{status:"unknown",lastCheck:new Date().toISOString()},dispatcher:{status:"unknown",lastCheck:new Date().toISOString()},mail:{status:"unknown",lastCheck:new Date().toISOString()}},ps.value={timestamp:new Date().toLocaleString(),loadAverage:"N/A",memoryUsage:"N/A",diskUsage:"N/A"}}}catch(St){console.error("Error loading service status:",St),Xt.value={},ps.value={timestamp:new Date().toLocaleString(),loadAverage:"N/A",memoryUsage:"N/A",diskUsage:"N/A"}}finally{ls.value=!1}}async function g1(){await Mc(!0)}function Ko(H){switch(H){case"active":case"running":return"bg-green-500";case"inactive":case"stopped":return"bg-gray-400";case"failed":case"error":return"bg-red-500";default:return"bg-yellow-500"}}function mi(H){switch(H){case"active":case"running":return"";case"inactive":case"stopped":return"";case"failed":case"error":return"";default:return""}}oo(()=>{$i.value&&(clearInterval($i.value),$i.value=null)});function Va(H){console.log("toggleService called with:",H),console.log("Current selectedServices:",at.value);const f=at.value.indexOf(H);f>-1?(at.value.splice(f,1),console.log("Removed service:",H)):(at.value.push(H),console.log("Added service:",H)),console.log("Updated selectedServices:",at.value)}function v1(){lt.value=[],it.value="restart",Wt.value=!0}function Wa(){console.log("closeServiceManagementDialog called, showServiceManagementDialog before:",Wt.value),Wt.value=!1,lt.value=[],it.value="restart",console.log("closeServiceManagementDialog executed, showServiceManagementDialog after:",Wt.value)}function On(H){console.log("toggleRestartService called with:",H),console.log("Current selectedRestartServices:",lt.value);const f=lt.value.indexOf(H);f>-1?(lt.value.splice(f,1),console.log("Removed restart service:",H)):(lt.value.push(H),console.log("Added restart service:",H)),console.log("Updated selectedRestartServices:",lt.value)}let qa=!1;async function b1(){if(console.log("executeInstall called"),console.log("selectedServices:",at.value),console.log("selectedServices.length:",at.value.length),qa){console.log("");return}if(at.value.length===0){console.log("No services selected, returning");return}qa=!0,console.log("Starting installation process");const H=[...at.value];console.log("Services to install:",H),yt(),rt.value=!0,ye.value=!0,G.value="install-"+Date.now(),U.value=`...
`;const f={success:[],failed:[]};try{for(const oe of H){console.log("Installing service:",oe),U.value+=`
 ${Go(oe)}...
`;try{let le;switch(oe){case"mail":console.log("Calling install-mail"),le=await Te("install-mail");break;case"database":console.log("Calling install-database"),le=await Te("install-database");break;case"dns":console.log("Calling install-dns"),le=await Te("install-dns");break;case"security":console.log("Calling install-security"),le=await Te("install-security");break}le&&le.success?(f.success.push(oe),console.log(`Service ${oe} installed successfully`),U.value+=` ${Go(oe)} 
`):(f.failed.push(oe),console.log(`Service ${oe} installation failed`),U.value+=` ${Go(oe)} 
`)}catch(le){f.failed.push(oe),console.error(`Service ${oe} installation error:`,le),U.value+=` ${Go(oe)} : ${(le==null?void 0:le.message)||""}
`}}}catch(oe){console.error(":",oe),U.value+=`
 : ${(oe==null?void 0:oe.message)||""}
`}finally{qa=!1}console.log("Installation results:",f);const Z=_1(f);console.log("Installation summary:",Z),U.value&&(U.value+=Z),f.failed.length>0?(console.warn("Some services failed to install:",f.failed),U.value&&(U.value+=`
 : ${f.failed.length}
`)):U.value&&(U.value+=`
 
`),qa=!1,ye.value=!1,console.log("All services installation completed")}async function x1(){if(console.log("executeServiceAction called"),console.log("serviceAction:",it.value),console.log("selectedRestartServices:",lt.value),console.log("selectedRestartServices.length:",lt.value.length),lt.value.length===0){console.log("No services selected for",it.value,"returning");return}console.log("Starting",it.value,"process");const H=[...lt.value];console.log("Services to",it.value,":",H),Wa(),rt.value=!0,ye.value=!0,G.value=(it.value==="restart"?"restart-":"stop-")+Date.now(),U.value=`${it.value==="restart"?"":""}...
`;const f={success:[],failed:[]};for(const oe of H){console.log(it.value==="restart"?"Restarting":"Stopping","service:",oe),U.value+=`
${it.value==="restart"?"":""} ${Xo(oe)}...
`;try{let le;const he=it.value==="restart"?"restart":"stop";switch(oe){case"mail":console.log(`Calling ${he}-mail`),le=await Te(it.value==="restart"?"restart-mail":"stop-mail");break;case"database":console.log(`Calling ${he}-database`),le=await Te(it.value==="restart"?"restart-database":"stop-database");break;case"dns":console.log(`Calling ${he}-dns`),le=await Te(it.value==="restart"?"restart-dns":"stop-dns");break;case"security":console.log(`Calling ${he}-security`),le=await Te(it.value==="restart"?"restart-security":"stop-security");break;case"dispatcher":console.log(`Calling ${he}-dispatcher`),le=await Te(it.value==="restart"?"restart-dispatcher":"stop-dispatcher");break}le&&le.success?(f.success.push(oe),console.log(`Service ${oe} ${it.value}ed successfully`),U.value+=` ${Xo(oe)} ${it.value==="restart"?"":""}
`):(f.failed.push(oe),console.log(`Service ${oe} ${it.value} failed`),U.value+=` ${Xo(oe)} ${it.value==="restart"?"":""}
`)}catch(le){f.failed.push(oe),console.error(`Service ${oe} ${it.value} error:`,le),U.value+=` ${Xo(oe)} ${it.value==="restart"?"":""}: ${le.message}
`}}console.log("Action results:",f);const Z=y1(f,it.value);console.log("Action summary:",Z),U.value&&(U.value+=Z),f.failed.length>0?(console.warn("Some services failed to",it.value,":",f.failed),U.value&&(U.value+=`
 : ${f.failed.length}${it.value==="restart"?"":""}
`)):U.value&&(U.value+=`
 ${it.value==="restart"?"":""}
`),ye.value=!1,console.log("All services restart completed")}function _1(H){const{success:f,failed:Z}=H;let oe=`
===  ===
`;return f.length>0&&(oe+=`  (${f.length}):
`,f.forEach(le=>{const he=Go(le);oe+=`    ${he}
`})),Z.length>0&&(oe+=`  (${Z.length}):
`,Z.forEach(le=>{const he=Go(le);oe+=`    ${he}
`})),oe+=`========================
`,oe}function Go(H){return{mail:" (Postfix + Dovecot)",database:" (MariaDB)",dns:"DNS (Bind)",security:""}[H]||H}function Xo(H){return{mail:" (Postfix + Dovecot)",database:" (MariaDB)",dns:"DNS (Bind)",security:"",dispatcher:" (API)"}[H]||H}function y1(H,f){const{success:Z,failed:oe}=H,le=f==="restart"?"":"";let he=`
=== ${le} ===
`;return Z.length>0&&(he+=` ${le} (${Z.length}):
`,Z.forEach($e=>{he+=` ${Xo($e)}
`})),oe.length>0&&(he+=` ${le} (${oe.length}):
`,oe.forEach($e=>{he+=` ${Xo($e)}
`})),he+=`=======================
`,he}async function w1(){var H,f,Z;await n(),Ze.value="",Ke.value=1,et.value="bind",nt.value="system",Gt.value=((H=e.value.general)==null?void 0:H.systemName)||"XM",Ue.value=((f=e.value.general)==null?void 0:f.adminEmail)||"xm@localhost",console.log(":",Ue.value),console.log(":",(Z=e.value.general)==null?void 0:Z.adminEmail),j.value=!0}function Tc(){j.value=!1}async function k1(){ti.value=!0,await T1()}function Ka(){ti.value=!1}async function S1(){Tn.value=!0,await C1()}function Ga(){Tn.value=!1,js.value=""}async function C1(){var H;try{const f=sessionStorage.getItem("apiAuth");if(!f){console.error("");return}const Z=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${f}`}});if(Z.ok){const oe=await Z.json();oe.success&&oe.settings&&(fi.value=((H=oe.settings.broadcast)==null?void 0:H.message)||"",js.value=fi.value)}}catch(f){console.error(":",f)}}async function E1(){if(!js.value.trim()){q.value="",X.value="error";return}si.value=!0,q.value="",X.value="info";try{const H=sessionStorage.getItem("apiAuth");if(!H)throw new Error("");const f=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${H}`}});let Z={};if(f.ok){const he=await f.json();he.success&&he.settings&&(Z=he.settings)}const oe={...Z,broadcast:{message:js.value.trim(),updatedAt:new Date().toISOString()}},le=await fetch("/api/system-settings",{method:"POST",headers:{Authorization:`Basic ${H}`,"Content-Type":"application/json"},body:JSON.stringify({settings:oe})});if(le.ok){const he=await le.json();if(he.success)fi.value=js.value.trim(),q.value="",X.value="success",setTimeout(()=>{Ga()},2e3);else throw new Error(he.message||"")}else throw new Error("")}catch(H){console.error(":",H),q.value=`: ${H instanceof Error?H.message:""}`,X.value="error"}finally{si.value=!1}}function A1(){ho.value=!0}async function M1(){ho.value=!1,si.value=!0;try{const H=sessionStorage.getItem("apiAuth");if(!H)throw new Error("");const f=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${H}`}});let Z={};if(f.ok){const he=await f.json();he.success&&he.settings&&(Z=he.settings)}const oe={...Z,broadcast:{message:"",updatedAt:new Date().toISOString()}},le=await fetch("/api/system-settings",{method:"POST",headers:{Authorization:`Basic ${H}`,"Content-Type":"application/json"},body:JSON.stringify({settings:oe})});if(le.ok){const he=await le.json();if(he.success)fi.value="",js.value="",q.value="",X.value="success";else throw new Error(he.message||"")}else throw new Error("")}catch(H){console.error(":",H),q.value=`: ${H instanceof Error?H.message:""}`,X.value="error"}finally{si.value=!1}}async function T1(){var H,f;try{const Z=sessionStorage.getItem("apiAuth");if(!Z){console.error(""),ks.value=[{text:"",lang:"cn"},{text:"",lang:"cn"},{text:"",lang:"cn"},{text:"viagra",lang:"en"},{text:"casino",lang:"en"}],Ns.value=["xmtest.com"],Ds.value={minBodyLines:0,maxCapsRatio:.8,maxExclamation:6,maxSpecialChars:8};return}const oe=await fetch("/api/spam-filter/config",{headers:{Authorization:`Basic ${Z}`}});if(!oe.ok){const he=await oe.text();throw console.error(":",oe.status,":",he),new Error(`HTTP ${oe.status}: ${he}`)}const le=await oe.json();if(console.log(":",le),le.success&&le.data){const he=((H=le.data.keywords)==null?void 0:H.chinese)||[],$e=((f=le.data.keywords)==null?void 0:f.english)||[];ks.value=[...he.map(we=>({text:we,lang:"cn"})),...$e.map(we=>({text:we,lang:"en"}))],Ns.value=le.data.domainBlacklist||[],le.data.rules&&(Ds.value={minBodyLines:le.data.rules.minContentLines||0,maxCapsRatio:le.data.rules.uppercaseRatio||.8,maxExclamation:le.data.rules.maxExclamationMarks||6,maxSpecialChars:le.data.rules.maxSpecialChars||8}),console.log(":",{keywords:ks.value.length,domains:Ns.value.length,rules:Ds.value})}else throw new Error(le.message||"")}catch(Z){console.error(":",Z),ks.value=[{text:"",lang:"cn"},{text:"",lang:"cn"},{text:"",lang:"cn"},{text:"viagra",lang:"en"},{text:"casino",lang:"en"}],Ns.value=["xmtest.com"],Ds.value={minBodyLines:0,maxCapsRatio:.8,maxExclamation:6,maxSpecialChars:8}}}function zd(){ms.value.trim()&&(ks.value.push({text:ms.value.trim(),lang:vr.value}),ms.value="")}function D1(H){ks.value.splice(H,1)}function Fd(){hi.value.trim()&&(Ns.value.push(hi.value.trim()),hi.value="")}function L1(H){Ns.value.splice(H,1)}async function $1(){br.value=!0,q.value="",X.value="info";try{const H=sessionStorage.getItem("apiAuth");if(!H)throw new Error("");const f={chinese:ks.value.filter($e=>$e.lang==="cn").map($e=>$e.text),english:ks.value.filter($e=>$e.lang==="en").map($e=>$e.text)},Z={keywords:f,domainBlacklist:Ns.value||[],emailBlacklist:[],rules:{minContentLines:Ds.value.minBodyLines||0,uppercaseRatio:Ds.value.maxCapsRatio||.8,maxExclamationMarks:Ds.value.maxExclamation||6,maxSpecialChars:Ds.value.maxSpecialChars||8}};console.log("[] :",JSON.stringify(Z,null,2)),console.log("[]  - :",f.chinese.length,":",f.english.length),console.log("[] :",Z.domainBlacklist.length),q.value="...",X.value="info";const oe=await fetch("/api/spam-filter/config",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${H}`},body:JSON.stringify(Z)});console.log("[] HTTP:",oe.status,oe.statusText);const le=await oe.text();if(console.log("[] :",le),!oe.ok){let $e=le;try{const we=JSON.parse(le);$e=we.message||we.error||le}catch{}throw console.error("[] :",{status:oe.status,statusText:oe.statusText,message:$e}),new Error(` (${oe.status}): ${$e}`)}let he;try{he=JSON.parse(le)}catch($e){throw console.error("[] JSON:",$e),new Error("")}if(console.log("[] :",he),he.success)q.value="",X.value="success",console.log("[] "),setTimeout(()=>{Ka(),setTimeout(()=>{q.value=""},3e3)},1500);else{const $e=he.message||he.error||"";throw console.error("[] :",$e),new Error($e)}}catch(H){console.error("[] :",H),console.error("[] :",H instanceof Error?H.stack:"");let f="";H instanceof Error?f=H.message:typeof H=="string"?f=H:f=": "+JSON.stringify(H),q.value=`: ${f}`,X.value="error",setTimeout(()=>{X.value==="error"&&(q.value="")},5e3)}finally{br.value=!1}}async function R1(){var H,f;try{const Z=sessionStorage.getItem("apiAuth");if(!Z)throw new Error("");const oe={subject:"",content:"",from:"test@spam.com",to:"test@example.com"},he=await(await fetch("/api/spam-filter/check",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${Z}`},body:JSON.stringify(oe)})).json();if(he.success)if(he.isSpam){const $e=((H=he.violations)==null?void 0:H.map(Ee=>Ee.message).join(`
`))||"",we=((f=he.detectedKeywords)==null?void 0:f.join(", "))||"";q.value=`


${he.spamScore}
${$e}
${we}`,X.value="warning"}else q.value=`

`,X.value="success";else throw new Error(he.message||"")}catch(Z){console.error(":",Z),q.value=": "+(Z instanceof Error?Z.message:""),X.value="error"}}function B1(){Ze.value&&(Ke.value=2)}async function Ud(){var H;if(console.log("executeConfigure called"),console.log("configType:",nt.value),console.log("dnsType:",et.value),console.log("configDomain:",Ze.value),j.value=!1,rt.value=!0,ye.value=!0,G.value="configure-"+Date.now(),nt.value==="system"){U.value=`...
`;try{U.value+=`: ${Gt.value.trim()}
`,U.value+=`: ${Ue.value.trim()}
`;const Z=await(await fetch("/api/system-settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`},body:JSON.stringify({settings:{general:{systemName:Gt.value.trim(),adminEmail:Ue.value.trim()}}})})).json();if(Z.success){U.value+=`
 
`,q.value="",X.value="success",e.value.general.systemName=Gt.value.trim(),e.value.general.adminEmail=Ue.value.trim();try{await n(),U.value+=`
 : ${(H=e.value.general)==null?void 0:H.adminEmail}
`}catch(oe){U.value+=`
 
`,console.warn(":",oe)}}else throw new Error(Z.error||"")}catch(f){U.value+=`
 : ${f.message}
`,console.error("System configuration failed:",f),q.value="",X.value="error"}finally{ye.value=!1}}else if(nt.value==="dns"){U.value=`DNS...
`;try{if(et.value==="bind"){console.log("Configuring bind DNS"),U.value+=`
DNS (Bind)...
`;const f=await Vd();if(!f){U.value+=`
 IP
`,q.value="IPIP",X.value="error";return}U.value+=`
 IP: ${f}
`;const oe=await(await fetch("/api/dns/configure",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`},body:JSON.stringify({domain:Ze.value.trim(),serverIp:f,adminEmail:`xm@${Ze.value.trim()}`,enableRecursion:!0,enableForwarding:!0,upstreamDns:"8.8.8.8, 1.1.1.1"})})).json();if(!oe.success)throw new Error(oe.error||"DNS");if(U.value+=`
DNSAPIID: ${oe.opId}
`,oe.opId){U.value+=`
DNS...
`;const le=6e4,he=2e3;let $e=0;for(;$e<le;){await new Promise(we=>setTimeout(we,he)),$e+=he;try{const Ee=await(await fetch(`/api/ops/${oe.opId}/log`,{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}})).text();if(U.value=Ee,Ee.includes("OPERATION_END")||Ee.includes("DNS")||Ee.includes("")||Ee.includes("Bind DNS")){U.value+=`
 DNS
`,window.refreshAdminEmail&&window.refreshAdminEmail();break}if(Ee.includes("OPERATION_END")&&Ee.includes("Exit code: 1")){const dt=Ee.match(/\[OPERATION_END\].*Exit code: (\d+)/);if(dt&&dt[1]==="1"){U.value+=`
 DNS: 1
`;break}}}catch(we){console.error(":",we),U.value+=`
: ${we.message}
`}}$e>=le&&(U.value+=`
 DNS
`)}console.log("DNS configuration completed")}else if(et.value==="public"){console.log("Configuring public DNS"),U.value+=`
DNS...
`;const f=await Vd();if(!f){U.value+=`
 IP
`,q.value="IPIP",X.value="error";return}U.value+=`
 IP: ${f}
`;const oe=await(await fetch("/api/dns/public-configure",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`},body:JSON.stringify({domain:Ze.value.trim(),serverIp:f})})).json();if(!oe.success)throw new Error(oe.error||"DNS");if(U.value+=`
DNSAPIID: ${oe.opId}
`,oe.opId){U.value+=`
DNS...
`;const le=6e4,he=2e3;let $e=0;for(;$e<le;){await new Promise(we=>setTimeout(we,he)),$e+=he;try{const Ee=await(await fetch(`/api/ops/${oe.opId}/log`,{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}})).text();if(U.value=Ee,Ee.includes("OPERATION_END")||Ee.includes("DNS")||Ee.includes("")||Ee.includes("Apache")){U.value+=`
 DNS
`,window.refreshAdminEmail&&window.refreshAdminEmail();break}if(Ee.includes("Exit code: 1")||Ee.includes("DNS")||Ee.includes("")){U.value+=`
 DNS
`;break}}catch(we){console.error(":",we),U.value+=`
: ${we.message}
`}}$e>=le&&(U.value+=`
 DNS
`)}console.log("Public DNS configuration completed")}}catch(f){U.value+=`
 DNS: ${f.message}
`,console.error("DNS configuration failed:",f)}finally{ye.value=!1}}}async function Vd(){var H,f;try{const oe=await(await fetch("/api/system-status",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}})).json();return oe.success&&((f=(H=oe.data)==null?void 0:H.systemInfo)!=null&&f.serverIP)?(console.log("IP:",oe.data.systemInfo.serverIP),oe.data.systemInfo.serverIP):(console.warn("APIIP:",oe),await Wd())}catch(Z){return console.error("IP:",Z),await Wd()}}async function Wd(){var H,f,Z;try{const le=await(await fetch("/api/system-settings",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}})).json();if(le.success&&((Z=(f=(H=le.settings)==null?void 0:H.dns)==null?void 0:f.bind)!=null&&Z.serverIp))return console.log("IP:",le.settings.dns.bind.serverIp),le.settings.dns.bind.serverIp}catch(oe){console.error("IP:",oe)}return console.error("IP"),null}return(H,f)=>(M(),zo(vc,null,{default:Bt(()=>{var Z,oe,le,he,$e,we,Ee,dt,kt,St,ct,Je,is,Rs,zs,Vr,qd,Kd,Gd,Xd,Yd,Jd;return[i("div",j7,[f[496]||(f[496]=i("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},[i("div",{class:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full opacity-20 animate-float"}),i("div",{class:"absolute top-40 right-20 w-24 h-24 bg-gradient-to-r from-green-400 to-blue-500 rounded-full opacity-15 animate-float-delayed"}),i("div",{class:"absolute bottom-20 left-1/4 w-40 h-40 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-10 animate-float-slow"}),i("div",{class:"absolute bottom-40 right-1/3 w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full opacity-20 animate-float-reverse"}),i("div",{class:"absolute inset-0 bg-grid-pattern opacity-5"})],-1)),i("div",H7,[i("div",z7,[i("div",F7,[f[138]||(f[138]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},[i("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]),be("  ")],-1)),i("div",U7,[i("button",{onClick:f[0]||(f[0]=()=>{Dt(ft).logButtonClick("",""),te()}),class:"group relative overflow-hidden bg-gradient-to-br from-cyan-500 via-blue-500 to-indigo-600 hover:from-cyan-600 hover:via-blue-600 hover:to-indigo-700 text-white px-3 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-cyan-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none animate-bounce-in",style:{"animation-delay":"0.1s"}},[...f[133]||(f[133]=[i("div",{class:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"},null,-1),i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),i("span",{class:"text-xs sm:text-sm font-semibold"},"")],-1)])]),i("button",{onClick:f[1]||(f[1]=()=>{Dt(ft).logButtonClick("",""),Nt()}),disabled:ye.value,class:"group relative overflow-hidden bg-gradient-to-br from-violet-500 via-purple-500 to-fuchsia-600 hover:from-violet-600 hover:via-purple-600 hover:to-fuchsia-700 text-white px-3 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-violet-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none animate-bounce-in",style:{"animation-delay":"0.3s"}},[...f[134]||(f[134]=[i("div",{class:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"},null,-1),i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 group-hover:translate-y-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),i("span",{class:"text-xs sm:text-sm font-semibold"},"")],-1)])],8,V7),i("button",{onClick:f[2]||(f[2]=()=>{Dt(ft).logButtonClick("",""),w1()}),disabled:ye.value,class:"group relative overflow-hidden bg-gradient-to-br from-rose-500 via-pink-500 to-red-600 hover:from-rose-600 hover:via-pink-600 hover:to-red-700 text-white px-3 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-rose-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none animate-bounce-in",style:{"animation-delay":"0.4s"}},[...f[135]||(f[135]=[i("div",{class:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"},null,-1),i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]),i("span",{class:"text-xs sm:text-sm font-semibold"},"")],-1)])],8,W7),i("button",{onClick:f[3]||(f[3]=()=>{Dt(ft).logButtonClick("",""),v1()}),disabled:ye.value,class:"group relative overflow-hidden bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 hover:from-orange-600 hover:via-red-600 hover:to-pink-600 text-white px-3 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-orange-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none animate-bounce-in",style:{"animation-delay":"0.5s"}},[...f[136]||(f[136]=[i("div",{class:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1),i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]),i("span",{class:"text-xs sm:text-sm font-semibold"},"")],-1)])],8,q7),i("button",{onClick:f[4]||(f[4]=()=>{Dt(ft).logButtonClick("",""),m1()}),disabled:ye.value,class:"group relative overflow-hidden bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-500 hover:from-blue-600 hover:via-indigo-600 hover:to-purple-600 text-white px-3 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none animate-bounce-in",style:{"animation-delay":"0.6s"}},[...f[137]||(f[137]=[i("div",{class:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1),i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),i("span",{class:"text-xs sm:text-sm font-semibold"},"")],-1)])],8,K7)])])]),i("div",G7,[i("div",X7,[f[144]||(f[144]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},[i("svg",{class:"w-5 h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),be("  ")],-1)),i("div",Y7,[i("button",{onClick:f[5]||(f[5]=()=>{Dt(ft).logButtonClick("",""),Fg()}),disabled:ye.value,class:"advanced-feature-card advanced-feature-card-amber group relative bg-white/90 backdrop-blur-sm border-2 border-amber-200 text-gray-800 px-3 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl shadow-md focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:border-gray-200 animate-slide-in-left",style:{"animation-delay":"0.4s"}},[...f[139]||(f[139]=[i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2 z-10"},[i("div",{class:"advanced-feature-icon-wrapper p-1.5 sm:p-2 rounded-lg bg-amber-50 group-hover:bg-amber-100 transition-colors duration-300"},[i("svg",{class:"advanced-feature-icon h-5 w-5 sm:h-6 sm:w-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])]),i("span",{class:"advanced-feature-text text-xs sm:text-sm font-semibold text-gray-700"},"")],-1)])],8,J7),i("button",{onClick:f[6]||(f[6]=()=>{Dt(ft).logButtonClick("",""),Jt()}),disabled:ye.value,class:"advanced-feature-card advanced-feature-card-blue group relative bg-white/90 backdrop-blur-sm border-2 border-blue-200 text-gray-800 px-3 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:border-gray-200 animate-slide-in-left",style:{"animation-delay":"0.7s"}},[...f[140]||(f[140]=[i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2 z-10"},[i("div",{class:"advanced-feature-icon-wrapper p-1.5 sm:p-2 rounded-lg bg-blue-50 group-hover:bg-blue-100 transition-colors duration-300"},[i("svg",{class:"advanced-feature-icon h-5 w-5 sm:h-6 sm:w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})])]),i("span",{class:"advanced-feature-text text-xs sm:text-sm font-semibold text-gray-700"},"")],-1)])],8,Z7),i("button",{onClick:f[7]||(f[7]=()=>{Dt(ft).logButtonClick("SSL",""),Ug()}),disabled:ye.value,class:"advanced-feature-card advanced-feature-card-green group relative bg-white/90 backdrop-blur-sm border-2 border-green-200 text-gray-800 px-3 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl shadow-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:border-gray-200 animate-slide-in-left",style:{"animation-delay":"0.9s"}},[...f[141]||(f[141]=[i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2 z-10"},[i("div",{class:"advanced-feature-icon-wrapper p-1.5 sm:p-2 rounded-lg bg-green-50 group-hover:bg-green-100 transition-colors duration-300"},[i("svg",{class:"advanced-feature-icon h-5 w-5 sm:h-6 sm:w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])]),i("span",{class:"advanced-feature-text text-xs sm:text-sm font-semibold text-gray-700"},"SSL")],-1)])],8,Q7),i("button",{onClick:f[8]||(f[8]=()=>{Dt(ft).logButtonClick("",""),k1()}),disabled:ye.value,class:"advanced-feature-card advanced-feature-card-orange group relative bg-white/90 backdrop-blur-sm border-2 border-rose-200 text-gray-800 px-3 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl shadow-md focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:border-gray-200 animate-slide-in-left",style:{"animation-delay":"0.9s"}},[...f[142]||(f[142]=[i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2 z-10"},[i("div",{class:"advanced-feature-icon-wrapper p-1.5 sm:p-2 rounded-lg bg-rose-50 group-hover:bg-rose-100 transition-colors duration-300"},[i("svg",{class:"advanced-feature-icon h-5 w-5 sm:h-6 sm:w-6 text-rose-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),i("span",{class:"advanced-feature-text text-xs sm:text-sm font-semibold text-gray-700"},"")],-1)])],8,eE),i("button",{onClick:f[9]||(f[9]=()=>{Dt(ft).logButtonClick("",""),S1()}),disabled:ye.value,class:"advanced-feature-card advanced-feature-card-blue group relative bg-white/90 backdrop-blur-sm border-2 border-blue-200 text-gray-800 px-3 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:border-gray-200 animate-slide-in-left",style:{"animation-delay":"1.0s"}},[...f[143]||(f[143]=[i("div",{class:"relative flex flex-col items-center space-y-1 sm:space-y-2 z-10"},[i("div",{class:"advanced-feature-icon-wrapper p-1.5 sm:p-2 rounded-lg bg-blue-50 group-hover:bg-blue-100 transition-colors duration-300"},[i("svg",{class:"advanced-feature-icon h-5 w-5 sm:h-6 sm:w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})])]),i("span",{class:"advanced-feature-text text-xs sm:text-sm font-semibold text-gray-700"},"")],-1)])],8,tE)])])]),vt.value?(M(),T("div",sE,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:At}),i("div",iE,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white/95 backdrop-blur-sm z-10"},[f[146]||(f[146]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:At,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[145]||(f[145]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",rE,[i("div",oE,[i("nav",nE,[i("button",{onClick:f[10]||(f[10]=F=>jt.value="full"),class:Le(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",jt.value==="full"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[...f[147]||(f[147]=[i("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1),be("  ",-1)])],2),i("button",{onClick:f[11]||(f[11]=F=>jt.value="scheduled"),class:Le(["py-2 px-4 text-sm font-medium border-b-2 transition-colors",jt.value==="scheduled"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[...f[148]||(f[148]=[i("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),be("  ",-1)])],2)])]),jt.value==="full"?(M(),T("div",aE,[i("div",lE,[f[150]||(f[150]=i("div",{class:"flex items-center justify-between mb-4"},[i("div",null,[i("h4",{class:"text-lg font-medium text-blue-900 mb-2"},""),i("p",{class:"text-sm text-blue-700"},"")]),i("div",{class:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center"},[i("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})])])],-1)),f[151]||(f[151]=i("div",{class:"bg-white rounded-lg p-4 mb-4"},[i("h5",{class:"text-sm font-medium text-gray-900 mb-3"},""),i("ul",{class:"space-y-2 text-sm text-gray-600"},[i("li",{class:"flex items-center"},[i("svg",{class:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),be(" MariaDB ")]),i("li",{class:"flex items-center"},[i("svg",{class:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),be(" Postfix, Dovecot, Apache ")]),i("li",{class:"flex items-center"},[i("svg",{class:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),be(" /var/vmail ")])])],-1)),i("button",{onClick:Pn,disabled:ye.value,class:"w-full px-6 py-3 text-base font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg transition-colors shadow-lg hover:shadow-xl"},[ye.value?(M(),T("svg",uE,[...f[149]||(f[149]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Q("",!0),be(" "+N(ye.value?"...":""),1)],8,cE)])])):Q("",!0),jt.value==="scheduled"?(M(),T("div",dE,[i("div",null,[f[164]||(f[164]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",hE,[i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-all cursor-pointer",{"border-blue-500 bg-blue-50":Ft.value==="custom"}]),onClick:f[13]||(f[13]=F=>Ft.value="custom")},[i("div",fE,[i("input",{type:"radio",checked:Ft.value==="custom",class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,8,pE),i("div",mE,[f[153]||(f[153]=i("h5",{class:"text-sm font-medium text-gray-900"},"",-1)),f[154]||(f[154]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1)),i("div",gE,[Re(i("input",{"onUpdate:modelValue":f[12]||(f[12]=F=>As.value=F),type:"number",min:"1",max:"365",placeholder:"",class:"w-20 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,As.value]]),f[152]||(f[152]=i("span",{class:"text-sm text-gray-600"},"",-1))])])])],2),i("div",vE,[i("div",bE,[Re(i("input",{"onUpdate:modelValue":f[14]||(f[14]=F=>Ms.value=F),type:"checkbox",class:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"},null,512),[[on,Ms.value]]),i("div",xE,[f[158]||(f[158]=i("h5",{class:"text-sm font-medium text-gray-900"},"",-1)),f[159]||(f[159]=i("p",{class:"text-xs text-gray-500 mt-1"},"::",-1)),Ms.value?(M(),T("div",_E,[i("div",null,[f[155]||(f[155]=i("label",{class:"block text-xs text-gray-600 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[15]||(f[15]=F=>ws.value=F),type:"number",min:"0",max:"23",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"},null,512),[[je,ws.value]])]),i("div",null,[f[156]||(f[156]=i("label",{class:"block text-xs text-gray-600 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[16]||(f[16]=F=>$s.value=F),type:"number",min:"0",max:"59",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"},null,512),[[je,$s.value]])]),i("div",null,[f[157]||(f[157]=i("label",{class:"block text-xs text-gray-600 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[17]||(f[17]=F=>Qs.value=F),type:"number",min:"0",max:"59",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"},null,512),[[je,Qs.value]])])])):Q("",!0),Ms.value?(M(),T("div",yE," : "+N(String(ws.value).padStart(2,"0"))+":"+N(String($s.value).padStart(2,"0"))+":"+N(String(Qs.value).padStart(2,"0")),1)):Q("",!0)])])]),i("div",wE,[i("div",{class:Le(["border border-gray-200 rounded-lg p-3 hover:border-green-300 hover:bg-green-50 transition-all cursor-pointer",{"border-green-500 bg-green-50":Ft.value==="1"}]),onClick:f[18]||(f[18]=F=>Ft.value="1")},[i("div",kE,[i("input",{type:"radio",checked:Ft.value==="1",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"},null,8,SE),f[160]||(f[160]=i("div",null,[i("h5",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500"},"2")],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-3 hover:border-orange-300 hover:bg-orange-50 transition-all cursor-pointer",{"border-orange-500 bg-orange-50":Ft.value==="3"}]),onClick:f[19]||(f[19]=F=>Ft.value="3")},[i("div",CE,[i("input",{type:"radio",checked:Ft.value==="3",class:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300"},null,8,EE),f[161]||(f[161]=i("div",null,[i("h5",{class:"text-sm font-medium text-gray-900"},"3"),i("p",{class:"text-xs text-gray-500"},"32")],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-3 hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer",{"border-purple-500 bg-purple-50":Ft.value==="7"}]),onClick:f[20]||(f[20]=F=>Ft.value="7")},[i("div",AE,[i("input",{type:"radio",checked:Ft.value==="7",class:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"},null,8,ME),f[162]||(f[162]=i("div",null,[i("h5",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500"},"2")],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-3 hover:border-red-300 hover:bg-red-50 transition-all cursor-pointer",{"border-red-500 bg-red-50":Ft.value==="30"}]),onClick:f[21]||(f[21]=F=>Ft.value="30")},[i("div",TE,[i("input",{type:"radio",checked:Ft.value==="30",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"},null,8,DE),f[163]||(f[163]=i("div",null,[i("h5",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500"},"12")],-1))])],2)])])]),i("div",null,[f[168]||(f[168]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",LE,[i("label",$E,[Re(i("input",{"onUpdate:modelValue":f[22]||(f[22]=F=>ds.value=F),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[on,ds.value]]),f[165]||(f[165]=i("span",{class:"text-sm text-gray-700"}," (MariaDB)",-1))]),i("label",RE,[Re(i("input",{"onUpdate:modelValue":f[23]||(f[23]=F=>hs.value=F),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[on,hs.value]]),f[166]||(f[166]=i("span",{class:"text-sm text-gray-700"}," (Postfix, Dovecot, Apache)",-1))]),i("label",BE,[Re(i("input",{"onUpdate:modelValue":f[24]||(f[24]=F=>ys.value=F),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[on,ys.value]]),f[167]||(f[167]=i("span",{class:"text-sm text-gray-700"}," (/var/vmail)",-1))])])]),i("div",null,[f[171]||(f[171]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",PE,[f[169]||(f[169]=i("label",{class:"text-sm text-gray-700"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[25]||(f[25]=F=>Zs.value=F),type:"number",min:"1",max:"365",placeholder:"7",class:"w-20 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Zs.value]]),f[170]||(f[170]=i("span",{class:"text-sm text-gray-600"},"",-1))]),f[172]||(f[172]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))])])):Q("",!0)]),i("div",OE,[i("button",{onClick:At,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors order-2 sm:order-1"},"  "),jt.value==="scheduled"?(M(),T("button",{key:0,onClick:f1,disabled:!ds.value&&!hs.value&&!ys.value,class:"px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors order-1 sm:order-2"},"  ",8,IE)):Q("",!0)])])])):Q("",!0),Q("",!0),di.value?(M(),T("div",NE,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Fa}),i("div",jE,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[197]||(f[197]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"SSL",-1)),i("button",{onClick:Fa,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[196]||(f[196]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",HE,[i("div",zE,[i("div",null,[f[198]||(f[198]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[40]||(f[40]=F=>qt.value=F),type:"text",placeholder:"example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,qt.value]])]),i("div",null,[f[208]||(f[208]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"CA",-1)),i("div",FE,[i("div",null,[f[199]||(f[199]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[41]||(f[41]=F=>Oe.value=F),type:"text",placeholder:"CN",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Oe.value]])]),i("div",null,[f[200]||(f[200]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[42]||(f[42]=F=>We.value=F),type:"text",placeholder:"Beijing",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,We.value]])]),i("div",null,[f[201]||(f[201]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[43]||(f[43]=F=>Pt.value=F),type:"text",placeholder:"Beijing",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Pt.value]])]),i("div",null,[f[202]||(f[202]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[44]||(f[44]=F=>fs.value=F),type:"text",placeholder:"skills",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,fs.value]])]),i("div",null,[f[203]||(f[203]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[45]||(f[45]=F=>ns.value=F),type:"text",placeholder:"system",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,ns.value]])]),i("div",null,[f[204]||(f[204]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[46]||(f[46]=F=>bs.value=F),type:"text",placeholder:"CA Server",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,bs.value]])]),i("div",null,[f[205]||(f[205]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[47]||(f[47]=F=>ei.value=F),type:"email",placeholder:"ca@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,ei.value]])]),i("div",null,[f[206]||(f[206]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[48]||(f[48]=F=>Li.value=F),type:"number",min:"3650",max:"36500",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Li.value]]),f[207]||(f[207]=i("p",{class:"text-xs text-gray-500 mt-1"},"3010950",-1))])])]),i("div",null,[f[217]||(f[217]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",UE,[i("div",null,[f[209]||(f[209]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[49]||(f[49]=F=>Ti.value=F),type:"text",placeholder:"CN",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Ti.value]])]),i("div",null,[f[210]||(f[210]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[50]||(f[50]=F=>Ts.value=F),type:"text",placeholder:"Beijing",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Ts.value]])]),i("div",null,[f[211]||(f[211]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[51]||(f[51]=F=>wi.value=F),type:"text",placeholder:"Beijing",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,wi.value]])]),i("div",null,[f[212]||(f[212]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[52]||(f[52]=F=>Wi.value=F),type:"text",placeholder:"skills",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Wi.value]])]),i("div",null,[f[213]||(f[213]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[53]||(f[53]=F=>Di.value=F),type:"text",placeholder:"system",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Di.value]])]),i("div",null,[f[214]||(f[214]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[54]||(f[54]=F=>qi.value=F),type:"text",placeholder:"IP",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,qi.value]]),f[215]||(f[215]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))]),i("div",null,[f[216]||(f[216]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[55]||(f[55]=F=>Is.value=F),type:"email",placeholder:"admin@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Is.value]])])])]),i("div",null,[f[218]||(f[218]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[56]||(f[56]=F=>tt.value=F),type:"number",min:"365",max:"3650",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,tt.value]]),f[219]||(f[219]=i("p",{class:"text-xs text-gray-500 mt-1"},"365-36501-10",-1))]),i("div",null,[f[220]||(f[220]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"SAN",-1)),Re(i("textarea",{"onUpdate:modelValue":f[57]||(f[57]=F=>ee.value=F),rows:"3",placeholder:`IP
*.example.com
example.com
192.168.1.100`,class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,ee.value]]),f[221]||(f[221]=i("p",{class:"text-xs text-gray-500 mt-1"},"IP",-1))]),f[224]||(f[224]=i("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[i("h4",{class:"text-sm font-medium text-blue-900 mb-2"},""),i("div",{class:"text-sm text-blue-800 space-y-1"},[i("p",null," CA"),i("p",null," IP"),i("p",null," Apache SSLHTTPHTTPS"),i("p",null," IPHTTPS"),i("p",null," "),i("p",null," DNS")])],-1)),i("div",{class:"bg-green-50 border border-green-200 rounded-lg p-4"},[i("div",{class:"flex items-center justify-between"},[f[223]||(f[223]=i("div",null,[i("h4",{class:"text-sm font-medium text-green-900 mb-1"},"CA"),i("p",{class:"text-xs text-green-700"},"")],-1)),i("button",{onClick:h1,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors flex items-center space-x-2"},[...f[222]||(f[222]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),i("span",null,"",-1)])])])])])]),i("div",VE,[i("button",{onClick:Fa,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors order-2 sm:order-1"},"  "),i("button",{onClick:d1,disabled:!qt.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors order-1 sm:order-2"},"  ",8,WE)])])])):Q("",!0),ti.value?(M(),T("div",qE,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Ka}),i("div",KE,[q.value&&ti.value?(M(),T("div",GE,[i("div",{class:Le([{"bg-green-50 border-green-200 text-green-800":X.value==="success","bg-red-50 border-red-200 text-red-800":X.value==="error","bg-yellow-50 border-yellow-200 text-yellow-800":X.value==="warning","bg-blue-50 border-blue-200 text-blue-800":X.value==="info"},"px-4 py-3 rounded-xl border-2 shadow-lg flex items-start space-x-3"])},[X.value==="success"?(M(),T("svg",XE,[...f[225]||(f[225]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):X.value==="error"?(M(),T("svg",YE,[...f[226]||(f[226]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):X.value==="warning"?(M(),T("svg",JE,[...f[227]||(f[227]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)])])):(M(),T("svg",ZE,[...f[228]||(f[228]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),i("div",QE,[i("p",e9,N(q.value),1)]),i("button",{onClick:f[58]||(f[58]=F=>q.value=""),class:"text-gray-400 hover:text-gray-600 flex-shrink-0"},[...f[229]||(f[229]=[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)])):Q("",!0),i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[231]||(f[231]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:Ka,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[230]||(f[230]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",t9,[i("div",s9,[i("div",i9,[i("div",r9,[i("div",null,[f[232]||(f[232]=i("p",{class:"text-xs text-gray-500 mb-1"},"",-1)),i("p",o9,N(ks.value.length),1)]),f[233]||(f[233]=i("div",{class:"p-2 bg-orange-100 rounded-lg"},[i("svg",{class:"h-5 w-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1))])]),i("div",n9,[i("div",a9,[i("div",null,[f[234]||(f[234]=i("p",{class:"text-xs text-gray-500 mb-1"},"",-1)),i("p",l9,N(Ns.value.length),1)]),f[235]||(f[235]=i("div",{class:"p-2 bg-red-100 rounded-lg"},[i("svg",{class:"h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1))])]),f[236]||(f[236]=i("div",{class:"bg-white border border-gray-200 rounded-lg p-3"},[i("div",{class:"flex items-center justify-between"},[i("div",null,[i("p",{class:"text-xs text-gray-500 mb-1"},""),i("p",{class:"text-xl font-semibold text-gray-900"},"4")]),i("div",{class:"p-2 bg-blue-100 rounded-lg"},[i("svg",{class:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])])])],-1))])]),i("div",c9,[i("div",u9,[i("div",null,[i("div",d9,[f[237]||(f[237]=i("h4",{class:"text-sm font-medium text-gray-900"},"",-1)),i("div",h9,[i("span",f9," : "+N(ks.value.filter(F=>F.lang==="cn").length),1),i("span",p9," : "+N(ks.value.filter(F=>F.lang==="en").length),1)])]),i("div",m9,[i("div",g9,[i("div",v9,[i("div",b9,[Re(i("input",{"onUpdate:modelValue":f[59]||(f[59]=F=>ms.value=F),type:"text",placeholder:"...",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",onKeyup:Er(zd,["enter"])},null,544),[[je,ms.value]])]),Re(i("select",{"onUpdate:modelValue":f[60]||(f[60]=F=>vr.value=F),class:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},[...f[238]||(f[238]=[i("option",{value:"cn"},"",-1),i("option",{value:"en"},"",-1)])],512),[[Ni,vr.value]]),i("button",{onClick:zd,disabled:!ms.value.trim(),class:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors"},"  ",8,x9)])]),ks.value.length>0?(M(),T("div",_9,[(M(!0),T(Fe,null,Qe(ks.value,(F,cs)=>(M(),T("div",{key:cs,class:"group flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors"},[i("div",y9,[i("div",{class:Le([F.lang==="cn"?"bg-orange-100 text-orange-700":"bg-amber-100 text-amber-700","px-2 py-1 rounded text-xs font-medium"])},N(F.lang==="cn"?"":"English"),3),i("span",w9,N(F.text),1)]),i("button",{onClick:ri=>D1(cs),class:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors"},[...f[239]||(f[239]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,k9)]))),128))])):(M(),T("div",S9,"  "))])]),i("div",null,[f[242]||(f[242]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",C9,[i("div",E9,[i("div",A9,[i("div",M9,[Re(i("input",{"onUpdate:modelValue":f[61]||(f[61]=F=>hi.value=F),type:"text",placeholder:"spam.com",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",onKeyup:Er(Fd,["enter"])},null,544),[[je,hi.value]])]),i("button",{onClick:Fd,disabled:!hi.value.trim(),class:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors"},"  ",8,T9)])]),Ns.value.length>0?(M(),T("div",D9,[(M(!0),T(Fe,null,Qe(Ns.value,(F,cs)=>(M(),T("div",{key:cs,class:"group flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors"},[i("div",L9,[f[240]||(f[240]=i("svg",{class:"h-4 w-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)),i("span",$9,N(F),1)]),i("button",{onClick:ri=>L1(cs),class:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors"},[...f[241]||(f[241]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,R9)]))),128))])):(M(),T("div",B9,"  "))])]),i("div",null,[f[251]||(f[251]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",P9,[i("div",O9,[i("div",null,[f[243]||(f[243]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[62]||(f[62]=F=>Ds.value.minBodyLines=F),type:"number",min:"0",max:"10",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Ds.value.minBodyLines,void 0,{number:!0}]]),f[244]||(f[244]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))]),i("div",null,[f[245]||(f[245]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[63]||(f[63]=F=>Ds.value.maxCapsRatio=F),type:"number",min:"0",max:"1",step:"0.1",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Ds.value.maxCapsRatio,void 0,{number:!0}]]),f[246]||(f[246]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))]),i("div",null,[f[247]||(f[247]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[64]||(f[64]=F=>Ds.value.maxExclamation=F),type:"number",min:"1",max:"20",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Ds.value.maxExclamation,void 0,{number:!0}]]),f[248]||(f[248]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))]),i("div",null,[f[249]||(f[249]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[65]||(f[65]=F=>Ds.value.maxSpecialChars=F),type:"number",min:"1",max:"50",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[je,Ds.value.maxSpecialChars,void 0,{number:!0}]]),f[250]||(f[250]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))])])])])])]),i("div",I9,[i("button",{onClick:Ka,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors order-2 sm:order-1"},"  "),i("button",{onClick:R1,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors order-3 sm:order-2"},"  "),i("button",{onClick:$1,disabled:br.value,class:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors order-1 sm:order-3"},N(br.value?"...":""),9,N9)])])])):Q("",!0),Tn.value?(M(),T("div",j9,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Ga}),i("div",H9,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[253]||(f[253]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:Ga,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[252]||(f[252]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",z9,[i("div",F9,[fi.value?(M(),T("div",U9,[i("div",V9,[i("div",W9,[f[254]||(f[254]=i("p",{class:"text-sm font-medium text-blue-800 mb-2"},"",-1)),i("p",q9,N(fi.value),1)]),i("button",{onClick:A1,class:"ml-4 text-blue-600 hover:text-blue-800 transition-colors"},[...f[255]||(f[255]=[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):Q("",!0),i("div",null,[f[256]||(f[256]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"  ",-1)),Re(i("textarea",{"onUpdate:modelValue":f[66]||(f[66]=F=>js.value=F),rows:"6",placeholder:"...",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 resize-none"},null,512),[[je,js.value]]),f[257]||(f[257]=i("p",{class:"mt-2 text-xs text-gray-500"},"",-1))])])]),i("div",K9,[i("button",{onClick:Ga,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors order-2 sm:order-1"},"  "),i("button",{onClick:E1,disabled:si.value||!js.value.trim(),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors order-1 sm:order-2"},N(si.value?"...":""),9,G9)])])])):Q("",!0),ho.value?(M(),T("div",X9,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:f[67]||(f[67]=F=>ho.value=!1)}),i("div",Y9,[f[264]||(f[264]=i("div",{class:"h-1 bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500 rounded-t-2xl"},null,-1)),i("div",J9,[f[259]||(f[259]=i("div",{class:"flex items-center justify-center mb-4"},[i("div",{class:"flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-red-100 to-orange-100"},[i("svg",{class:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])])],-1)),f[260]||(f[260]=i("h3",{class:"text-xl font-semibold text-gray-900 text-center mb-2"},"  ",-1)),f[261]||(f[261]=i("div",{class:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6"},[i("div",{class:"flex items-start space-x-3"},[i("svg",{class:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),i("div",{class:"flex-1"},[i("p",{class:"text-sm font-medium text-orange-800 mb-1"},"  "),i("p",{class:"text-xs text-orange-700"},"  ")])])],-1)),fi.value?(M(),T("div",Z9,[f[258]||(f[258]=i("p",{class:"text-xs font-medium text-gray-500 mb-1"},"",-1)),i("p",Q9,N(fi.value),1)])):Q("",!0)]),i("div",eA,[i("button",{onClick:f[68]||(f[68]=F=>ho.value=!1),class:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 order-2 sm:order-1"},"  "),i("button",{onClick:M1,disabled:si.value,class:"px-5 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none order-1 sm:order-2"},[si.value?(M(),T("span",iA,[...f[263]||(f[263]=[i("svg",{class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i("span",null,"...",-1)])])):(M(),T("span",sA,[...f[262]||(f[262]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),i("span",null,"",-1)])]))],8,tA)])])])):Q("",!0),ir.value?(M(),T("div",rA,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Ac}),i("div",oA,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[266]||(f[266]=i("div",{class:"flex items-center space-x-2 sm:space-x-3"},[i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},""),i("div",{class:"flex items-center space-x-1 sm:space-x-2"},[i("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i("span",{class:"text-xs text-gray-500 hidden sm:inline"},"")])],-1)),i("button",{onClick:Ac,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[265]||(f[265]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",nA,[ls.value?(M(),T("div",aA,[...f[267]||(f[267]=[i("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),i("span",{class:"ml-3 text-gray-600"},"...",-1)])])):(M(),T("div",lA,[i("div",cA,[i("div",uA,[i("div",dA,[f[268]||(f[268]=i("h4",{class:"text-sm font-medium text-gray-900"},"",-1)),i("div",hA,[i("div",{class:Le([Ko((Z=Xt.value.mail)==null?void 0:Z.status),"w-2 h-2 rounded-full"])},null,2),i("span",fA,N(mi((oe=Xt.value.mail)==null?void 0:oe.status)),1)])]),i("div",pA,[i("div",null,"Postfix: "+N(mi((le=Xt.value.postfix)==null?void 0:le.status)),1),i("div",null,"Dovecot: "+N(mi((he=Xt.value.dovecot)==null?void 0:he.status)),1)])]),i("div",mA,[i("div",gA,[f[269]||(f[269]=i("h4",{class:"text-sm font-medium text-gray-900"},"",-1)),i("div",vA,[i("div",{class:Le([Ko(($e=Xt.value.mariadb)==null?void 0:$e.status),"w-2 h-2 rounded-full"])},null,2),i("span",bA,N(mi((we=Xt.value.mariadb)==null?void 0:we.status)),1)])]),i("div",xA," MariaDB: "+N(mi((Ee=Xt.value.mariadb)==null?void 0:Ee.status)),1)]),i("div",_A,[i("div",yA,[f[270]||(f[270]=i("h4",{class:"text-sm font-medium text-gray-900"},"DNS",-1)),i("div",wA,[i("div",{class:Le([Ko((dt=Xt.value.named)==null?void 0:dt.status),"w-2 h-2 rounded-full"])},null,2),i("span",kA,N(mi((kt=Xt.value.named)==null?void 0:kt.status)),1)])]),i("div",SA," Bind: "+N(mi((St=Xt.value.named)==null?void 0:St.status)),1)]),i("div",CA,[i("div",EA,[f[271]||(f[271]=i("h4",{class:"text-sm font-medium text-gray-900"},"",-1)),i("div",AA,[i("div",{class:Le([Ko((ct=Xt.value.firewalld)==null?void 0:ct.status),"w-2 h-2 rounded-full"])},null,2),i("span",MA,N(mi((Je=Xt.value.firewalld)==null?void 0:Je.status)),1)])]),i("div",TA,[i("div",null,": "+N(mi((is=Xt.value.firewalld)==null?void 0:is.status)),1),i("div",null,": "+N(mi((Rs=Xt.value.rspamd)==null?void 0:Rs.status)),1)])]),i("div",DA,[i("div",LA,[f[272]||(f[272]=i("h4",{class:"text-sm font-medium text-gray-900"},"",-1)),i("div",$A,[i("div",{class:Le([Ko((zs=Xt.value.dispatcher)==null?void 0:zs.status),"w-2 h-2 rounded-full"])},null,2),i("span",RA,N(mi((Vr=Xt.value.dispatcher)==null?void 0:Vr.status)),1)])]),i("div",BA," API: "+N(mi((qd=Xt.value.dispatcher)==null?void 0:qd.status)),1)]),i("div",PA,[i("div",OA,[f[273]||(f[273]=i("h4",{class:"text-sm font-medium text-gray-900"},"Web",-1)),i("div",IA,[i("div",{class:Le([Ko((Kd=Xt.value.httpd)==null?void 0:Kd.status),"w-2 h-2 rounded-full"])},null,2),i("span",NA,N(mi((Gd=Xt.value.httpd)==null?void 0:Gd.status)),1)])]),i("div",jA," Apache: "+N(mi((Xd=Xt.value.httpd)==null?void 0:Xd.status)),1)])]),i("div",HA,[f[278]||(f[278]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",zA,[i("div",null,[f[274]||(f[274]=i("span",{class:"text-gray-600"},":",-1)),i("span",FA,N(ps.value.timestamp),1)]),i("div",null,[f[275]||(f[275]=i("span",{class:"text-gray-600"},":",-1)),i("span",UA,N(ps.value.loadAverage||"N/A"),1)]),i("div",null,[f[276]||(f[276]=i("span",{class:"text-gray-600"},":",-1)),i("span",VA,N(ps.value.memoryUsage||"N/A"),1)]),i("div",null,[f[277]||(f[277]=i("span",{class:"text-gray-600"},":",-1)),i("span",WA,N(ps.value.diskUsage||"N/A"),1)])])]),i("div",qA,[i("button",{onClick:g1,disabled:ls.value,class:"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors"},[...f[279]||(f[279]=[i("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),be("  ",-1)])],8,KA),i("button",{onClick:Ac,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"  ")])]))])])])):Q("",!0),i("div",GA,[i("div",XA,[f[314]||(f[314]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},[i("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})]),be("  ")],-1)),i("div",YA,[i("div",JA,[f[284]||(f[284]=i("h4",{class:"text-md font-medium text-gray-700"},"",-1)),i("div",ZA,[i("button",{onClick:f[69]||(f[69]=()=>{Dt(ft).logButtonClick("",""),c()}),class:"inline-flex items-center px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium text-purple-600 hover:text-purple-800 transition-all duration-200"},[...f[280]||(f[280]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),i("span",{class:"hidden sm:inline"},"",-1),i("span",{class:"sm:hidden"},"",-1)])]),i("button",{onClick:f[70]||(f[70]=()=>{Dt(ft).logButtonClick("",""),g()}),disabled:He.value.size===0,class:"inline-flex items-center px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium text-red-600 hover:text-red-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[f[281]||(f[281]=i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),i("span",eM," ("+N(He.value.size)+")",1),i("span",tM,"("+N(He.value.size)+")",1)],8,QA),i("button",{onClick:f[71]||(f[71]=()=>{Dt(ft).logButtonClick("",""),Mt()}),disabled:z.value,class:"inline-flex items-center px-2 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm font-medium text-blue-600 hover:text-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[(M(),T("svg",{class:Le(["w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1",{"animate-spin":z.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...f[282]||(f[282]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),z.value?(M(),T("span",iM,"...")):(M(),T("span",rM,"")),f[283]||(f[283]=i("span",{class:"sm:hidden"},"",-1))],8,sM)])]),i("div",oM,[i("div",nM,[i("table",aM,[i("thead",lM,[i("tr",null,[f[285]||(f[285]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),i("th",cM,[i("input",{type:"checkbox",checked:He.value.size>0&&He.value.size===ge.value.filter(F=>F.username!=="xm").length,onChange:h,class:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"},null,40,uM)]),f[286]||(f[286]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),f[287]||(f[287]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),f[288]||(f[288]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),f[289]||(f[289]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),f[290]||(f[290]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1))])]),i("tbody",dM,[!ge.value||ge.value.length===0?(M(),T("tr",hM,[i("td",fM,[i("div",pM,[f[291]||(f[291]=i("svg",{class:"w-8 h-8 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),be("  ("+N(ge.value?ge.value.length:0)+" ) ",1)])])])):Q("",!0),(M(!0),T(Fe,null,Qe(_t.value||[],(F,cs)=>(M(),T("tr",{key:F.username,class:"hover:bg-gray-50"},[i("td",mM,N((Be.value-1)*Ye.value+cs+1),1),i("td",gM,[F.username!=="xm"?(M(),T("input",{key:0,type:"checkbox",checked:He.value.has(F.id),onChange:ri=>d(F.id),class:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"},null,40,vM)):(M(),T("span",bM,"-"))]),i("td",xM,N(F.username),1),i("td",_M,N(F.email),1),i("td",yM,N(Bi(F.created_at)),1),i("td",wM,[F.username==="xm"?(M(),T("span",kM,"  ")):(M(),T("span",SM,"  "))]),i("td",CM,[i("div",EM,[F.username!=="xm"?(M(),T("button",{key:0,onClick:()=>{Dt(ft).logButtonClick("",""),$n(F)},class:"text-blue-600 hover:text-blue-800 transition-colors duration-200",title:""},[...f[292]||(f[292]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,AM)):Q("",!0),F.username!=="xm"?(M(),T("button",{key:1,onClick:()=>{Dt(ft).logButtonClick("",""),Rn(F.username,F.email)},class:"text-red-600 hover:text-red-800 transition-colors duration-200",title:""},[...f[293]||(f[293]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,MM)):Q("",!0),F.username==="xm"?(M(),T("span",TM,"")):Q("",!0)])])]))),128))])])]),i("div",DM,[!ge.value||ge.value.length===0?(M(),T("div",LM,[i("div",$M,[f[294]||(f[294]=i("svg",{class:"w-8 h-8 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),be("  ("+N(ge.value?ge.value.length:0)+" ) ",1)])])):Q("",!0),(M(!0),T(Fe,null,Qe(_t.value||[],(F,cs)=>(M(),T("div",{key:F.username,class:"bg-white rounded-lg p-4 shadow-sm border border-gray-200"},[i("div",RM,[i("div",BM,[i("div",PM,[F.username!=="xm"?(M(),T("input",{key:0,type:"checkbox",checked:He.value.has(F.id),onChange:ri=>d(F.id),class:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"},null,40,OM)):Q("",!0),i("span",IM,"#"+N((Be.value-1)*Ye.value+cs+1),1),F.username==="xm"?(M(),T("span",NM,"  ")):(M(),T("span",jM,"  "))]),i("h5",HM,N(F.username),1),i("p",zM,N(F.email),1),i("p",FM,N(Bi(F.created_at)),1)]),i("div",UM,[F.username!=="xm"?(M(),T("button",{key:0,onClick:()=>{Dt(ft).logButtonClick("",""),$n(F)},class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:""},[...f[295]||(f[295]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,VM)):Q("",!0),F.username!=="xm"?(M(),T("button",{key:1,onClick:()=>{Dt(ft).logButtonClick("",""),Rn(F.username,F.email)},class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:""},[...f[296]||(f[296]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,WM)):Q("",!0),F.username==="xm"?(M(),T("span",qM,"")):Q("",!0)])])]))),128))])]),ge.value.length>0?(M(),T("div",KM,[i("div",GM,[f[298]||(f[298]=i("span",{class:"text-xs sm:text-sm text-gray-700"},"",-1)),Re(i("select",{"onUpdate:modelValue":f[72]||(f[72]=F=>Ye.value=F),onChange:f[73]||(f[73]=F=>x(Ye.value)),class:"px-2 py-1 text-xs sm:text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...f[297]||(f[297]=[i("option",{value:"5"},"5",-1),i("option",{value:"10"},"10",-1),i("option",{value:"15"},"15",-1),i("option",{value:"20"},"20",-1),i("option",{value:"25"},"25",-1),i("option",{value:"50"},"50",-1)])],544),[[Ni,Ye.value]]),f[299]||(f[299]=i("span",{class:"text-xs sm:text-sm text-gray-700"},"",-1))]),i("div",XM,[i("span",YM,"  "+N(r.value.start)+"-"+N(r.value.end)+"  "+N(r.value.total)+"  ",1)]),qe.value>1?(M(),T("div",JM,[i("button",{onClick:v,disabled:!o.value,class:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,ZM),(M(!0),T(Fe,null,Qe(Math.min(5,qe.value),F=>(M(),T(Fe,{key:F},[F<=qe.value?(M(),T("button",{key:0,onClick:cs=>m(F),class:Le(["px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium rounded-md",F===Be.value?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"])},N(F),11,QM)):Q("",!0)],64))),128)),qe.value>5?(M(),T("button",eT," ... ")):Q("",!0),qe.value>5?(M(),T("button",{key:1,onClick:f[74]||(f[74]=F=>m(qe.value)),class:Le(["px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium rounded-md",qe.value===Be.value?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"])},N(qe.value),3)):Q("",!0),i("button",{onClick:p,disabled:!a.value,class:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,tT)])):(M(),T("div",sT,[...f[300]||(f[300]=[i("span",{class:"text-xs sm:text-sm text-gray-500"},"",-1)])]))])):Q("",!0)]),i("div",iT,[f[307]||(f[307]=i("h4",{class:"text-base sm:text-md font-medium text-gray-700"},"",-1)),i("div",rT,[i("div",null,[f[301]||(f[301]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[75]||(f[75]=F=>pe.value=F),placeholder:"",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200"},null,512),[[je,pe.value]])]),i("div",null,[f[302]||(f[302]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[76]||(f[76]=F=>Ae.value=F),placeholder:"user@example.com",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200"},null,512),[[je,Ae.value]])]),i("div",null,[f[303]||(f[303]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[77]||(f[77]=F=>Me.value=F),type:"password",placeholder:"",onInput:Yt,class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200"},null,544),[[je,Me.value]]),bt.value?(M(),T("p",oT,N(bt.value),1)):Q("",!0),Ct.value?(M(),T("p",nT,N(Ct.value),1)):Q("",!0)])]),Tt.value?(M(),T("div",aT,[i("div",lT,[f[304]||(f[304]=i("svg",{class:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("p",cT,N(Tt.value),1)])])):Q("",!0),It.value?(M(),T("div",uT,[i("div",dT,[f[305]||(f[305]=i("svg",{class:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("p",hT,N(It.value),1)])])):Q("",!0),i("div",fT,[i("button",{onClick:f[78]||(f[78]=()=>{Dt(ft).logButtonClick("",""),pi()}),class:"group inline-flex items-center px-3 sm:px-4 py-2 border border-transparent text-xs sm:text-sm font-medium rounded-lg sm:rounded-xl text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 transform hover:scale-105 hover:shadow-lg"},[...f[306]||(f[306]=[i("svg",{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),be("  ",-1)])])])]),i("div",pT,[i("div",mT,[i("div",gT,[f[308]||(f[308]=i("h4",{class:"text-base sm:text-lg font-semibold text-gray-800 flex items-center"},[i("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),be("  ")],-1)),i("div",vT,[(M(),T(Fe,null,Qe(["hour","day","week"],F=>i("button",{key:F,onClick:cs=>{$.value=F,R()},class:Le(["px-2 sm:px-3 py-1 text-xs sm:text-sm rounded-lg transition-colors",$.value===F?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},N(F==="hour"?"":F==="day"?"":""),11,bT)),64))])]),i("div",xT,[i("canvas",{ref_key:"trendChartRef",ref:S},null,512),ie.value?(M(),T("div",_T,[...f[309]||(f[309]=[i("div",{class:"text-gray-500 flex items-center"},[i("svg",{class:"animate-spin h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),be(" ... ")],-1)])])):Q("",!0),!ie.value&&I.value?(M(),T("div",yT,[...f[310]||(f[310]=[i("div",{class:"text-center text-gray-400"},[i("svg",{class:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),i("p",{class:"text-sm"},""),i("p",{class:"text-xs mt-1"},"30")],-1)])])):Q("",!0)])]),i("div",wT,[i("div",kT,[f[311]||(f[311]=i("h4",{class:"text-base sm:text-lg font-semibold text-gray-800 flex items-center"},[i("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})]),be("  ")],-1)),i("div",ST,[(M(),T(Fe,null,Qe(["user","day"],F=>i("button",{key:F,onClick:cs=>{P.value=F,K()},class:Le(["px-2 sm:px-3 py-1 text-xs sm:text-sm rounded-lg transition-colors",P.value===F?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},N(F==="user"?"":""),11,CT)),64))])]),i("div",ET,[i("canvas",{ref_key:"frequencyChartRef",ref:C},null,512),re.value?(M(),T("div",AT,[...f[312]||(f[312]=[i("div",{class:"text-gray-500 flex items-center"},[i("svg",{class:"animate-spin h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),be(" ... ")],-1)])])):Q("",!0),!re.value&&ue.value?(M(),T("div",MT,[...f[313]||(f[313]=[i("div",{class:"text-center text-gray-400"},[i("svg",{class:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})]),i("p",{class:"text-sm"},""),i("p",{class:"text-xs mt-1"},"30")],-1)])])):Q("",!0)])])])])]),ye.value||W.value||G.value?(M(),T("div",TT,[i("div",DT,[ye.value?(M(),T("div",LT,[...f[315]||(f[315]=[i("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i("span",{class:"text-blue-600 font-medium"},"...",-1)])])):Q("",!0),W.value?(M(),T("div",$T,[i("div",RT,[f[317]||(f[317]=i("svg",{class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("div",BT,[f[316]||(f[316]=i("h3",{class:"text-sm font-medium text-red-800"},"",-1)),i("div",PT,N(W.value),1)])])])):Q("",!0),G.value?(M(),T("div",OT,[i("h3",IT,[f[321]||(f[321]=i("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),i("span",null," ("+N(G.value)+")",1),O.value==="running"?(M(),T("span",NT,[...f[318]||(f[318]=[i("div",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-2 animate-ping"},null,-1),be("  ",-1)])])):O.value==="success"?(M(),T("span",jT,[...f[319]||(f[319]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):O.value==="failed"?(M(),T("span",HT,[...f[320]||(f[320]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):Q("",!0)]),i("div",zT,[i("pre",FT,N(U.value),1)])])):Q("",!0)])])):Q("",!0),rt.value?(M(),T("div",UT,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:f[79]||(f[79]=F=>rt.value=!1)}),i("div",VT,[i("div",WT,[i("h3",qT,[f[324]||(f[324]=i("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),f[325]||(f[325]=i("span",null,"",-1)),ye.value?(M(),T("span",KT,[...f[322]||(f[322]=[i("div",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-2 animate-ping"},null,-1),be("  ",-1)])])):(M(),T("span",GT,[...f[323]||(f[323]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),be("  ",-1)])]))]),i("button",{onClick:f[80]||(f[80]=F=>rt.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[326]||(f[326]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",XT,[i("div",YT,[i("pre",JT,N(U.value),1)])]),i("div",ZT,[i("button",{onClick:f[81]||(f[81]=F=>rt.value=!1),class:"px-4 py-2 text-sm rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors"},"  ")])])])):Q("",!0),_e.value?(M(),T("div",QT,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:mt}),i("div",eD,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[328]||(f[328]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:mt,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[327]||(f[327]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",tD,[f[333]||(f[333]=i("p",{class:"text-sm text-gray-600 mb-6"},"",-1)),ye.value?(M(),T("div",sD,[...f[329]||(f[329]=[i("div",{class:"flex items-center space-x-3 mb-4"},[i("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i("span",{class:"text-sm font-medium text-gray-700"},"...")],-1)])])):Q("",!0),O.value==="success"&&!ye.value?(M(),T("div",iD,[...f[330]||(f[330]=[i("div",{class:"flex items-center"},[i("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),i("span",{class:"text-sm text-green-700"},"")],-1)])])):Q("",!0),W.value?(M(),T("div",rD,[i("div",oD,[f[331]||(f[331]=i("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",nD,N(W.value),1)])])):Q("",!0),U.value?(M(),T("div",aD,[f[332]||(f[332]=i("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"",-1)),i("div",lD,N(U.value),1)])):Q("",!0),i("div",cD,[i("button",{onClick:mt,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"},"  "),i("button",{onClick:Ge,disabled:ye.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors"},N(ye.value?"...":O.value==="success"?"":""),9,uD)])])])])):Q("",!0),wt.value?(M(),T("div",dD,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:yt}),i("div",hD,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[335]||(f[335]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:yt,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[334]||(f[334]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",fD,[f[340]||(f[340]=i("p",{class:"text-sm text-gray-600 mb-6"},"",-1)),i("div",pD,[i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-all cursor-pointer",{"border-blue-500 bg-blue-50":at.value.includes("mail")}]),onClick:f[82]||(f[82]=F=>Va("mail"))},[i("div",mD,[i("input",{type:"checkbox",checked:at.value.includes("mail"),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,gD),f[336]||(f[336]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},"Postfix + Dovecot "),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," SMTP "),i("li",null," IMAP/POP3 "),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-green-300 hover:bg-green-50 transition-all cursor-pointer",{"border-green-500 bg-green-50":at.value.includes("database")}]),onClick:f[83]||(f[83]=F=>Va("database"))},[i("div",vD,[i("input",{type:"checkbox",checked:at.value.includes("database"),class:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,8,bD),f[337]||(f[337]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},"MariaDB "),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," "),i("li",null," "),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer",{"border-purple-500 bg-purple-50":at.value.includes("dns")}]),onClick:f[84]||(f[84]=F=>Va("dns"))},[i("div",xD,[i("input",{type:"checkbox",checked:at.value.includes("dns"),class:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"},null,8,_D),f[338]||(f[338]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},"DNS"),i("p",{class:"text-xs text-gray-500 mt-1"},"Bind DNS "),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," "),i("li",null," MX "),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-red-300 hover:bg-red-50 transition-all cursor-pointer",{"border-red-500 bg-red-50":at.value.includes("security")}]),onClick:f[85]||(f[85]=F=>Va("security"))},[i("div",yD,[i("input",{type:"checkbox",checked:at.value.includes("security"),class:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,8,wD),f[339]||(f[339]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},"SSL + "),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," SSL/TLS "),i("li",null," "),i("li",null," ")])],-1))])],2)]),i("div",kD,[i("button",{onClick:yt,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors order-2 sm:order-1"},"  "),i("button",{onClick:b1,disabled:at.value.length===0,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors order-1 sm:order-2"},"  ("+N(at.value.length)+" ) ",9,SD)])])])])):Q("",!0),Wt.value?(M(),T("div",CD,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Wa}),i("div",ED,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[342]||(f[342]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:Wa,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[341]||(f[341]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",AD,[i("div",MD,[f[345]||(f[345]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",TD,[i("button",{onClick:f[86]||(f[86]=F=>it.value="restart"),class:Le([it.value==="restart"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200","px-4 py-2 rounded-lg transition-colors"])},[...f[343]||(f[343]=[i("div",{class:"flex items-center space-x-2"},[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]),i("span",null,"")],-1)])],2),i("button",{onClick:f[87]||(f[87]=F=>it.value="stop"),class:Le([it.value==="stop"?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200","px-4 py-2 rounded-lg transition-colors"])},[...f[344]||(f[344]=[i("div",{class:"flex items-center space-x-2"},[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]),i("span",null,"")],-1)])],2)])]),i("div",DD,[i("h4",LD,""+N(it.value==="restart"?"":"")+"",1),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-all cursor-pointer",{"border-blue-500 bg-blue-50":lt.value.includes("mail")}]),onClick:f[88]||(f[88]=F=>On("mail"))},[i("div",$D,[i("input",{type:"checkbox",checked:lt.value.includes("mail"),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,RD),f[346]||(f[346]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},"Postfix + Dovecot"),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," SMTP "),i("li",null," IMAP/POP3 "),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-green-300 hover:bg-green-50 transition-all cursor-pointer",{"border-green-500 bg-green-50":lt.value.includes("database")}]),onClick:f[89]||(f[89]=F=>On("database"))},[i("div",BD,[i("input",{type:"checkbox",checked:lt.value.includes("database"),class:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,8,PD),f[347]||(f[347]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},"MariaDB"),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," "),i("li",null," "),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer",{"border-purple-500 bg-purple-50":lt.value.includes("dns")}]),onClick:f[90]||(f[90]=F=>On("dns"))},[i("div",OD,[i("input",{type:"checkbox",checked:lt.value.includes("dns"),class:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"},null,8,ID),f[348]||(f[348]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},"DNS"),i("p",{class:"text-xs text-gray-500 mt-1"},"Bind DNS"),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," "),i("li",null," MX"),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-red-300 hover:bg-red-50 transition-all cursor-pointer",{"border-red-500 bg-red-50":lt.value.includes("security")}]),onClick:f[91]||(f[91]=F=>On("security"))},[i("div",ND,[i("input",{type:"checkbox",checked:lt.value.includes("security"),class:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,8,jD),f[349]||(f[349]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},"SSL + "),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," SSL/TLS "),i("li",null," "),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-indigo-300 hover:bg-indigo-50 transition-all cursor-pointer",{"border-indigo-500 bg-indigo-50":lt.value.includes("dispatcher")}]),onClick:f[92]||(f[92]=F=>On("dispatcher"))},[i("div",HD,[i("input",{type:"checkbox",checked:lt.value.includes("dispatcher"),class:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,zD),f[350]||(f[350]=i("div",{class:"flex-1"},[i("h4",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},"API "),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," API "),i("li",null," "),i("li",null," ")])],-1))])],2)]),i("div",FD,[i("button",{onClick:Wa,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors order-2 sm:order-1"},"  "),i("button",{onClick:x1,disabled:lt.value.length===0,class:Le([it.value==="restart"?"bg-orange-600 hover:bg-orange-700":"bg-red-600 hover:bg-red-700","px-4 py-2 text-sm font-medium text-white disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors order-1 sm:order-2"])},N(it.value==="restart"?"":"")+" ("+N(lt.value.length)+" ) ",11,UD)])])])])):Q("",!0),j.value?(M(),T("div",VD,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Tc}),i("div",WD,[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[352]||(f[352]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{class:"text-gray-400 hover:text-gray-600",onClick:Tc,"aria-label":""},[...f[351]||(f[351]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",qD,[Ke.value===1?(M(),T("div",KD,[i("div",null,[f[355]||(f[355]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",GD,[i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-green-300 hover:bg-green-50 transition-all cursor-pointer",{"border-green-500 bg-green-50":nt.value==="system"}]),onClick:f[93]||(f[93]=F=>nt.value="system")},[i("div",XD,[i("input",{type:"radio",checked:nt.value==="system",class:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"},null,8,YD),f[353]||(f[353]=i("div",{class:"flex-1"},[i("h5",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},""),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," "),i("li",null," "),i("li",null," ")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-all cursor-pointer",{"border-blue-500 bg-blue-50":nt.value==="dns"}]),onClick:f[94]||(f[94]=F=>nt.value="dns")},[i("div",JD,[i("input",{type:"radio",checked:nt.value==="dns",class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,8,ZD),f[354]||(f[354]=i("div",{class:"flex-1"},[i("h5",{class:"text-sm font-medium text-gray-900"},"DNS"),i("p",{class:"text-xs text-gray-500 mt-1"},"DNS"),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," DNS (Bind) "),i("li",null," "),i("li",null," DNS")])],-1))])],2)])]),nt.value==="system"?(M(),T("div",QD,[i("div",null,[f[356]||(f[356]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[95]||(f[95]=F=>Gt.value=F),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:""},null,512),[[je,Gt.value]])]),i("div",null,[f[357]||(f[357]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[96]||(f[96]=F=>Ue.value=F),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:""},null,512),[[je,Ue.value]]),f[358]||(f[358]=i("p",{class:"text-xs text-gray-500 mt-1"},"DNS",-1))])])):Q("",!0),nt.value==="dns"?(M(),T("div",eL,[f[361]||(f[361]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"DNS",-1)),i("div",tL,[i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-all cursor-pointer",{"border-blue-500 bg-blue-50":et.value==="bind"}]),onClick:f[97]||(f[97]=F=>et.value="bind")},[i("div",sL,[i("input",{type:"radio",checked:et.value==="bind",class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,8,iL),f[359]||(f[359]=i("div",{class:"flex-1"},[i("h5",{class:"text-sm font-medium text-gray-900"},"DNS (Bind)"),i("p",{class:"text-xs text-gray-500 mt-1"},"Bind DNS"),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," Bind DNS"),i("li",null," MXAPTR"),i("li",null," SPFDKIMDMARC"),i("li",null," DNS")])],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-green-300 hover:bg-green-50 transition-all cursor-pointer",{"border-green-500 bg-green-50":et.value==="public"}]),onClick:f[98]||(f[98]=F=>et.value="public")},[i("div",rL,[i("input",{type:"radio",checked:et.value==="public",class:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"},null,8,oL),f[360]||(f[360]=i("div",{class:"flex-1"},[i("h5",{class:"text-sm font-medium text-gray-900"},"DNS"),i("p",{class:"text-xs text-gray-500 mt-1"},"Apache"),i("ul",{class:"text-xs text-gray-600 mt-2 space-y-1"},[i("li",null," "),i("li",null," Apache HTTPHTTPS"),i("li",null," DNS"),i("li",null," HTTPHTTPS")])],-1))])],2)])])):Q("",!0),nt.value==="dns"?(M(),T("div",nL,[f[362]||(f[362]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),et.value==="bind"?(M(),T("p",aL,"example.com Postfix ")):et.value==="public"?(M(),T("p",lL,"example.comApache")):Q("",!0),Re(i("input",{"onUpdate:modelValue":f[99]||(f[99]=F=>Ze.value=F),placeholder:"example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"},null,512),[[je,Ze.value]])])):Q("",!0)])):Ke.value===2?(M(),T("div",cL,[et.value==="bind"?(M(),T("div",uL,[f[366]||(f[366]=i("p",{class:"text-sm text-gray-700"},"",-1)),i("div",dL,[i("div",hL,[f[363]||(f[363]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",fL,N(Ze.value),1)]),f[364]||(f[364]=i("div",{class:"flex items-center justify-between"},[i("span",{class:"text-sm text-gray-600"},"DNS"),i("span",{class:"font-medium text-blue-900"},"DNS (Bind)")],-1)),f[365]||(f[365]=i("div",{class:"text-xs text-blue-700"},[i("p",null," Bind DNS"),i("p",null," MXAPTRSPFDKIMDMARC"),i("p",null," DNS"),i("p",null," DNS")],-1))])])):et.value==="public"?(M(),T("div",pL,[f[370]||(f[370]=i("p",{class:"text-sm text-gray-700"},"",-1)),i("div",mL,[i("div",gL,[f[367]||(f[367]=i("span",{class:"text-sm text-gray-600"},"",-1)),i("span",vL,N(Ze.value),1)]),f[368]||(f[368]=i("div",{class:"flex items-center justify-between"},[i("span",{class:"text-sm text-gray-600"},"DNS"),i("span",{class:"font-medium text-green-900"},"DNS")],-1)),f[369]||(f[369]=i("div",{class:"text-xs text-green-700"},[i("p",null," "),i("p",null," Apache HTTPHTTPS"),i("p",null," DNS"),i("p",null," HTTPHTTPS")],-1))])])):Q("",!0)])):Ke.value===3?(M(),T("div",bL,[...f[371]||(f[371]=[i("p",{class:"text-sm text-gray-700"},"...",-1)])])):Q("",!0)]),i("div",xL,[i("div",_L," "+N(Ke.value)+" / 3",1),i("div",yL,[i("button",{class:"px-4 py-2 text-sm rounded-md border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",onClick:Tc,disabled:Ke.value===3},"",8,wL),Ke.value===1&&nt.value==="system"?(M(),T("button",{key:0,class:"px-4 py-2 text-sm rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",onClick:Ud,disabled:!Gt.value.trim()||!Ue.value.trim()},"",8,kL)):Ke.value===1&&nt.value==="dns"?(M(),T("button",{key:1,class:"px-4 py-2 text-sm rounded-md text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",onClick:B1,disabled:!Ze.value},"",8,SL)):Ke.value===2?(M(),T("button",{key:2,class:"px-4 py-2 text-sm rounded-md text-white bg-purple-600 hover:bg-purple-700",onClick:Ud},"")):Ke.value===3?(M(),T("button",CL,"...")):Q("",!0)])])])])):Q("",!0)]),J.value?(M(),T("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:u},[i("div",{class:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto mx-4",onClick:f[107]||(f[107]=ut(()=>{},["stop"]))},[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[373]||(f[373]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{class:"text-gray-400 hover:text-gray-600",onClick:u,"aria-label":""},[...f[372]||(f[372]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",EL,[i("div",AL,[f[376]||(f[376]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",ML,[i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer",{"border-purple-500 bg-purple-50":ne.value==="list"}]),onClick:f[100]||(f[100]=F=>ne.value="list")},[i("div",TL,[i("input",{type:"radio",checked:ne.value==="list",class:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"},null,8,DL),f[374]||(f[374]=i("div",{class:"flex-1"},[i("h5",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},""),i("p",{class:"text-xs text-gray-600 mt-1"},"user1,user2,user3")],-1))])],2),i("div",{class:Le(["border border-gray-200 rounded-lg p-4 hover:border-purple-300 hover:bg-purple-50 transition-all cursor-pointer",{"border-purple-500 bg-purple-50":ne.value==="count"}]),onClick:f[101]||(f[101]=F=>ne.value="count")},[i("div",LL,[i("input",{type:"radio",checked:ne.value==="count",class:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"},null,8,$L),f[375]||(f[375]=i("div",{class:"flex-1"},[i("h5",{class:"text-sm font-medium text-gray-900"},""),i("p",{class:"text-xs text-gray-500 mt-1"},""),i("p",{class:"text-xs text-gray-600 mt-1"},"user  user01, user02, user03")],-1))])],2)])]),ne.value==="list"?(M(),T("div",RL,[i("div",null,[f[377]||(f[377]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("textarea",{"onUpdate:modelValue":f[102]||(f[102]=F=>fe.value=F),placeholder:"user1,user2,user3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"3"},null,512),[[je,fe.value]]),f[378]||(f[378]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))])])):Q("",!0),ne.value==="count"?(M(),T("div",BL,[i("div",null,[f[379]||(f[379]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[103]||(f[103]=F=>xe.value=F),placeholder:"user",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[je,xe.value]]),f[380]||(f[380]=i("p",{class:"text-xs text-gray-500 mt-1"},"user01, user02, user03",-1))]),i("div",null,[f[381]||(f[381]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[104]||(f[104]=F=>ae.value=F),type:"number",min:"1",max:"100",placeholder:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[je,ae.value,void 0,{number:!0}]]),f[382]||(f[382]=i("p",{class:"text-xs text-gray-500 mt-1"},"100",-1))])])):Q("",!0),i("div",PL,[f[384]||(f[384]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",null,[f[383]||(f[383]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[105]||(f[105]=F=>De.value=F),type:"password",placeholder:"",onInput:f[106]||(f[106]=F=>Se.value=""),class:Le([Se.value?"border-red-500":"border-gray-300","w-full px-3 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent border"])},null,34),[[je,De.value]]),Se.value?(M(),T("p",OL,N(Se.value),1)):(M(),T("p",IL,""))])]),Ce.value.length>0?(M(),T("div",NL,[f[387]||(f[387]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",jL,[(M(!0),T(Fe,null,Qe(Ce.value,F=>(M(),T("div",{key:F.username,class:"flex items-center justify-between py-2 border-b border-gray-200 last:border-b-0"},[i("div",HL,[i("div",zL,[i("span",FL,N(F.username),1),i("span",UL,N(F.email),1),i("span",VL,": "+N(F.success?"":""),1)]),!F.success&&F.reason?(M(),T("div",WL,[i("span",qL,N(F.reason),1)])):Q("",!0)]),i("div",KL,[F.success?(M(),T("svg",GL,[...f[385]||(f[385]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(M(),T("svg",XL,[...f[386]||(f[386]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])]))])]))),128))])])):Q("",!0)]),i("div",YL,[i("button",{onClick:u,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},"  "),i("button",{onClick:D,disabled:Pe.value||!s.value,class:"px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed"},[Pe.value?(M(),T("svg",ZL,[...f[388]||(f[388]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):Q("",!0),be(" "+N(Pe.value?"...":""),1)],8,JL)])])])):Q("",!0),Ne.value?(M(),T("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:_},[i("div",{class:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 transform transition-all duration-300 scale-100",onClick:f[108]||(f[108]=ut(()=>{},["stop"]))},[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[390]||(f[390]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{class:"text-gray-400 hover:text-gray-600",onClick:_,"aria-label":""},[...f[389]||(f[389]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",QL,[i("div",e$,[f[392]||(f[392]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-8 w-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),i("div",t$,[f[391]||(f[391]=i("h4",{class:"text-sm font-medium text-gray-900"},"",-1)),i("p",s$," "+N(He.value.size)+" ",1)])]),i("div",i$,[f[394]||(f[394]=i("h5",{class:"text-sm font-medium text-gray-900 mb-3"},"",-1)),i("div",r$,[(M(!0),T(Fe,null,Qe(Array.from(He.value),F=>{var cs,ri;return M(),T("div",{key:F,class:"flex items-center justify-between py-2 px-3 bg-white rounded border"},[i("div",o$,[i("span",n$,N((cs=ge.value.find(Dc=>Dc.id===F))==null?void 0:cs.username),1),i("span",a$,N((ri=ge.value.find(Dc=>Dc.id===F))==null?void 0:ri.email),1)]),f[393]||(f[393]=i("svg",{class:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1))])}),128))])]),f[395]||(f[395]=i("div",{class:"mt-4 p-3 bg-red-50 rounded-lg"},[i("div",{class:"flex"},[i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),i("div",{class:"ml-3"},[i("h5",{class:"text-sm font-medium text-red-800"},""),i("div",{class:"mt-1 text-sm text-red-700"},[i("ul",{class:"list-disc list-inside space-y-1"},[i("li",null,""),i("li",null,""),i("li",null," (xm) ")])])])])],-1))]),i("div",l$,[i("button",{onClick:_,disabled:Ve.value,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,c$),i("button",{onClick:w,disabled:Ve.value,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"},[Ve.value?(M(),T("svg",d$,[...f[396]||(f[396]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):Q("",!0),be(" "+N(Ve.value?"...":""),1)],8,u$)])])])):Q("",!0),xo.value?(M(),T("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:Wo},[i("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:f[112]||(f[112]=ut(()=>{},["stop"]))},[i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between"},[f[398]||(f[398]=i("h3",{class:"text-base sm:text-lg font-semibold text-gray-900"},"",-1)),i("button",{onClick:Wo,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[397]||(f[397]=[i("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",h$,[i("div",f$,[i("div",null,[f[399]||(f[399]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[109]||(f[109]=F=>ss.value.username=F),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""},null,512),[[je,ss.value.username]])]),i("div",null,[f[400]||(f[400]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[110]||(f[110]=F=>ss.value.email=F),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""},null,512),[[je,ss.value.email]])]),i("div",null,[f[401]||(f[401]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[111]||(f[111]=F=>ss.value.password=F),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""},null,512),[[je,ss.value.password]])]),Pi.value?(M(),T("div",p$,N(Pi.value),1)):Q("",!0)])]),i("div",m$,[i("button",{onClick:Wo,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"  "),i("button",{onClick:Ha,disabled:ye.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},N(ye.value?"...":""),9,g$)])])])):Q("",!0),bo.value?(M(),T("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:Bn},[i("div",{class:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-100",onClick:f[113]||(f[113]=ut(()=>{},["stop"]))},[f[407]||(f[407]=i("div",{class:"flex items-center justify-between p-6 border-b border-gray-200"},[i("div",{class:"flex items-center space-x-3"},[i("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[i("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),i("div",null,[i("h3",{class:"text-lg font-semibold text-gray-900"},""),i("p",{class:"text-sm text-gray-500"},"")])])],-1)),i("div",v$,[i("div",b$,[f[403]||(f[403]=i("p",{class:"text-gray-700 mb-2"},"",-1)),i("div",x$,[i("div",_$,[f[402]||(f[402]=i("svg",{class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),i("div",null,[i("span",y$,N((Yd=or.value)==null?void 0:Yd.username),1),i("span",w$,"("+N((Jd=or.value)==null?void 0:Jd.email)+")",1)])])])]),f[404]||(f[404]=i("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4"},[i("div",{class:"flex items-start space-x-2"},[i("svg",{class:"w-5 h-5 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})]),i("div",null,[i("p",{class:"text-sm text-yellow-800 font-medium"},""),i("p",{class:"text-sm text-yellow-700 mt-1"},"")])])],-1))]),i("div",k$,[i("button",{onClick:Bn,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200"},"  "),i("button",{onClick:za,disabled:ye.value,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[ye.value?(M(),T("svg",C$,[...f[405]||(f[405]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(M(),T("svg",E$,[...f[406]||(f[406]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])),be(" "+N(ye.value?"...":""),1)],8,S$)])])])):Q("",!0),Nr.value?(M(),T("div",A$,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:Ec}),i("div",M$,[q.value&&Nr.value?(M(),T("div",T$,[i("div",{class:Le([{"bg-green-50 border-green-200 text-green-800":X.value==="success","bg-red-50 border-red-200 text-red-800":X.value==="error","bg-yellow-50 border-yellow-200 text-yellow-800":X.value==="warning","bg-blue-50 border-blue-200 text-blue-800":X.value==="info"},"px-4 py-3 rounded-xl border-2 shadow-lg flex items-start space-x-3"])},[X.value==="success"?(M(),T("svg",D$,[...f[408]||(f[408]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):X.value==="error"?(M(),T("svg",L$,[...f[409]||(f[409]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):X.value==="warning"?(M(),T("svg",$$,[...f[410]||(f[410]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)])])):(M(),T("svg",R$,[...f[411]||(f[411]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),i("div",B$,[i("p",P$,N(q.value),1)]),i("button",{onClick:f[114]||(f[114]=F=>q.value=""),class:"text-gray-400 hover:text-gray-600 flex-shrink-0"},[...f[412]||(f[412]=[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)])):Q("",!0),i("div",{class:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white/95 backdrop-blur-sm z-10"},[f[414]||(f[414]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"SSL",-1)),i("button",{onClick:Ec,class:"text-gray-400 hover:text-gray-600 transition-colors p-1 -mr-1"},[...f[413]||(f[413]=[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",O$,[i("div",I$,[i("nav",N$,[i("button",{onClick:f[115]||(f[115]=F=>ki.value="domains"),class:Le(["py-2.5 sm:py-2 px-3 sm:px-4 text-xs sm:text-sm font-medium border-b-2 transition-colors whitespace-nowrap",ki.value==="domains"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[...f[415]||(f[415]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})],-1),be("  ",-1)])],2),i("button",{onClick:f[116]||(f[116]=F=>ki.value="certificates"),class:Le(["py-2.5 sm:py-2 px-3 sm:px-4 text-xs sm:text-sm font-medium border-b-2 transition-colors whitespace-nowrap",ki.value==="certificates"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[...f[416]||(f[416]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1),be("  ",-1)])],2),i("button",{onClick:f[117]||(f[117]=F=>ki.value="upload"),class:Le(["py-2.5 sm:py-2 px-3 sm:px-4 text-xs sm:text-sm font-medium border-b-2 transition-colors whitespace-nowrap",ki.value==="upload"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[...f[417]||(f[417]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),be("  ",-1)])],2)])]),ki.value==="domains"?(M(),T("div",j$,[Dn.value?Q("",!0):(M(),T("div",H$,[i("div",z$,[f[418]||(f[418]=i("div",{class:"flex-1 min-w-0"},[i("h4",{class:"text-sm sm:text-base font-medium text-yellow-900 mb-1"},"SSL"),i("p",{class:"text-xs sm:text-sm text-yellow-700 break-words"},"SSLSSL")],-1)),i("button",{onClick:n1,disabled:Hr.value||!po.value,class:"w-full sm:w-auto px-4 py-2.5 sm:py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-md transition-colors touch-manipulation sm:ml-4"},N(Hr.value?"...":"SSL"),9,F$)])])),Sc.value?(M(),T("div",U$,[i("div",V$,[i("div",W$,[f[419]||(f[419]=i("h4",{class:"text-sm sm:text-base font-medium text-blue-900 mb-1"},"HTTPHTTPS",-1)),Ki.value?(M(),T("p",q$,"  HTTPHTTPSHTTPHTTPS ")):(M(),T("p",K$,"HTTPHTTPS2-3"))]),i("div",G$,[Ki.value?(M(),T("button",{key:1,onClick:l1,disabled:mo.value,class:Le(["w-full sm:w-auto px-4 py-2.5 sm:py-2 text-sm font-medium rounded-md transition-colors flex-shrink-0 touch-manipulation min-h-[44px] sm:min-h-0",(mo.value,"bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed")]),title:"HTTPHTTPS"},[mo.value?(M(),T("span",Q$,[...f[422]||(f[422]=[i("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),be(" ... ",-1)])])):(M(),T("span",eR,[...f[423]||(f[423]=[i("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),be(" HTTP ",-1)])]))],10,Z$)):(M(),T("button",{key:0,onClick:a1,disabled:rr.value,class:Le(["w-full sm:w-auto px-4 py-2.5 sm:py-2 text-sm font-medium rounded-md transition-colors flex-shrink-0 touch-manipulation min-h-[44px] sm:min-h-0",(rr.value,"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed")]),title:"HTTPHTTPS"},[rr.value?(M(),T("span",Y$,[...f[420]||(f[420]=[i("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),be(" ... ",-1)])])):(M(),T("span",J$,[...f[421]||(f[421]=[i("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1),be(" HTTP ",-1)])]))],10,X$))])])])):Q("",!0),i("div",tR,[i("div",sR,[f[424]||(f[424]=i("h5",{class:"text-sm sm:text-base font-medium text-gray-900"},"SSL",-1)),i("button",{onClick:f[118]||(f[118]=F=>xr.value=!xr.value),class:"w-full sm:w-auto text-xs sm:text-sm px-4 py-2 sm:px-3 sm:py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors touch-manipulation"},N(xr.value?"":""),1)]),xr.value?(M(),T("div",iR,[i("div",rR,[i("div",null,[f[425]||(f[425]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"",-1)),Re(i("input",{"onUpdate:modelValue":f[119]||(f[119]=F=>ii.value=F),type:"text",placeholder:"example.com",class:"w-full px-3 py-2.5 sm:py-2 text-base sm:text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[je,ii.value]])]),i("div",null,[f[427]||(f[427]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},"",-1)),Re(i("select",{"onUpdate:modelValue":f[120]||(f[120]=F=>fo.value=F),class:"w-full px-3 py-2.5 sm:py-2 text-base sm:text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"},[f[426]||(f[426]=i("option",{value:""},"",-1)),(M(!0),T(Fe,null,Qe(ja.value,F=>(M(),T("option",{key:F.name,value:F.name},N(F.name)+" "+N(F.expiresAt?`(: ${F.expiresAt})`:""),9,oR))),128))],512),[[Ni,fo.value]]),f[428]||(f[428]=i("p",{class:"text-xs text-gray-500 mt-1.5 break-words"},"",-1))]),i("div",nR,[i("button",{onClick:Wg,disabled:!ii.value||Hs.value,class:"flex-1 px-4 py-2.5 sm:py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation"},N(Hs.value?"...":""),9,aR),i("button",{onClick:f[121]||(f[121]=F=>xr.value=!1),class:"flex-1 sm:flex-none px-4 py-2.5 sm:py-2 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 touch-manipulation"},"  ")])])])):Q("",!0),i("div",lR,[(M(!0),T(Fe,null,Qe(Ri.value,F=>(M(),T("div",{key:F.name,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-3 bg-gray-50 rounded-lg border border-gray-200 space-y-3 sm:space-y-0"},[i("div",cR,[f[432]||(f[432]=i("div",{class:"w-8 h-8 sm:w-8 sm:h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0"},[i("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})])],-1)),i("div",uR,[i("div",dR,[i("span",hR,N(F.name),1),F.certName?(M(),T("span",fR," (: "+N(F.certName)+") ",1)):Q("",!0)]),i("div",pR,[F.certExists?(M(),T("span",mR,[...f[429]||(f[429]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):Q("",!0),F.sslConfigured?(M(),T("span",gR,[...f[430]||(f[430]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),be(" Apache SSL ",-1)])])):Q("",!0),!F.sslConfigured&&F.certExists?(M(),T("span",vR,[...f[431]||(f[431]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),be(" Apache SSL ",-1)])])):Q("",!0),F.expiresAt?(M(),T("span",bR," "+N(F.expiresAt),1)):Q("",!0)])])]),i("div",xR,[F.certExists?(M(),T("button",{key:0,onClick:cs=>qg(F),disabled:F.sslConfigured||F.sslConfiguring,class:Le(["flex-1 sm:flex-none px-3 sm:px-3 py-2 sm:py-1.5 text-xs sm:text-xs font-medium rounded-md transition-colors touch-manipulation min-h-[44px] sm:min-h-0",F.sslConfigured?"bg-blue-600 text-white cursor-not-allowed opacity-60":(F.sslConfiguring,"bg-green-600 text-white hover:bg-green-700 disabled:bg-green-400")]),title:F.sslConfigured?"Apache SSLSSL":"Apache SSL"},[F.sslConfiguring?(M(),T("span",yR,[...f[433]||(f[433]=[i("svg",{class:"animate-spin -ml-1 mr-1.5 h-3.5 w-3.5 sm:h-3 sm:w-3 text-white",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),be(" ... ",-1)])])):(M(),T("span",wR,[F.sslConfigured?(M(),T("svg",kR,[...f[434]||(f[434]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},null,-1)])])):(M(),T("svg",SR,[...f[435]||(f[435]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"},null,-1)])])),be(" "+N(F.sslConfigured?"":"HTTPS"),1)]))],10,_R)):Q("",!0),F.certExists?(M(),T("button",{key:1,onClick:cs=>Kg(F),disabled:!F.sslConfigured||F.sslDisabling,class:Le(["flex-1 sm:flex-none px-3 sm:px-3 py-2 sm:py-1.5 text-xs sm:text-xs font-medium rounded-md transition-colors touch-manipulation min-h-[44px] sm:min-h-0",F.sslConfigured?(F.sslDisabling,"bg-red-600 text-white hover:bg-red-700 disabled:bg-red-400"):"bg-gray-400 text-white cursor-not-allowed opacity-60"]),title:F.sslConfigured?"Apache SSL":"SSL"},[F.sslDisabling?(M(),T("span",ER,[...f[436]||(f[436]=[i("svg",{class:"animate-spin -ml-1 mr-1.5 h-3.5 w-3.5 sm:h-3 sm:w-3 text-white",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),be(" ... ",-1)])])):(M(),T("span",AR,[...f[437]||(f[437]=[i("svg",{class:"w-3.5 h-3.5 sm:w-3 sm:h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})],-1),be(" SSL ",-1)])]))],10,CR)):Q("",!0),i("div",MR,[i("button",{onClick:cs=>Xg(F),class:"p-2.5 sm:p-2 text-blue-500 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors touch-manipulation min-w-[44px] sm:min-w-0 min-h-[44px] sm:min-h-0 flex items-center justify-center",title:""},[...f[438]||(f[438]=[i("svg",{class:"w-5 h-5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,TR),i("button",{onClick:cs=>Gg(F.name),class:"p-2.5 sm:p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors touch-manipulation min-w-[44px] sm:min-w-0 min-h-[44px] sm:min-h-0 flex items-center justify-center",title:""},[...f[439]||(f[439]=[i("svg",{class:"w-5 h-5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,DR)])])]))),128)),Ri.value.length===0?(M(),T("div",LR," SSL ")):Q("",!0)])])])):Q("",!0),ki.value==="certificates"?(M(),T("div",$R,[i("div",RR,[i("div",BR,[f[440]||(f[440]=i("h5",{class:"text-sm sm:text-base font-medium text-gray-900"},"",-1)),i("span",PR,N(jr.value.length)+" ",1)]),i("div",OR,[(M(!0),T(Fe,null,Qe(jr.value,F=>(M(),T("div",{key:F.name,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 bg-gradient-to-r from-gray-50 to-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 space-y-3 sm:space-y-0"},[i("div",IR,[f[444]||(f[444]=i("div",{class:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center shadow-sm"},[i("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),i("div",NR,[i("div",jR,[i("span",HR,N(F.name),1),F.expiresAt&&Hd(F.expiresAt)?(M(),T("span",zR,[...f[441]||(f[441]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):Q("",!0)]),i("div",FR,[F.expiresAt?(M(),T("span",{key:0,class:Le(["inline-flex items-center px-2 py-1 rounded-md text-xs font-medium",Hd(F.expiresAt)?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},[f[442]||(f[442]=i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})],-1)),be(" "+N(F.expiresAt),1)],2)):Q("",!0),F.domains&&F.domains.length>0?(M(),T("span",UR,[f[443]||(f[443]=i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M11.3 1.047A5 5 0 0115 6h-2.5a2.5 2.5 0 00-4.6-.544A2.5 2.5 0 005.5 8H3a3 3 0 100 6h2.5a2.5 2.5 0 004.6.544A5 5 0 1111.3 1.047zM9 8H5.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5H9v-4zm4.5 0H11v4h2.5a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5z","clip-rule":"evenodd"})],-1)),be("  "+N(F.domains.length)+"  ",1)])):Q("",!0)])])]),i("div",VR,[i("button",{onClick:cs=>c1(F),class:"flex-1 sm:flex-none px-4 py-2.5 sm:py-2 text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-sm hover:shadow-md flex items-center justify-center space-x-1 touch-manipulation min-h-[44px] sm:min-h-0",title:""},[...f[445]||(f[445]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),i("span",null,"",-1)])],8,WR),i("button",{onClick:cs=>u1(F),disabled:F.deleting,class:"flex-1 sm:flex-none px-4 py-2.5 sm:py-2 text-xs sm:text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed rounded-lg transition-colors shadow-sm hover:shadow-md flex items-center justify-center space-x-1 touch-manipulation min-h-[44px] sm:min-h-0",title:""},[F.deleting?(M(),T("svg",GR,[...f[447]||(f[447]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",KR,[...f[446]||(f[446]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])),i("span",null,N(F.deleting?"...":""),1)],8,qR)])]))),128)),jr.value.length===0?(M(),T("div",XR,[...f[448]||(f[448]=[i("svg",{class:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1),i("p",{class:"text-sm font-medium"},"",-1),i("p",{class:"text-xs text-gray-400 mt-1"},"",-1)])])):Q("",!0)])])])):Q("",!0),ki.value==="upload"?(M(),T("div",YR,[i("div",JR,[f[458]||(f[458]=i("h5",{class:"text-sm sm:text-base font-medium text-gray-900 mb-3 sm:mb-4"},"SSL",-1)),i("div",{onDrop:Qg,onDragover:f[122]||(f[122]=ut(F=>de.value=!0,["prevent"])),onDragleave:f[123]||(f[123]=ut(F=>de.value=!1,["prevent"])),onDragenter:f[124]||(f[124]=ut(()=>{},["prevent"])),onClick:f[125]||(f[125]=()=>{var F;return(F=Ie.value)==null?void 0:F.click()}),class:Le(["border-2 border-dashed rounded-lg p-6 sm:p-8 text-center transition-colors cursor-pointer touch-manipulation",de.value?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-400 hover:bg-gray-50"])},[i("input",{type:"file",multiple:"",accept:".crt,.pem,.cer,.key",onChange:e1,class:"hidden",ref_key:"fileInputRef",ref:Ie,id:"cert-file-input"},null,544),i("div",ZR,[f[449]||(f[449]=i("svg",{class:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),i("p",QR,N(de.value?"":""),1),f[450]||(f[450]=i("p",{class:"text-xs sm:text-sm text-gray-500 break-words"},[be(" "),i("br",{class:"hidden sm:block"}),i("span",{class:"block sm:inline"},"example.com.keywww.example.com_public.crtwww.example.com_chain.crt")],-1))])],34),ce.value.length>0?(M(),T("div",eB,[(M(!0),T(Fe,null,Qe(ce.value,(F,cs)=>(M(),T("div",{key:F.id,class:"border border-gray-200 rounded-lg p-3 sm:p-4 bg-gray-50"},[i("div",tB,[i("div",sB,[i("h6",iB," #"+N(cs+1),1),F.domainName?(M(),T("p",rB,": "+N(F.domainName),1)):Q("",!0)]),i("button",{onClick:ri=>t1(F.id),class:"w-full sm:w-auto text-xs px-3 py-2 sm:px-2 sm:py-1 text-red-600 hover:bg-red-50 rounded transition-colors touch-manipulation min-h-[44px] sm:min-h-0"},"  ",8,oB)]),i("div",nB,[i("div",null,[f[451]||(f[451]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5"}," (.crt, .pem, .cer) *",-1)),i("div",aB,[i("input",{onChange:ri=>s1(ri,F.id),type:"file",accept:".crt,.pem,.cer",class:"flex-1 px-3 py-2.5 sm:px-2 sm:py-1.5 text-sm sm:text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"},null,40,lB),F.certFile?(M(),T("span",cB," "+N(F.certFile.name),1)):Q("",!0)])]),i("div",null,[f[452]||(f[452]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5"}," (.key, .pem) *",-1)),i("div",uB,[i("input",{onChange:ri=>i1(ri,F.id),type:"file",accept:".key,.pem",class:"flex-1 px-3 py-2.5 sm:px-2 sm:py-1.5 text-sm sm:text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"},null,40,dB),F.keyFile?(M(),T("span",hB," "+N(F.keyFile.name),1)):Q("",!0)])]),i("div",null,[f[453]||(f[453]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5"},[be(" (.crt, .pem, .cer) "),i("span",{class:"text-gray-400"},"()")],-1)),i("div",fB,[i("input",{onChange:ri=>r1(ri,F.id),type:"file",accept:".crt,.pem,.cer",class:"flex-1 px-3 py-2.5 sm:px-2 sm:py-1.5 text-sm sm:text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"},null,40,pB),F.chainFile?(M(),T("span",mB," "+N(F.chainFile.name),1)):(M(),T("span",gB,""))]),f[454]||(f[454]=i("p",{class:"text-xs text-gray-500 mt-1.5 break-words"},"SSL",-1))]),i("div",null,[f[455]||(f[455]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5"}," *",-1)),Re(i("input",{"onUpdate:modelValue":ri=>F.certName=ri,type:"text",placeholder:F.domainName?`: ${F.domainName}`:": my-cert-2024",class:"w-full px-3 py-2.5 sm:px-2 sm:py-1.5 text-sm sm:text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"},null,8,vB),[[je,F.certName]]),f[456]||(f[456]=i("p",{class:"text-xs text-gray-500 mt-1.5 break-words"},"",-1))])])]))),128)),i("div",bB,[i("button",{onClick:o1,disabled:me.value||!jd.value,class:"w-full px-4 py-3 sm:py-2 text-sm font-medium bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors touch-manipulation min-h-[44px] sm:min-h-0 flex items-center justify-center"},[me.value?(M(),T("svg",_B,[...f[457]||(f[457]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Q("",!0),be(" "+N(me.value?"...":` ${ce.value.length} `),1)],8,xB)])])):Q("",!0)])])):Q("",!0)]),i("div",{class:"px-3 sm:px-4 md:px-6 py-3 sm:py-4 border-t border-gray-200 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 sticky bottom-0 bg-white/95 backdrop-blur-sm"},[i("button",{onClick:Ec,class:"w-full sm:w-auto px-4 py-2.5 sm:py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors touch-manipulation"},"  ")])])])):Q("",!0),vo.value?(M(),T("div",yB,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:f[126]||(f[126]=F=>vo.value=!1)}),i("div",wB,[i("div",kB,[i("div",SB,[f[460]||(f[460]=i("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-lg"},[i("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),i("div",null,[f[459]||(f[459]=i("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900"},"",-1)),$t.value?(M(),T("p",CB,N($t.value.name),1)):Q("",!0)])]),i("button",{onClick:f[127]||(f[127]=F=>vo.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-white/50 rounded-lg"},[...f[461]||(f[461]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",EB,[Ln.value?(M(),T("div",AB,[...f[462]||(f[462]=[i("svg",{class:"animate-spin h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i("span",{class:"ml-3 text-gray-600"},"...",-1)])])):$t.value?(M(),T("div",MB,[i("div",TB,[f[469]||(f[469]=i("h4",{class:"text-sm font-semibold text-gray-900 mb-4 flex items-center"},[i("svg",{class:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),be("  ")],-1)),i("div",DB,[i("div",null,[f[463]||(f[463]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"",-1)),i("p",LB,N($t.value.name),1)]),i("div",null,[f[466]||(f[466]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"",-1)),i("p",$B,[$t.value.isValid?(M(),T("span",RB,[...f[464]||(f[464]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):(M(),T("span",BB,[...f[465]||(f[465]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),be("  ",-1)])]))])]),i("div",null,[f[467]||(f[467]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"",-1)),i("p",PB,N($t.value.notBefore||""),1)]),i("div",null,[f[468]||(f[468]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"",-1)),i("p",{class:Le(["mt-1 text-sm font-semibold",$t.value.isValid?"text-gray-900":"text-red-600"])},N($t.value.notAfter||""),3)])])]),i("div",OB,[f[479]||(f[479]=i("h4",{class:"text-sm font-semibold text-gray-900 mb-4 flex items-center"},[i("svg",{class:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),be("  ")],-1)),i("div",IB,[i("div",NB,[i("div",jB,[f[471]||(f[471]=i("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[i("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),i("div",null,[f[470]||(f[470]=i("p",{class:"text-sm font-medium text-gray-900"}," (.crt)",-1)),i("p",HB,N($t.value.certFile),1)])]),f[472]||(f[472]=i("span",{class:"text-xs text-green-600 font-medium"},"",-1))]),$t.value.keyExists?(M(),T("div",zB,[i("div",FB,[f[474]||(f[474]=i("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[i("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})])],-1)),i("div",null,[f[473]||(f[473]=i("p",{class:"text-sm font-medium text-gray-900"}," (.key)",-1)),i("p",UB,N($t.value.keyFile),1)])]),f[475]||(f[475]=i("span",{class:"text-xs text-green-600 font-medium"},"",-1))])):Q("",!0),$t.value.chainExists?(M(),T("div",VB,[i("div",WB,[f[477]||(f[477]=i("div",{class:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},[i("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1)),i("div",null,[f[476]||(f[476]=i("p",{class:"text-sm font-medium text-gray-900"}," (.chain.crt)",-1)),i("p",qB,N($t.value.chainFile),1)])]),f[478]||(f[478]=i("span",{class:"text-xs text-green-600 font-medium"},"",-1))])):Q("",!0)])]),$t.value.subject||$t.value.issuer||$t.value.serial||$t.value.fingerprint?(M(),T("div",KB,[f[485]||(f[485]=i("h4",{class:"text-sm font-semibold text-gray-900 mb-4 flex items-center"},[i("svg",{class:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),be("  ")],-1)),i("div",GB,[$t.value.subject?(M(),T("div",XB,[f[480]||(f[480]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," (Subject)",-1)),i("p",YB,N($t.value.subject),1)])):Q("",!0),$t.value.issuer?(M(),T("div",JB,[f[481]||(f[481]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," (Issuer)",-1)),i("p",ZB,N($t.value.issuer),1)])):Q("",!0),$t.value.serial?(M(),T("div",QB,[f[482]||(f[482]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"}," (Serial)",-1)),i("p",eP,N($t.value.serial),1)])):Q("",!0),$t.value.fingerprint?(M(),T("div",tP,[f[483]||(f[483]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"SHA256 ",-1)),i("p",sP,N($t.value.fingerprint),1)])):Q("",!0),$t.value.san&&$t.value.san.length>0?(M(),T("div",iP,[f[484]||(f[484]=i("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"SAN (Subject Alternative Names)",-1)),i("div",rP,[(M(!0),T(Fe,null,Qe($t.value.san,(F,cs)=>(M(),T("div",{key:cs,class:Le(["inline-flex items-center px-2 py-1 rounded-md text-xs font-medium mr-2 mb-2",F.type==="DNS"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"])},[(M(),T("svg",oP,[F.type==="DNS"?(M(),T("path",nP)):(M(),T("path",aP))])),be(" "+N(F.type)+": "+N(F.value),1)],2))),128))])])):Q("",!0)])])):Q("",!0),$t.value.usedByDomains&&$t.value.usedByDomains.length>0?(M(),T("div",lP,[i("h4",cP,[f[486]||(f[486]=i("svg",{class:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})],-1)),be("  ("+N($t.value.usedByDomains.length)+") ",1)]),i("div",uP,[(M(!0),T(Fe,null,Qe($t.value.usedByDomains,F=>(M(),T("span",{key:F,class:"inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-medium bg-blue-100 text-blue-800"},[f[487]||(f[487]=i("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})],-1)),be(" "+N(F),1)]))),128))])])):(M(),T("div",dP,[...f[488]||(f[488]=[i("div",{class:"text-center py-4"},[i("svg",{class:"w-12 h-12 mx-auto text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})]),i("p",{class:"text-sm text-gray-500"},"")],-1)])]))])):(M(),T("div",hP,[...f[489]||(f[489]=[i("svg",{class:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),i("p",{class:"text-sm font-medium"},"",-1)])]))]),i("div",fP,[i("button",{onClick:f[128]||(f[128]=F=>vo.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 rounded-lg transition-colors shadow-sm"},"  ")])])])):Q("",!0),zr.value?(M(),T("div",pP,[i("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:f[129]||(f[129]=F=>zr.value=!1)}),i("div",mP,[i("div",gP,[f[491]||(f[491]=i("h3",{class:"text-base sm:text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:f[130]||(f[130]=F=>zr.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...f[490]||(f[490]=[i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",vP,[Fr.value?(M(),T("div",bP,[i("div",null,[f[492]||(f[492]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),i("input",{value:Fr.value.name,type:"text",disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600"},null,8,xP)]),i("div",null,[f[494]||(f[494]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("select",{"onUpdate:modelValue":f[131]||(f[131]=F=>go.value=F),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"},[f[493]||(f[493]=i("option",{value:""},"",-1)),(M(!0),T(Fe,null,Qe(ja.value,F=>(M(),T("option",{key:F.name,value:F.name},N(F.name)+" "+N(F.expiresAt?`(: ${F.expiresAt})`:""),9,_P))),128))],512),[[Ni,go.value]]),f[495]||(f[495]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))])])):Q("",!0)]),i("div",yP,[i("button",{onClick:f[132]||(f[132]=F=>zr.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"  "),i("button",{onClick:Yg,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors"},"  ")])])])):Q("",!0)])]}),_:1}))}}),kP=Vi(wP,[["__scopeId","data-v-57359ac6"]]),SP={class:"reset-page"},CP={class:"sci-fi-background"},EP={class:"particle-container"},AP={class:"back-home"},MP={class:"reset-container"},TP={class:"reset-card"},DP={key:0,class:"notice-container"},LP={key:0,class:"notice notice-error"},$P={key:1,class:"notice notice-success"},RP={key:2,class:"notice notice-info"},BP={class:"form-group"},PP={class:"input-wrapper"},OP={class:"form-group"},IP={class:"input-wrapper"},NP={class:"form-group"},jP={class:"captcha-wrapper"},HP={class:"input-wrapper flex-1"},zP={class:"captcha-display"},FP={class:"form-footer"},UP={class:"page-footer"},VP={class:"footer-content"},WP={class:"copyright"},qP={key:0,class:"icp-inline"},KP=["href"],GP={class:"version-text"},XP=Ai({__name:"Reset",setup(t){const e=V(""),s=V(""),r=V(""),o=V("info"),a=V(""),l=V(""),n=V(""),c=V("V0.0.1"),u=V({enabled:!1,number:"",url:"https://beian.miit.gov.cn/"}),d=async()=>{try{const m=await fetch("/api/icp-info");if(m.ok){const v=await m.json();v.success&&v.icp&&(u.value={enabled:v.icp.enabled||!1,number:v.icp.number||"",url:v.icp.url||"https://beian.miit.gov.cn/"})}}catch(m){console.warn(":",m)}},h=async()=>{try{const m=await An.getVersion();c.value=`V${m}`}catch(m){console.warn(":",m)}},g=m=>{const v=Math.random()*3+1,p=Math.random()*20+10,x=Math.random()*5,y=Math.random()*100;return{width:`${v}px`,height:`${v}px`,left:`${y}%`,animationDuration:`${p}s`,animationDelay:`${x}s`}};async function _(){try{const m=await fetch("/api/captcha/generate");if(!m.ok)throw new Error("");const v=await m.json();v.success&&(a.value=v.captchaId,l.value=v.question,n.value="")}catch(m){console.error(":",m),o.value="error",r.value=`: ${(m==null?void 0:m.message)||m}`}}async function w(){await _()}async function b(){var m;try{if(!a.value||n.value==null||n.value===""){o.value="error",r.value="";return}try{const x=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")||btoa("xm:xm666@")}`}});if(x.ok){const y=await x.json();if(y.success&&((m=y.settings)!=null&&m.security)){const E=y.settings.security,A=E.passwordMinLength||8,D=E.requireSpecialChars||!1;if(s.value.length<A){o.value="error",r.value=`${A}`;return}if(D){const S=/[A-Z]/.test(s.value),C=/[a-z]/.test(s.value),B=/[0-9]/.test(s.value),L=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(s.value);if(!S||!C||!B||!L){o.value="error";const $=[];S||$.push(""),C||$.push(""),B||$.push(""),L||$.push(""),r.value=`${$.join("")}`;return}}}}}catch{if(s.value.length<8){o.value="error",r.value="8";return}}let v=sessionStorage.getItem("apiAuth");v||(v=btoa("xm:xm666@"));const p=await fetch("/api/ops",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${v}`},body:JSON.stringify({action:"app-reset",params:{username:e.value,newpass:s.value,captchaId:a.value,captchaAnswer:n.value}})});if(!p.ok){let x=` (HTTP ${p.status})`;try{const y=await p.json();y.error?x=y.error:y.message?x=y.message:x=await p.text()||x}catch{try{const E=await p.text();if(E)try{const A=JSON.parse(E);x=A.error||A.message||E}catch{x=E}}catch{}}o.value="error",r.value=x,p.status===400&&(x.includes("")||x.includes("captcha"))&&await w();return}o.value="success",r.value=" schema ",e.value="",s.value="",n.value="",await w()}catch(v){o.value="error",r.value=`: ${(v==null?void 0:v.message)||v}`}}return Mi(()=>{h(),d(),_()}),(m,v)=>{const p=uo("router-link");return M(),T("div",SP,[i("div",CP,[v[3]||(v[3]=i("div",{class:"gradient-orb orb-1"},null,-1)),v[4]||(v[4]=i("div",{class:"gradient-orb orb-2"},null,-1)),v[5]||(v[5]=i("div",{class:"gradient-orb orb-3"},null,-1)),v[6]||(v[6]=i("div",{class:"grid-pattern"},null,-1)),i("div",EP,[(M(),T(Fe,null,Qe(30,x=>i("div",{key:x,class:"particle",style:vs(g())},null,4)),64))])]),i("div",AP,[gt(p,{to:"/",class:"back-button"},{default:Bt(()=>[...v[7]||(v[7]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),i("span",null,"",-1)])]),_:1})]),i("div",MP,[i("div",TP,[v[20]||(v[20]=Us('<div class="card-header" data-v-8833ce1b><div class="logo-section" data-v-8833ce1b><img src="'+ao+'" alt="Logo" class="logo-icon" data-v-8833ce1b><div class="logo-text" data-v-8833ce1b>XM</div></div><h2 class="card-title" data-v-8833ce1b></h2><p class="card-subtitle" data-v-8833ce1b></p></div>',1)),r.value?(M(),T("div",DP,[o.value==="error"?(M(),T("div",LP,[v[8]||(v[8]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})],-1)),i("span",null,N(r.value),1)])):o.value==="success"?(M(),T("div",$P,[v[9]||(v[9]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i("polyline",{points:"22 4 12 14.01 9 11.01"})],-1)),i("span",null,N(r.value),1)])):(M(),T("div",RP,[v[10]||(v[10]=i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)),i("span",null,N(r.value),1)]))])):Q("",!0),i("form",{onSubmit:ut(b,["prevent"]),class:"reset-form"},[i("div",BP,[v[12]||(v[12]=i("label",{class:"form-label"},"",-1)),i("div",PP,[v[11]||(v[11]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),i("circle",{cx:"12",cy:"7",r:"4"})],-1)),Re(i("input",{"onUpdate:modelValue":v[0]||(v[0]=x=>e.value=x),required:"",class:"form-input",placeholder:""},null,512),[[je,e.value]])])]),i("div",OP,[v[14]||(v[14]=i("label",{class:"form-label"},"",-1)),i("div",IP,[v[13]||(v[13]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),i("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})],-1)),Re(i("input",{type:"password","onUpdate:modelValue":v[1]||(v[1]=x=>s.value=x),required:"",class:"form-input",placeholder:""},null,512),[[je,s.value]])])]),i("div",NP,[v[17]||(v[17]=i("label",{class:"form-label"},"",-1)),i("div",jP,[i("div",HP,[v[15]||(v[15]=i("svg",{class:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0 1 12 2.944a11.955 11.955 0 0 1-8.618 3.04A12.02 12.02 0 0 0 3 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1)),Re(i("input",{"onUpdate:modelValue":v[2]||(v[2]=x=>n.value=x),required:"",type:"number",class:"form-input",placeholder:""},null,512),[[je,n.value]])]),i("div",zP,N(l.value),1),i("button",{type:"button",onClick:w,class:"refresh-button"},[...v[16]||(v[16]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("polyline",{points:"23 4 23 10 17 10"}),i("polyline",{points:"1 20 1 14 7 14"}),i("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})],-1)])])])]),v[18]||(v[18]=i("button",{type:"submit",class:"submit-button"},[i("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M15 7a2 2 0 0 1 2 2m4 0a6 6 0 0 1-7.743 5.743L11 17H9v2H7v2H4a1 1 0 0 1-1-1v-2.586a1 1 0 0 1 .293-.707l5.964-5.964A6 6 0 1 1 21 9z"})]),i("span",null,"")],-1))],32),i("div",FP,[gt(p,{to:"/login",class:"footer-link"},{default:Bt(()=>[...v[19]||(v[19]=[i("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M13.8 12H3"})],-1),i("span",null,"",-1)])]),_:1})])])]),i("footer",UP,[i("div",VP,[i("div",WP,[v[21]||(v[21]=i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("text",{x:"12",y:"16","text-anchor":"middle","font-size":"8","font-weight":"bold"},"C")],-1)),v[22]||(v[22]=i("span",null,"2024-2026 XM.",-1)),u.value.enabled&&u.value.number?(M(),T("span",qP,[i("a",{href:u.value.url,target:"_blank",rel:"noopener noreferrer"},N(u.value.number),9,KP)])):Q("",!0)]),v[23]||(v[23]=i("div",{class:"footer-text"},"XM | ",-1)),i("div",GP,"Powered by XM "+N(c.value),1)])])])}}}),YP=Vi(XP,[["__scopeId","data-v-8833ce1b"]]);/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Ng,setPrototypeOf:Of,isFrozen:JP,getPrototypeOf:ZP,getOwnPropertyDescriptor:QP}=Object;let{freeze:ci,seal:Ui,create:Ku}=Object,{apply:Gu,construct:Xu}=typeof Reflect<"u"&&Reflect;ci||(ci=function(e){return e});Ui||(Ui=function(e){return e});Gu||(Gu=function(e,s){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];return e.apply(s,o)});Xu||(Xu=function(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return new e(...r)});const fl=ui(Array.prototype.forEach),eO=ui(Array.prototype.lastIndexOf),If=ui(Array.prototype.pop),qn=ui(Array.prototype.push),tO=ui(Array.prototype.splice),$l=ui(String.prototype.toLowerCase),uu=ui(String.prototype.toString),du=ui(String.prototype.match),Kn=ui(String.prototype.replace),sO=ui(String.prototype.indexOf),iO=ui(String.prototype.trim),Xi=ui(Object.prototype.hasOwnProperty),oi=ui(RegExp.prototype.test),Gn=rO(TypeError);function ui(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return Gu(t,e,r)}}function rO(t){return function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return Xu(t,s)}}function Rt(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$l;Of&&Of(t,null);let r=e.length;for(;r--;){let o=e[r];if(typeof o=="string"){const a=s(o);a!==o&&(JP(e)||(e[r]=a),o=a)}t[o]=!0}return t}function oO(t){for(let e=0;e<t.length;e++)Xi(t,e)||(t[e]=null);return t}function dr(t){const e=Ku(null);for(const[s,r]of Ng(t))Xi(t,s)&&(Array.isArray(r)?e[s]=oO(r):r&&typeof r=="object"&&r.constructor===Object?e[s]=dr(r):e[s]=r);return e}function Xn(t,e){for(;t!==null;){const r=QP(t,e);if(r){if(r.get)return ui(r.get);if(typeof r.value=="function")return ui(r.value)}t=ZP(t)}function s(){return null}return s}const Nf=ci(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hu=ci(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fu=ci(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nO=ci(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pu=ci(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),aO=ci(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jf=ci(["#text"]),Hf=ci(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),mu=ci(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zf=ci(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pl=ci(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lO=Ui(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cO=Ui(/<%[\w\W]*|[\w\W]*%>/gm),uO=Ui(/\$\{[\w\W]*/gm),dO=Ui(/^data-[\-\w.\u00B7-\uFFFF]+$/),hO=Ui(/^aria-[\-\w]+$/),jg=Ui(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fO=Ui(/^(?:\w+script|data):/i),pO=Ui(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Hg=Ui(/^html$/i),mO=Ui(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ff=Object.freeze({__proto__:null,ARIA_ATTR:hO,ATTR_WHITESPACE:pO,CUSTOM_ELEMENT:mO,DATA_ATTR:dO,DOCTYPE_NAME:Hg,ERB_EXPR:cO,IS_ALLOWED_URI:jg,IS_SCRIPT_OR_DATA:fO,MUSTACHE_EXPR:lO,TMPLIT_EXPR:uO});const Yn={element:1,text:3,progressingInstruction:7,comment:8,document:9},gO=function(){return typeof window>"u"?null:window},vO=function(e,s){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const o="data-tt-policy-suffix";s&&s.hasAttribute(o)&&(r=s.getAttribute(o));const a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Uf=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zg(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gO();const e=tt=>zg(tt);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Yn.document||!t.Element)return e.isSupported=!1,e;let{document:s}=t;const r=s,o=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:n,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:g,trustedTypes:_}=t,w=c.prototype,b=Xn(w,"cloneNode"),m=Xn(w,"remove"),v=Xn(w,"nextSibling"),p=Xn(w,"childNodes"),x=Xn(w,"parentNode");if(typeof l=="function"){const tt=s.createElement("template");tt.content&&tt.content.ownerDocument&&(s=tt.content.ownerDocument)}let y,E="";const{implementation:A,createNodeIterator:D,createDocumentFragment:S,getElementsByTagName:C}=s,{importNode:B}=r;let L=Uf();e.isSupported=typeof Ng=="function"&&typeof x=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$,ERB_EXPR:P,TMPLIT_EXPR:ie,DATA_ATTR:re,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:ue,ATTR_WHITESPACE:se,CUSTOM_ELEMENT:R}=Ff;let{IS_ALLOWED_URI:K}=Ff,G=null;const U=Rt({},[...Nf,...hu,...fu,...pu,...jf]);let pe=null;const Ae=Rt({},[...Hf,...mu,...zf,...pl]);let Me=Object.seal(Ku(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,W=null;const O=Object.seal(Ku(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let q=!0,X=!0,ge=!1,z=!0,J=!1,ne=!0,fe=!1,xe=!1,ae=!1,Ce=!1,Pe=!1,De=!1,Se=!0,He=!1;const Ne="user-content-";let Ve=!0,Be=!1,Ye={},st=null;const qe=Rt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _t=null;const wt=Rt({},["audio","video","img","source","image","track"]);let at=null;const rt=Rt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",lt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml";let _e=it,j=!1,Ke=null;const Ze=Rt({},[Wt,lt,it],uu);let et=Rt({},["mi","mo","mn","ms","mtext"]),nt=Rt({},["annotation-xml"]);const Gt=Rt({},["title","style","font","a","script"]);let Ue=null;const vt=["application/xhtml+xml","text/html"],jt="text/html";let Ut=null,Ft=null;const As=s.createElement("form"),ds=function(ee){return ee instanceof RegExp||ee instanceof Function},hs=function(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ft&&Ft===ee)){if((!ee||typeof ee!="object")&&(ee={}),ee=dr(ee),Ue=vt.indexOf(ee.PARSER_MEDIA_TYPE)===-1?jt:ee.PARSER_MEDIA_TYPE,Ut=Ue==="application/xhtml+xml"?uu:$l,G=Xi(ee,"ALLOWED_TAGS")?Rt({},ee.ALLOWED_TAGS,Ut):U,pe=Xi(ee,"ALLOWED_ATTR")?Rt({},ee.ALLOWED_ATTR,Ut):Ae,Ke=Xi(ee,"ALLOWED_NAMESPACES")?Rt({},ee.ALLOWED_NAMESPACES,uu):Ze,at=Xi(ee,"ADD_URI_SAFE_ATTR")?Rt(dr(rt),ee.ADD_URI_SAFE_ATTR,Ut):rt,_t=Xi(ee,"ADD_DATA_URI_TAGS")?Rt(dr(wt),ee.ADD_DATA_URI_TAGS,Ut):wt,st=Xi(ee,"FORBID_CONTENTS")?Rt({},ee.FORBID_CONTENTS,Ut):qe,ye=Xi(ee,"FORBID_TAGS")?Rt({},ee.FORBID_TAGS,Ut):dr({}),W=Xi(ee,"FORBID_ATTR")?Rt({},ee.FORBID_ATTR,Ut):dr({}),Ye=Xi(ee,"USE_PROFILES")?ee.USE_PROFILES:!1,q=ee.ALLOW_ARIA_ATTR!==!1,X=ee.ALLOW_DATA_ATTR!==!1,ge=ee.ALLOW_UNKNOWN_PROTOCOLS||!1,z=ee.ALLOW_SELF_CLOSE_IN_ATTR!==!1,J=ee.SAFE_FOR_TEMPLATES||!1,ne=ee.SAFE_FOR_XML!==!1,fe=ee.WHOLE_DOCUMENT||!1,Ce=ee.RETURN_DOM||!1,Pe=ee.RETURN_DOM_FRAGMENT||!1,De=ee.RETURN_TRUSTED_TYPE||!1,ae=ee.FORCE_BODY||!1,Se=ee.SANITIZE_DOM!==!1,He=ee.SANITIZE_NAMED_PROPS||!1,Ve=ee.KEEP_CONTENT!==!1,Be=ee.IN_PLACE||!1,K=ee.ALLOWED_URI_REGEXP||jg,_e=ee.NAMESPACE||it,et=ee.MATHML_TEXT_INTEGRATION_POINTS||et,nt=ee.HTML_INTEGRATION_POINTS||nt,Me=ee.CUSTOM_ELEMENT_HANDLING||{},ee.CUSTOM_ELEMENT_HANDLING&&ds(ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Me.tagNameCheck=ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&ds(ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Me.attributeNameCheck=ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&typeof ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Me.allowCustomizedBuiltInElements=ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),J&&(X=!1),Pe&&(Ce=!0),Ye&&(G=Rt({},jf),pe=[],Ye.html===!0&&(Rt(G,Nf),Rt(pe,Hf)),Ye.svg===!0&&(Rt(G,hu),Rt(pe,mu),Rt(pe,pl)),Ye.svgFilters===!0&&(Rt(G,fu),Rt(pe,mu),Rt(pe,pl)),Ye.mathMl===!0&&(Rt(G,pu),Rt(pe,zf),Rt(pe,pl))),ee.ADD_TAGS&&(typeof ee.ADD_TAGS=="function"?O.tagCheck=ee.ADD_TAGS:(G===U&&(G=dr(G)),Rt(G,ee.ADD_TAGS,Ut))),ee.ADD_ATTR&&(typeof ee.ADD_ATTR=="function"?O.attributeCheck=ee.ADD_ATTR:(pe===Ae&&(pe=dr(pe)),Rt(pe,ee.ADD_ATTR,Ut))),ee.ADD_URI_SAFE_ATTR&&Rt(at,ee.ADD_URI_SAFE_ATTR,Ut),ee.FORBID_CONTENTS&&(st===qe&&(st=dr(st)),Rt(st,ee.FORBID_CONTENTS,Ut)),ee.ADD_FORBID_CONTENTS&&(st===qe&&(st=dr(st)),Rt(st,ee.ADD_FORBID_CONTENTS,Ut)),Ve&&(G["#text"]=!0),fe&&Rt(G,["html","head","body"]),G.table&&(Rt(G,["tbody"]),delete ye.tbody),ee.TRUSTED_TYPES_POLICY){if(typeof ee.TRUSTED_TYPES_POLICY.createHTML!="function")throw Gn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ee.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Gn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=ee.TRUSTED_TYPES_POLICY,E=y.createHTML("")}else y===void 0&&(y=vO(_,o)),y!==null&&typeof E=="string"&&(E=y.createHTML(""));ci&&ci(ee),Ft=ee}},ys=Rt({},[...hu,...fu,...nO]),Zs=Rt({},[...pu,...aO]),Ms=function(ee){let Oe=x(ee);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:_e,tagName:"template"});const We=$l(ee.tagName),Pt=$l(Oe.tagName);return Ke[ee.namespaceURI]?ee.namespaceURI===lt?Oe.namespaceURI===it?We==="svg":Oe.namespaceURI===Wt?We==="svg"&&(Pt==="annotation-xml"||et[Pt]):!!ys[We]:ee.namespaceURI===Wt?Oe.namespaceURI===it?We==="math":Oe.namespaceURI===lt?We==="math"&&nt[Pt]:!!Zs[We]:ee.namespaceURI===it?Oe.namespaceURI===lt&&!nt[Pt]||Oe.namespaceURI===Wt&&!et[Pt]?!1:!Zs[We]&&(Gt[We]||!ys[We]):!!(Ue==="application/xhtml+xml"&&Ke[ee.namespaceURI]):!1},ws=function(ee){qn(e.removed,{element:ee});try{x(ee).removeChild(ee)}catch{m(ee)}},$s=function(ee,Oe){try{qn(e.removed,{attribute:Oe.getAttributeNode(ee),from:Oe})}catch{qn(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(ee),ee==="is")if(Ce||Pe)try{ws(Oe)}catch{}else try{Oe.setAttribute(ee,"")}catch{}},Qs=function(ee){let Oe=null,We=null;if(ae)ee="<remove></remove>"+ee;else{const ns=du(ee,/^[\r\n\t ]+/);We=ns&&ns[0]}Ue==="application/xhtml+xml"&&_e===it&&(ee='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ee+"</body></html>");const Pt=y?y.createHTML(ee):ee;if(_e===it)try{Oe=new g().parseFromString(Pt,Ue)}catch{}if(!Oe||!Oe.documentElement){Oe=A.createDocument(_e,"template",null);try{Oe.documentElement.innerHTML=j?E:Pt}catch{}}const fs=Oe.body||Oe.documentElement;return ee&&We&&fs.insertBefore(s.createTextNode(We),fs.childNodes[0]||null),_e===it?C.call(Oe,fe?"html":"body")[0]:fe?Oe.documentElement:fs},di=function(ee){return D.call(ee.ownerDocument||ee,ee,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},qt=function(ee){return ee instanceof h&&(typeof ee.nodeName!="string"||typeof ee.textContent!="string"||typeof ee.removeChild!="function"||!(ee.attributes instanceof d)||typeof ee.removeAttribute!="function"||typeof ee.setAttribute!="function"||typeof ee.namespaceURI!="string"||typeof ee.insertBefore!="function"||typeof ee.hasChildNodes!="function")},Ti=function(ee){return typeof n=="function"&&ee instanceof n};function Ts(tt,ee,Oe){fl(tt,We=>{We.call(e,ee,Oe,Ft)})}const wi=function(ee){let Oe=null;if(Ts(L.beforeSanitizeElements,ee,null),qt(ee))return ws(ee),!0;const We=Ut(ee.nodeName);if(Ts(L.uponSanitizeElement,ee,{tagName:We,allowedTags:G}),ne&&ee.hasChildNodes()&&!Ti(ee.firstElementChild)&&oi(/<[/\w!]/g,ee.innerHTML)&&oi(/<[/\w!]/g,ee.textContent)||ee.nodeType===Yn.progressingInstruction||ne&&ee.nodeType===Yn.comment&&oi(/<[/\w]/g,ee.data))return ws(ee),!0;if(!(O.tagCheck instanceof Function&&O.tagCheck(We))&&(!G[We]||ye[We])){if(!ye[We]&&Di(We)&&(Me.tagNameCheck instanceof RegExp&&oi(Me.tagNameCheck,We)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(We)))return!1;if(Ve&&!st[We]){const Pt=x(ee)||ee.parentNode,fs=p(ee)||ee.childNodes;if(fs&&Pt){const ns=fs.length;for(let bs=ns-1;bs>=0;--bs){const ei=b(fs[bs],!0);ei.__removalCount=(ee.__removalCount||0)+1,Pt.insertBefore(ei,v(ee))}}}return ws(ee),!0}return ee instanceof c&&!Ms(ee)||(We==="noscript"||We==="noembed"||We==="noframes")&&oi(/<\/no(script|embed|frames)/i,ee.innerHTML)?(ws(ee),!0):(J&&ee.nodeType===Yn.text&&(Oe=ee.textContent,fl([$,P,ie],Pt=>{Oe=Kn(Oe,Pt," ")}),ee.textContent!==Oe&&(qn(e.removed,{element:ee.cloneNode()}),ee.textContent=Oe)),Ts(L.afterSanitizeElements,ee,null),!1)},Wi=function(ee,Oe,We){if(Se&&(Oe==="id"||Oe==="name")&&(We in s||We in As))return!1;if(!(X&&!W[Oe]&&oi(re,Oe))){if(!(q&&oi(I,Oe))){if(!(O.attributeCheck instanceof Function&&O.attributeCheck(Oe,ee))){if(!pe[Oe]||W[Oe]){if(!(Di(ee)&&(Me.tagNameCheck instanceof RegExp&&oi(Me.tagNameCheck,ee)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(ee))&&(Me.attributeNameCheck instanceof RegExp&&oi(Me.attributeNameCheck,Oe)||Me.attributeNameCheck instanceof Function&&Me.attributeNameCheck(Oe,ee))||Oe==="is"&&Me.allowCustomizedBuiltInElements&&(Me.tagNameCheck instanceof RegExp&&oi(Me.tagNameCheck,We)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(We))))return!1}else if(!at[Oe]){if(!oi(K,Kn(We,se,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&ee!=="script"&&sO(We,"data:")===0&&_t[ee])){if(!(ge&&!oi(ue,Kn(We,se,"")))){if(We)return!1}}}}}}}return!0},Di=function(ee){return ee!=="annotation-xml"&&du(ee,R)},qi=function(ee){Ts(L.beforeSanitizeAttributes,ee,null);const{attributes:Oe}=ee;if(!Oe||qt(ee))return;const We={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pe,forceKeepAttr:void 0};let Pt=Oe.length;for(;Pt--;){const fs=Oe[Pt],{name:ns,namespaceURI:bs,value:ei}=fs,Li=Ut(ns),ir=ei;let ls=ns==="value"?ir:iO(ir);if(We.attrName=Li,We.attrValue=ls,We.keepAttr=!0,We.forceKeepAttr=void 0,Ts(L.uponSanitizeAttribute,ee,We),ls=We.attrValue,He&&(Li==="id"||Li==="name")&&($s(ns,ee),ls=Ne+ls),ne&&oi(/((--!?|])>)|<\/(style|title|textarea)/i,ls)){$s(ns,ee);continue}if(Li==="attributename"&&du(ls,"href")){$s(ns,ee);continue}if(We.forceKeepAttr)continue;if(!We.keepAttr){$s(ns,ee);continue}if(!z&&oi(/\/>/i,ls)){$s(ns,ee);continue}J&&fl([$,P,ie],ps=>{ls=Kn(ls,ps," ")});const Xt=Ut(ee.nodeName);if(!Wi(Xt,Li,ls)){$s(ns,ee);continue}if(y&&typeof _=="object"&&typeof _.getAttributeType=="function"&&!bs)switch(_.getAttributeType(Xt,Li)){case"TrustedHTML":{ls=y.createHTML(ls);break}case"TrustedScriptURL":{ls=y.createScriptURL(ls);break}}if(ls!==ir)try{bs?ee.setAttributeNS(bs,ns,ls):ee.setAttribute(ns,ls),qt(ee)?ws(ee):If(e.removed)}catch{$s(ns,ee)}}Ts(L.afterSanitizeAttributes,ee,null)},Is=function tt(ee){let Oe=null;const We=di(ee);for(Ts(L.beforeSanitizeShadowDOM,ee,null);Oe=We.nextNode();)Ts(L.uponSanitizeShadowNode,Oe,null),wi(Oe),qi(Oe),Oe.content instanceof a&&tt(Oe.content);Ts(L.afterSanitizeShadowDOM,ee,null)};return e.sanitize=function(tt){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=null,We=null,Pt=null,fs=null;if(j=!tt,j&&(tt="<!-->"),typeof tt!="string"&&!Ti(tt))if(typeof tt.toString=="function"){if(tt=tt.toString(),typeof tt!="string")throw Gn("dirty is not a string, aborting")}else throw Gn("toString is not a function");if(!e.isSupported)return tt;if(xe||hs(ee),e.removed=[],typeof tt=="string"&&(Be=!1),Be){if(tt.nodeName){const ei=Ut(tt.nodeName);if(!G[ei]||ye[ei])throw Gn("root node is forbidden and cannot be sanitized in-place")}}else if(tt instanceof n)Oe=Qs("<!---->"),We=Oe.ownerDocument.importNode(tt,!0),We.nodeType===Yn.element&&We.nodeName==="BODY"||We.nodeName==="HTML"?Oe=We:Oe.appendChild(We);else{if(!Ce&&!J&&!fe&&tt.indexOf("<")===-1)return y&&De?y.createHTML(tt):tt;if(Oe=Qs(tt),!Oe)return Ce?null:De?E:""}Oe&&ae&&ws(Oe.firstChild);const ns=di(Be?tt:Oe);for(;Pt=ns.nextNode();)wi(Pt),qi(Pt),Pt.content instanceof a&&Is(Pt.content);if(Be)return tt;if(Ce){if(Pe)for(fs=S.call(Oe.ownerDocument);Oe.firstChild;)fs.appendChild(Oe.firstChild);else fs=Oe;return(pe.shadowroot||pe.shadowrootmode)&&(fs=B.call(r,fs,!0)),fs}let bs=fe?Oe.outerHTML:Oe.innerHTML;return fe&&G["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&oi(Hg,Oe.ownerDocument.doctype.name)&&(bs="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+bs),J&&fl([$,P,ie],ei=>{bs=Kn(bs,ei," ")}),y&&De?y.createHTML(bs):bs},e.setConfig=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hs(tt),xe=!0},e.clearConfig=function(){Ft=null,xe=!1},e.isValidAttribute=function(tt,ee,Oe){Ft||hs({});const We=Ut(tt),Pt=Ut(ee);return Wi(We,Pt,Oe)},e.addHook=function(tt,ee){typeof ee=="function"&&qn(L[tt],ee)},e.removeHook=function(tt,ee){if(ee!==void 0){const Oe=eO(L[tt],ee);return Oe===-1?void 0:tO(L[tt],Oe,1)[0]}return If(L[tt])},e.removeHooks=function(tt){L[tt]=[]},e.removeAllHooks=function(){L=Uf()},e}var bO=zg();const xO={class:"relative min-h-screen overflow-hidden"},_O={class:"relative z-10 p-3 sm:p-6"},yO={key:0,class:"mb-6 max-w-full"},wO={class:"relative bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-blue-200/50 overflow-hidden hover:shadow-xl transition-shadow duration-300"},kO={class:"pl-5 pr-4 py-3.5 relative"},SO={class:"relative overflow-hidden w-full"},CO={class:"flex items-center space-x-3 text-gray-800 whitespace-nowrap px-4 flex-shrink-0"},EO={class:"flex items-center space-x-2.5"},AO={class:"text-sm font-medium text-gray-700"},MO={key:0,class:"flex items-center space-x-3 text-gray-800 whitespace-nowrap px-4 flex-shrink-0"},TO={class:"flex items-center space-x-2.5"},DO={class:"text-sm font-medium text-gray-700"},LO={key:1,class:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},$O={class:"flex items-start"},RO={class:"ml-3 flex-1"},BO={class:"mt-2 text-sm text-yellow-700"},PO={class:"mt-3 space-y-3"},OO={class:"flex items-start"},IO={class:"flex-1"},NO={class:"flex items-center"},jO={key:0,class:"ml-2 text-xs text-red-600 font-medium"},HO={key:1,class:"ml-2 text-xs text-green-600 font-medium"},zO={key:0,class:"text-xs text-red-600 mt-1"},FO={class:"flex items-start"},UO={class:"flex-1"},VO={class:"flex items-center"},WO={key:0,class:"ml-2 text-xs text-red-600 font-medium"},qO={key:1,class:"ml-2 text-xs text-green-600 font-medium"},KO={key:0,class:"text-xs text-red-600 mt-1"},GO={class:"flex items-start"},XO={class:"flex-1"},YO={class:"flex items-center"},JO={class:"text-sm font-medium"},ZO={key:0,class:"ml-2 text-xs text-red-600 font-medium"},QO={key:1,class:"ml-2 text-xs text-green-600 font-medium"},eI={key:0,class:"text-xs text-red-600 mt-1"},tI={class:"flex items-start"},sI={class:"flex-1"},iI={class:"flex items-center"},rI={key:0,class:"ml-2 text-xs text-red-600 font-medium"},oI={key:1,class:"ml-2 text-xs text-green-600 font-medium"},nI={key:0,class:"text-xs text-red-600 mt-1"},aI={class:"flex items-start"},lI={class:"flex-1"},cI={class:"flex items-center"},uI={key:0,class:"ml-2 text-xs text-red-600 font-medium"},dI={key:1,class:"ml-2 text-xs text-green-600 font-medium"},hI={key:0,class:"text-xs text-red-600 mt-1"},fI={key:0,class:"mt-4"},pI={class:"list-disc list-inside space-y-1 text-sm text-yellow-700"},mI={class:"mt-4 flex space-x-3"},gI=["disabled"],vI={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-yellow-500",fill:"none",viewBox:"0 0 24 24"},bI={key:1,class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xI={class:"flex flex-col sm:flex-row gap-4 sm:gap-6 mb-4 sm:mb-8"},_I={class:"w-full sm:w-64 flex-shrink-0 order-2 sm:order-1"},yI={class:"bg-white/95 backdrop-blur-md rounded-2xl shadow-xl border border-gray-100/50 p-5 space-y-2"},wI={key:0,class:"absolute inset-0 bg-white/20 animate-pulse"},kI={class:"space-y-1"},SI={class:"flex items-center space-x-3 flex-1 min-w-0 relative z-10"},CI={class:"flex items-center space-x-3 flex-1 min-w-0"},EI={class:"flex items-center space-x-3 flex-1 min-w-0"},AI={class:"flex items-center space-x-3 flex-1 min-w-0"},MI={class:"flex items-center space-x-3 flex-1 min-w-0"},TI={key:0,class:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent my-3"},DI={key:1,class:"space-y-1"},LI=["onClick"],$I={class:"flex items-center space-x-3 flex-1 min-w-0"},RI={class:"flex-1 text-left truncate text-sm"},BI={class:"flex items-center space-x-1 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"},PI=["onClick"],OI=["onClick"],II={class:"pt-2"},NI={class:"flex-1 min-w-0 order-1 sm:order-2"},jI={key:0,class:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-gray-100/50 overflow-hidden"},HI={class:"p-3 sm:p-6 border-b border-gray-200/50 bg-gradient-to-r from-blue-50/80 via-indigo-50/80 to-purple-50/80 backdrop-blur-sm"},zI={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"},FI={class:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center"},UI={class:"ml-2 text-base sm:text-lg font-medium text-gray-500"},VI={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto"},WI={class:"relative flex-1 sm:flex-none"},qI=["disabled"],KI={key:0,class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},GI={key:1,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},XI={class:"hidden sm:inline"},YI={class:"sm:hidden"},JI={key:0,class:"p-16 text-center"},ZI={key:1,class:"p-16 text-center"},QI={key:2,class:"space-y-3 sm:space-y-4 p-3 sm:p-6"},eN=["onClick"],tN={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500 to-indigo-600"},sN={key:1,class:"absolute top-3 sm:top-4 right-3 sm:right-4"},iN={class:"p-3 sm:p-5"},rN={class:"flex items-start justify-between gap-2 sm:gap-4"},oN={class:"flex-1 min-w-0"},nN={class:"flex items-center flex-wrap gap-1.5 sm:gap-2 mb-2 sm:mb-3"},aN={class:"text-xs sm:text-sm font-semibold text-gray-900 truncate flex-1 min-w-0"},lN={key:0,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-yellow-700 bg-yellow-100 border border-yellow-200 rounded-lg"},cN={key:1,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-red-700 bg-red-100 border border-red-200 rounded-lg"},uN={key:2,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-emerald-700 bg-emerald-100 border border-emerald-200 rounded-lg"},dN={class:"text-sm sm:text-base font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-2 group-hover:text-blue-700 transition-colors"},hN={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 pt-2 sm:pt-3 border-t border-gray-100"},fN={class:"flex items-center space-x-2 sm:space-x-3"},pN={class:"text-xs text-gray-500 font-medium"},mN={class:"flex items-center space-x-2"},gN={key:0,class:"inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs font-semibold text-blue-700 bg-blue-50 border border-blue-200 rounded-lg"},vN={key:1,class:"inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs font-medium text-gray-500 bg-gray-50 border border-gray-200 rounded-lg"},bN={class:"py-2"},xN=["onClick"],_N={class:"w-4 h-4 mr-2 text-gray-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},yN=["d"],wN=["onClick"],kN={key:0,class:"mt-4 sm:mt-8 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-0 border-t border-gray-200/50 pt-4 sm:pt-6"},SN={class:"flex items-center text-xs sm:text-sm text-gray-600"},CN={class:"font-medium"},EN={class:"text-blue-600 font-semibold"},AN={class:"text-blue-600 font-semibold"},MN={class:"text-blue-600 font-semibold"},TN={class:"flex items-center space-x-1 sm:space-x-2"},DN=["disabled"],LN={class:"flex space-x-1"},$N=["onClick"],RN=["disabled"],BN={key:1,class:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-gray-100/50 overflow-hidden"},PN={class:"p-3 sm:p-6 border-b border-gray-200/50 bg-gradient-to-r from-emerald-50/80 via-green-50/80 to-teal-50/80 backdrop-blur-sm"},ON={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"},IN={class:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center"},NN={class:"ml-2 text-base sm:text-lg font-medium text-gray-500"},jN={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto"},HN={class:"relative flex-1 sm:flex-none"},zN=["disabled"],FN={key:0,class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},UN={key:1,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},VN={key:0,class:"p-16 text-center"},WN={key:1,class:"p-16 text-center"},qN={key:2,class:"space-y-3 sm:space-y-4 p-3 sm:p-6"},KN=["onClick"],GN={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-emerald-500 to-green-600"},XN={key:1,class:"absolute top-4 right-4"},YN={class:"p-3 sm:p-5"},JN={class:"flex items-start justify-between gap-2 sm:gap-4"},ZN={class:"flex-1 min-w-0"},QN={class:"flex items-center flex-wrap gap-1.5 sm:gap-2 mb-2 sm:mb-3"},ej={class:"text-xs sm:text-sm font-semibold text-gray-900 truncate flex-1 min-w-0"},tj={key:0,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-emerald-700 bg-emerald-100 border border-emerald-200 rounded-lg"},sj={class:"text-sm sm:text-base font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-2 group-hover:text-emerald-700 transition-colors"},ij={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 pt-2 sm:pt-3 border-t border-gray-100"},rj={class:"flex items-center space-x-2 sm:space-x-3"},oj={class:"text-xs text-gray-500 font-medium"},nj={class:"flex items-center space-x-2"},aj={key:0,class:"inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs font-semibold text-emerald-700 bg-emerald-50 border border-emerald-200 rounded-lg"},lj={key:1,class:"inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs font-medium text-gray-500 bg-gray-50 border border-gray-200 rounded-lg"},cj={class:"py-2"},uj=["onClick"],dj={class:"w-4 h-4 mr-2 text-gray-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hj=["d"],fj=["onClick"],pj={key:0,class:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-0 border-t border-gray-200 pt-4 px-3 sm:px-5"},mj={class:"flex items-center text-xs sm:text-sm text-gray-700"},gj={class:"flex items-center space-x-1 sm:space-x-2"},vj=["disabled"],bj={class:"flex space-x-1"},xj=["onClick"],_j=["disabled"],yj={key:2,class:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-gray-100/50 overflow-hidden"},wj={class:"p-3 sm:p-6 border-b border-gray-200/50 bg-gradient-to-r from-yellow-50/80 via-amber-50/80 to-orange-50/80 backdrop-blur-sm"},kj={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"},Sj={class:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center"},Cj={class:"ml-2 text-base sm:text-lg font-medium text-gray-500"},Ej={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto"},Aj={class:"relative flex-1 sm:flex-none"},Mj=["disabled"],Tj={key:0,class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Dj={key:1,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},Lj={key:0,class:"p-16 text-center"},$j={key:1,class:"p-16 text-center"},Rj={key:2,class:"space-y-3 sm:space-y-4 p-3 sm:p-6"},Bj=["onClick"],Pj={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-yellow-500 to-amber-600"},Oj={class:"p-3 sm:p-5"},Ij={class:"flex items-start justify-between gap-2 sm:gap-4"},Nj={class:"flex-1 min-w-0"},jj={class:"flex items-center flex-wrap gap-2 mb-3"},Hj={class:"text-sm font-semibold text-gray-900"},zj={class:"text-sm sm:text-base font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-2 group-hover:text-yellow-700 transition-colors"},Fj={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 pt-2 sm:pt-3 border-t border-gray-100"},Uj={class:"flex items-center space-x-2 sm:space-x-3"},Vj={class:"text-xs text-gray-500 font-medium"},Wj=["onClick"],qj={key:0,class:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-0 border-t border-gray-200 pt-4 px-3 sm:px-5"},Kj={class:"flex items-center text-xs sm:text-sm text-gray-700"},Gj={class:"flex items-center space-x-1 sm:space-x-2"},Xj=["disabled"],Yj={class:"flex space-x-1"},Jj=["onClick"],Zj=["disabled"],Qj={key:3,class:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-gray-100/50 overflow-hidden"},eH={class:"p-3 sm:p-6 border-b border-gray-200/50 bg-gradient-to-r from-red-50/80 via-pink-50/80 to-rose-50/80 backdrop-blur-sm"},tH={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"},sH={class:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center"},iH={class:"ml-2 text-base sm:text-lg font-medium text-gray-500"},rH={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto"},oH={class:"relative flex-1 sm:flex-none"},nH=["disabled"],aH={key:0,class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lH={key:1,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},cH={key:0,class:"p-16 text-center"},uH={key:1,class:"p-16 text-center"},dH={key:2,class:"space-y-3 sm:space-y-4 p-3 sm:p-6"},hH=["onClick"],fH={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-red-500 to-pink-600"},pH={class:"p-3 sm:p-5"},mH={class:"flex items-start justify-between gap-2 sm:gap-4"},gH={class:"flex-1 min-w-0"},vH={class:"flex items-center flex-wrap gap-1.5 sm:gap-2 mb-2 sm:mb-3"},bH={class:"text-xs sm:text-sm font-semibold text-gray-900 truncate flex-1 min-w-0"},xH={class:"text-sm sm:text-base font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-2 group-hover:text-red-700 transition-colors"},_H={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 pt-2 sm:pt-3 border-t border-gray-100"},yH={class:"flex items-center space-x-2 sm:space-x-3"},wH={class:"text-xs text-gray-500 font-medium"},kH={class:"py-2"},SH=["onClick"],CH={class:"w-4 h-4 mr-2 text-gray-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},EH=["d"],AH=["onClick"],MH={key:0,class:"mt-6 flex items-center justify-between border-t border-gray-200 pt-4 px-5"},TH={class:"flex items-center text-sm text-gray-700"},DH={class:"flex items-center space-x-2"},LH=["disabled"],$H={class:"flex space-x-1"},RH=["onClick"],BH=["disabled"],PH={key:4,class:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-gray-100/50 overflow-hidden"},OH={class:"p-3 sm:p-6 border-b border-gray-200/50 bg-gradient-to-r from-gray-50/80 via-slate-50/80 to-zinc-50/80 backdrop-blur-sm"},IH={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"},NH={class:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center"},jH={class:"ml-2 text-base sm:text-lg font-medium text-gray-500"},HH={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full sm:w-auto"},zH={class:"relative flex-1 sm:flex-none"},FH=["disabled"],UH={key:0,class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},VH={key:1,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},WH={key:0,class:"p-16 text-center"},qH={key:1,class:"p-16 text-center"},KH={key:2,class:"space-y-3 sm:space-y-4 p-3 sm:p-6"},GH=["onClick"],XH={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-gray-500 to-slate-600"},YH={class:"p-3 sm:p-5"},JH={class:"flex items-start justify-between gap-2 sm:gap-4"},ZH={class:"flex-1 min-w-0"},QH={class:"flex items-center flex-wrap gap-1.5 sm:gap-2 mb-2 sm:mb-3"},ez={class:"text-xs sm:text-sm font-semibold text-gray-900 truncate flex-1 min-w-0"},tz={class:"text-sm sm:text-base font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-2 group-hover:text-gray-700 transition-colors"},sz={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 pt-2 sm:pt-3 border-t border-gray-100"},iz={class:"flex items-center space-x-2 sm:space-x-3"},rz={class:"text-xs text-gray-500 font-medium"},oz=["onClick"],nz=["onClick"],az={key:0,class:"mt-6 flex items-center justify-between border-t border-gray-200 pt-4 px-5"},lz={class:"flex items-center text-sm text-gray-700"},cz={class:"flex items-center space-x-2"},uz=["disabled"],dz={class:"flex space-x-1"},hz=["onClick"],fz=["disabled"],pz={key:5,class:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-gray-100/50 overflow-hidden"},mz={class:"p-6 border-b border-gray-200/50 bg-gradient-to-r from-indigo-50/80 via-purple-50/80 to-pink-50/80 backdrop-blur-sm"},gz={class:"flex items-center justify-between"},vz={class:"text-2xl font-bold text-gray-900 flex items-center"},bz={class:"bg-gradient-to-r from-indigo-700 to-purple-700 bg-clip-text text-transparent"},xz={class:"ml-2 text-base sm:text-lg font-medium text-gray-500"},_z={key:0,class:"p-16 text-center"},yz={key:1,class:"p-16 text-center"},wz={class:"inline-block animate-fade-in"},kz={class:"text-gray-600 text-xl font-semibold mb-2"},Sz={key:2,class:"space-y-4 p-6"},Cz=["onClick"],Ez={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-indigo-500 to-purple-600"},Az={key:1,class:"absolute top-4 right-4"},Mz={class:"p-5"},Tz={class:"flex items-start justify-between gap-4"},Dz={class:"flex-1 min-w-0"},Lz={class:"flex items-center flex-wrap gap-2 mb-3"},$z={class:"text-sm font-semibold text-gray-900 truncate"},Rz={key:0,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-yellow-700 bg-yellow-100 border border-yellow-200 rounded-lg"},Bz={key:1,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-red-700 bg-red-100 border border-red-200 rounded-lg"},Pz={class:"text-base font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-indigo-700 transition-colors"},Oz={class:"flex items-center justify-between pt-3 border-t border-gray-100"},Iz={class:"flex items-center space-x-3"},Nz={class:"text-xs text-gray-500 font-medium"},jz={class:"flex items-center space-x-2"},Hz={key:0,class:"inline-flex items-center px-2.5 py-1 text-xs font-semibold text-indigo-700 bg-indigo-50 border border-indigo-200 rounded-lg"},zz={key:1,class:"inline-flex items-center px-2.5 py-1 text-xs font-medium text-gray-500 bg-gray-50 border border-gray-200 rounded-lg"},Fz={class:"py-2"},Uz=["onClick"],Vz={class:"w-4 h-4 mr-2 text-gray-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wz=["d"],qz=["onClick"],Kz={key:0,class:"px-5 py-4 border-t border-gray-200"},Gz={class:"flex items-center justify-between"},Xz={class:"text-sm text-gray-700"},Yz={class:"flex space-x-2"},Jz=["disabled"],Zz=["disabled"],Qz={key:6,class:"bg-white/95 backdrop-blur-md shadow-xl rounded-2xl border border-gray-100/50 overflow-hidden"},eF={class:"p-6 space-y-6"},tF={class:"group"},sF={class:"relative"},iF={class:"group"},rF={class:"relative"},oF={key:0,class:"mt-3 flex flex-wrap gap-2"},nF=["onClick"],aF={class:"group"},lF={class:"relative"},cF={class:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:border-indigo-400 hover:bg-gradient-to-br hover:from-indigo-50/30 hover:to-purple-50/30 transition-all duration-300 group cursor-pointer"},uF={key:0,class:"mt-4"},dF={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center"},hF={class:"space-y-2"},fF={class:"flex items-center space-x-3 flex-1 min-w-0"},pF={class:"flex-1 min-w-0"},mF={class:"text-sm font-medium text-gray-800 block truncate"},gF={class:"text-xs text-gray-500 mt-0.5"},vF=["onClick"],bF={class:"group"},xF={class:"relative"},_F={class:"absolute bottom-3 right-3 text-xs text-gray-400"},yF={key:0},wF={key:0,class:"flex items-center text-sm font-medium text-green-700 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl px-4 py-3 shadow-sm animate-fade-in"},kF={class:"flex items-center justify-between pt-6 border-t border-gray-200/50"},SF={class:"flex items-center space-x-3"},CF=["disabled"],EF={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},AF={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},MF=["disabled"],TF={class:"flex items-center space-x-4 text-sm"},DF={key:0,class:"flex items-center space-x-2 px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-lg border border-indigo-200"},LF={class:"font-medium"},$F={key:1,class:"text-gray-500 flex items-center"},RF={key:2,class:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200"},BF={class:"flex items-center justify-between text-sm text-blue-700 mb-2"},PF={class:"w-full bg-blue-200 rounded-full h-2 mb-2"},OF={class:"flex items-center justify-between text-xs text-blue-600 mb-2"},IF={class:"flex items-center space-x-4"},NF={class:"font-medium text-blue-800"},jF={key:0},HF={class:"font-medium text-blue-800"},zF={class:"text-gray-500"},FF={class:"text-xs text-blue-600"},UF={key:0},VF={key:0,class:"text-orange-600 font-medium"},WF={key:1},qF={key:1},KF={key:7,class:"fixed inset-0 z-50 overflow-y-auto"},GF={class:"flex items-center justify-center min-h-screen pt-0 sm:pt-4 px-0 sm:px-4 pb-0 sm:pb-20 text-center sm:block sm:p-0"},XF={class:"inline-block align-bottom bg-white rounded-t-2xl sm:rounded-2xl text-left overflow-hidden shadow-2xl transform transition-all w-full sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full border border-gray-200"},YF={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200"},JF={class:"flex items-center justify-between"},ZF={class:"flex-1 min-w-0 pr-2 sm:pr-4"},QF={class:"text-lg sm:text-xl font-bold text-gray-900 truncate"},eU={class:"text-xs sm:text-sm text-gray-500 mt-1"},tU={class:"px-4 sm:px-6 py-4 sm:py-5 bg-white"},sU={class:"space-y-3 sm:space-y-4 mb-4 sm:mb-6"},iU={class:"flex flex-col sm:flex-row items-start sm:items-start space-y-1 sm:space-y-0 sm:space-x-3"},rU={class:"flex-1 min-w-0 w-full"},oU={class:"flex items-center space-x-2 flex-wrap"},nU={class:"text-xs sm:text-sm text-gray-900 break-all"},aU={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium text-white bg-yellow-500 shadow-sm"},lU={key:1,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium text-white bg-red-500 shadow-sm"},cU={class:"flex flex-col sm:flex-row items-start sm:items-start space-y-1 sm:space-y-0 sm:space-x-3"},uU={class:"flex-1 min-w-0 w-full"},dU={key:0,class:"flex flex-wrap gap-1.5"},hU={key:1,class:"inline-flex items-center px-2 py-1 rounded-md text-xs sm:text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 break-all"},fU={key:2,class:"text-xs sm:text-sm text-gray-500"},pU={key:0,class:"flex flex-col sm:flex-row items-start sm:items-start space-y-1 sm:space-y-0 sm:space-x-3"},mU={class:"flex-1 min-w-0 w-full"},gU={key:0,class:"flex flex-wrap gap-1.5"},vU={key:1,class:"inline-flex items-center px-2 py-1 rounded-md text-xs sm:text-sm font-medium text-green-700 bg-green-50 border border-green-200 break-all"},bU={key:1,class:"flex items-start space-x-3"},xU={class:"flex-1 min-w-0"},_U={class:"flex flex-wrap gap-1"},yU={key:0},wU={key:0,class:"mb-6"},kU={class:"flex items-center mb-3"},SU={class:"text-sm font-semibold text-gray-900"},CU={class:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-4"},EU={class:"space-y-2"},AU={class:"flex items-center space-x-3 flex-1 min-w-0"},MU={class:"flex-1 min-w-0"},TU={class:"text-sm font-medium text-gray-900 truncate"},DU={class:"flex items-center space-x-2 mt-0.5"},LU={class:"text-xs text-gray-500"},$U={key:0,class:"text-xs text-gray-400"},RU={key:1,class:"text-xs text-gray-500"},BU={class:"text-gray-700 font-medium"},PU=["onClick"],OU={class:"space-y-4"},IU={key:0,class:"bg-gray-50 rounded-xl p-6 border border-gray-200"},NU={class:"text-gray-800 leading-relaxed whitespace-pre-wrap break-words",style:{"word-break":"break-word","overflow-wrap":"break-word"}},jU={key:0,class:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200 shadow-sm"},HU={class:"flex items-center mb-3"},zU={class:"text-sm font-semibold text-blue-900"},FU={class:"text-gray-800 leading-relaxed whitespace-pre-wrap break-words bg-white/60 rounded-lg p-4 border border-blue-100",style:{"word-break":"break-word","overflow-wrap":"break-word"}},UU={class:"flex items-center justify-between mb-3"},VU={class:"flex items-center"},WU={class:"text-sm font-semibold text-gray-900"},qU={class:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded-full"},KU={class:"bg-white/80 rounded-lg p-4 mb-3 border border-gray-200 space-y-2"},GU={class:"flex items-start"},XU={class:"flex flex-wrap gap-1 flex-1"},YU={key:0,class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium text-purple-700 bg-purple-50 border border-purple-200 break-all"},JU={key:1,class:"text-xs text-gray-500"},ZU={key:0,class:"flex items-start"},QU={class:"flex flex-wrap gap-1 flex-1"},eV={key:1,class:"flex items-start"},tV={class:"flex flex-wrap gap-1 flex-1"},sV={class:"flex items-start"},iV={class:"text-xs text-gray-900 break-all flex-1"},rV={class:"bg-white/60 rounded-lg p-4 border border-gray-200 max-h-64 overflow-y-auto"},oV={class:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap break-words",style:{"word-break":"break-word","overflow-wrap":"break-word"}},nV=["innerHTML"],aV={key:3,class:"flex items-center justify-center h-32 text-red-400 bg-red-50 rounded-xl border-2 border-red-200"},lV={class:"text-center"},cV={class:"text-xs text-red-500 mt-2"},uV={class:"text-xs text-gray-400 mt-1"},dV={key:4,class:"flex items-center justify-center h-32 text-gray-400 bg-gray-50 rounded-xl border border-gray-200"},hV={class:"text-center"},fV={class:"text-xs text-gray-400 mt-2"},pV={key:5,class:"flex items-center justify-center h-32 text-gray-400 bg-gray-50 rounded-xl border border-gray-200"},mV={class:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex items-center justify-between flex-wrap gap-3"},gV={class:"flex items-center space-x-3 flex-wrap"},vV={class:"relative reply-button-group"},bV={class:"absolute left-0 bottom-full mb-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 opacity-0 invisible reply-dropdown transition-all duration-200 z-50"},xV={class:"py-2"},_V={class:"relative move-button-group"},yV={class:"absolute left-0 bottom-full mb-2 w-56 bg-white rounded-lg shadow-xl border border-gray-200 opacity-0 invisible move-button-group-hover:opacity-100 move-button-group-hover:visible transition-all duration-200 z-50"},wV={class:"py-2"},kV={key:0,class:"px-4 py-2 text-sm text-gray-500"},SV=["onClick"],CV={class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},EV=["d"],AV={class:"flex-1 overflow-y-auto px-6 py-4"},MV={key:0,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},TV={class:"mb-4"},DV={key:1,class:"mb-4"},LV={class:"mb-4"},$V={class:"mb-4"},RV={class:"mb-4"},BV={class:"flex items-center justify-between mb-2"},PV={key:0,class:"w-4 h-4 mr-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},OV={key:1,class:"w-4 h-4 mr-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},IV={key:0,class:"bg-gray-50 border border-gray-200 rounded-lg p-3"},NV={class:"text-xs text-gray-500 mb-2"},jV={key:0,class:"bg-gray-50 border border-gray-200 rounded-lg p-4 max-h-64 overflow-y-auto"},HV={class:"text-xs text-gray-500 mb-2"},zV={class:"border-t border-gray-300 pt-3 mt-3"},FV={class:"text-sm text-gray-700 whitespace-pre-wrap break-words select-none cursor-default bg-white/50 p-2 rounded border border-gray-200"},UV={class:"mb-4"},VV={class:"border-2 border-dashed border-gray-300 rounded-xl p-4 hover:border-indigo-400 hover:bg-gradient-to-br hover:from-indigo-50/30 hover:to-purple-50/30 transition-all duration-300 group cursor-pointer"},WV={key:0,class:"mt-3"},qV={class:"text-xs font-semibold text-gray-700 mb-2 flex items-center"},KV={class:"space-y-2"},GV={class:"flex items-center space-x-2 flex-1 min-w-0"},XV={class:"flex-1 min-w-0"},YV={class:"text-xs font-medium text-gray-700 block truncate"},JV={class:"flex items-center space-x-2 mt-0.5"},ZV={class:"text-xs text-gray-500"},QV={key:0,class:"text-xs text-gray-400"},eW={key:1,class:"text-xs text-gray-500"},tW={class:"text-gray-700 font-medium"},sW={key:1,class:"mt-3"},iW={class:"text-xs font-semibold text-gray-700 mb-2 flex items-center"},rW={class:"space-y-2"},oW={class:"flex items-center space-x-2 flex-1 min-w-0"},nW={class:"flex-1 min-w-0"},aW={class:"text-xs font-medium text-gray-800 block truncate"},lW={class:"text-xs text-gray-500"},cW=["onClick"],uW={key:0,class:"px-6 py-4 border-t border-gray-200 bg-blue-50"},dW={class:"mb-3"},hW={class:"flex items-center justify-between mb-2"},fW={class:"w-full bg-blue-200 rounded-full h-2 mb-2"},pW={class:"flex items-center justify-between text-xs text-blue-700 mt-2"},mW={class:"flex items-center space-x-4"},gW={class:"font-medium text-blue-800"},vW={key:0},bW={class:"font-medium text-blue-800"},xW={class:"text-gray-500"},_W={class:"text-xs text-gray-600 mt-2"},yW={key:0},wW={key:0,class:"text-orange-600 font-medium"},kW={key:1},SW={key:1},CW={class:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-end space-x-3"},EW=["disabled"],AW=["disabled"],MW={key:0},TW={key:1},DW={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},LW={class:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white"},$W={class:"mt-3"},RW={class:"flex items-center justify-between mb-4"},BW={class:"mb-6 p-4 bg-gray-50 rounded-lg"},PW={class:"flex space-x-2"},OW={key:0,class:"mt-2 text-sm text-red-600"},IW={class:"max-h-96 overflow-y-auto"},NW={key:0,class:"text-center py-8 text-gray-500"},jW={key:1,class:"space-y-2"},HW={class:"flex items-center space-x-3 flex-1 min-w-0"},zW={class:"flex-1 min-w-0"},FW={class:"text-sm font-medium text-gray-900 truncate"},UW={class:"text-xs text-gray-500 truncate"},VW={class:"flex items-center space-x-2 ml-4"},WW=["onClick"],qW=["onClick"],KW={class:"mt-6 flex justify-end"},GW={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},XW={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},YW={class:"mt-3"},JW={class:"flex items-center justify-between mb-4"},ZW={class:"space-y-4"},QW={key:0,class:"text-sm text-red-600"},eq={class:"mt-6 flex justify-end space-x-3"},tq={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},sq={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},iq={class:"mt-3"},rq={class:"flex items-center justify-between mb-4"},oq={class:"text-lg font-medium text-gray-900"},nq={class:"max-h-64 overflow-y-auto"},aq={key:0,class:"text-center py-4"},lq={key:1,class:"text-center py-4 text-gray-500"},cq={key:2,class:"space-y-2"},uq=["onClick"],dq={class:"flex items-center space-x-3"},hq={class:"text-sm font-medium text-gray-900"},fq={class:"text-xs text-gray-500"},pq={key:0,class:"text-green-600"},mq={class:"mt-4 flex justify-end space-x-3"},gq=Ai({__name:"Mail",setup(t){const e=V("inbox"),s=V(""),r=V(""),o=V(""),a=V(""),l=V([]),n=V(""),c=V("info"),u=V(!0),d=V(null),h=V(!1),g=V(null),_=V([]),w=V(!1),b=V(null),m=V(!1),v=V(0),p=V(!1),x=V(0),y=V(!1),E=V(0),A=V(0),D=V(0),S=V(0),C=V(1),B=V(8),L=V(0),$=V(!1),P=V({inbox:{total:0,unread:0,read:0,size:0},sent:{total:0,unread:0,read:0,size:0},drafts:{total:0,unread:0,read:0,size:0},trash:{total:0,unread:0,read:0,size:0},spam:{total:0,unread:0,read:0,size:0}}),ie=V([]),re=V(!1),I=V(null),ue=V(""),se=V(""),R=V(""),K=V(""),G=V(!1),U=V(null),pe=V(!1),Ae=V(""),Me=V(""),ye=V(""),W=V(""),O=V(""),q=V(!1),X=V(!1),ge=V(0),z=V(!1),J=V(0),ne=V(0),fe=V(0),xe=V(!1),ae=V([]),Ce=V([]),Pe=V(null),De=V(""),Se=V(null),He=Ht(()=>ie.value.filter(Y=>{const k=Y.folder_type==="user"||Y.folder_type===void 0&&Y.user_id!==void 0&&Y.user_id!==null,ce=Y.is_active!==0&&Y.is_active!==!1&&Y.is_active!==null&&Y.is_active!==void 0;return k&&ce})),Ne=V(!1),Ve=V("to"),Be=V([]),Ye=V(!1),st=V([]),qe=Y=>{if(!Y)return!1;const k=Y.read_status!==void 0?Y.read_status:Y.read;return typeof k=="string"?k==="0"||k.toLowerCase()==="false":typeof k=="number"?k===0:!k},_t=Ht(()=>Math.ceil(L.value/B.value)),wt=Ht(()=>(C.value-1)*B.value),at=Ht(()=>Math.min(wt.value+B.value,L.value)),rt=Ht(()=>_.value.slice(wt.value,at.value)),Wt=Ht(()=>{const Y=[],ce=Math.max(1,C.value-Math.floor(2.5)),me=Math.min(_t.value,ce+5-1);for(let de=ce;de<=me;de++)Y.push(de);return Y}),lt=V({mail_system_ready:!1,services:{postfix:!1,dovecot:!1,named:!1,mariadb:!1},dns:{dns_configured:!1,domain:null,mail_domain:null},database:{db_configured:!1},recommendations:[]}),it=V(!1),_e=V(!1),j=V("xm@localhost"),Ke=V(null),Ze=V(""),et=V(20),nt=V(window.innerWidth),Gt=Ht(()=>Ze.value?Ze.value.length>30:!1),Ue=()=>{nt.value=window.innerWidth},vt=V(""),jt=V(!1),Ut=V(!1),Ft=async()=>{try{const Y=await fetch("/api/admin-email",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(Y.ok){const k=await Y.json();k.success&&(j.value=k.email)}}catch(Y){console.warn(":",Y)}},As=Ht(()=>{const Y=sessionStorage.getItem("apiAuth");if(!Y)return null;try{return atob(Y).split(":")[0]||null}catch{return null}}),ds=async()=>{const Y=As.value;if(!Y)return"unknown@localhost";try{const k=await fetch("/api/user-email",{method:"GET",headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(k.ok){const ce=await k.json();if(ce.success&&ce.email)return console.log(`: ${ce.email}`),ce.email}}catch(k){console.error(":",k)}return console.warn(`: ${Y}@localhost`),`${Y}@localhost`};function hs(Y){if(!Y)return!1;const k=String(Y).toLowerCase();if(k==="system@localhost")return!1;const ce=j.value.toLowerCase();return k===ce||k.startsWith("<")}function ys(Y){if(!Y)return!1;const ce=String(Y).toLowerCase()==="system@localhost";return ce&&console.log(":",Y),ce}function Zs(Y){if(!Ke.value||!Y)return!1;const k=Ke.value.toLowerCase().trim();return Y.recipients&&Y.recipients.cc&&Array.isArray(Y.recipients.cc)&&Y.recipients.cc.some(me=>me&&me.toLowerCase().trim()===k)?!(Y.recipients.to&&Array.isArray(Y.recipients.to)&&Y.recipients.to.some(de=>de&&de.toLowerCase().trim()===k)):Y.cc&&typeof Y.cc=="string"&&Y.cc.split(",").map(me=>me.trim().toLowerCase()).includes(k)?!(Y.to&&typeof Y.to=="string"&&Y.to.split(",").map(de=>de.trim().toLowerCase()).includes(k)):!1}const Ms=Ht(()=>{const Y=sessionStorage.getItem("apiAuth");if(!Y)return!1;try{const ce=atob(Y).split(":")[0];return ce&&ce.toLowerCase()==="xm"}catch{return!1}});function ws(Y){try{const k=Y.target;if(!k||!k.files){console.warn("");return}const ce=Array.from(k.files);if(ce.length===0){console.warn("");return}const me=10*1024*1024,de=ce.filter(ze=>ze.size>me);de.length>0&&(n.value=` ${de.map(ze=>ze.name).join(", ")} 10MB`,c.value="warning");const Ie=ce.filter(ze=>ze.size<=me);if(Ie.length===0){n.value="",c.value="warning";return}const ve=new Set(l.value.map(ze=>ze.name)),Te=Ie.filter(ze=>ve.has(ze.name));Te.length>0&&(n.value=` ${Te.map(ze=>ze.name).join(", ")} `,c.value="warning");const Ge=Ie.filter(ze=>!ve.has(ze.name));l.value=[...l.value,...Ge],l.value.reduce((ze,Mt)=>ze+Mt.size,0)>50*1024*1024?(n.value="50MB",c.value="warning"):Ge.length>0&&(n.value=` ${Ge.length} `,c.value="success",setTimeout(()=>{n.value===` ${Ge.length} `&&(n.value="")},2e3)),k&&(k.value="")}catch(k){console.error(":",k),n.value=`: ${k instanceof Error?k.message:""}`,c.value="error"}}function $s(Y){l.value.splice(Y,1)}function Qs(Y){if(Y===0)return"0 Bytes";const k=1024,ce=["Bytes","KB","MB","GB"],me=Math.floor(Math.log(Y)/Math.log(k));return parseFloat((Y/Math.pow(k,me)).toFixed(2))+" "+ce[me]}function di(Y){if(Y<60)return`${Math.round(Y)}`;if(Y<3600){const k=Math.floor(Y/60),ce=Math.round(Y%60);return`${k}${ce}`}else{const k=Math.floor(Y/3600),ce=Math.floor(Y%3600/60);return`${k}${ce}`}}function qt(Y){Y>=1&&Y<=_t.value&&(C.value=Y)}function Ti(){C.value=1}function Ts(){const Y=localStorage.getItem("mailPageSize");Y&&(B.value=parseInt(Y))}function wi(Y){return new Promise((k,ce)=>{try{if(!Y){ce(new Error(""));return}const me=new FileReader;me.onload=()=>{try{const de=me.result;if(!de){ce(new Error(""));return}const Ie=de.split(",")[1];if(!Ie){ce(new Error("Base64"));return}k(Ie)}catch(de){console.error("Base64:",de),ce(de)}},me.onerror=de=>{console.error(":",de),ce(new Error(`: ${Y.name}`))},me.onabort=()=>{ce(new Error(`: ${Y.name}`))},me.readAsDataURL(Y)}catch(me){console.error(":",me),ce(me)}})}function Wi(Y){if(!Y||!Y.name){alert("");return}const k=document.createElement("a");k.href=`data:${Y.type||"application/octet-stream"};base64,${Y.content||""}`,k.download=Y.name,document.body.appendChild(k),k.click(),document.body.removeChild(k)}async function Di(){if(!o.value&&!a.value){n.value="",c.value="error";return}try{const Y=sessionStorage.getItem("apiAuth"),k=await ds();if(!k){n.value="",c.value="error";return}const ce=await fetch("/api/mail/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${Y}`},body:JSON.stringify({to:s.value||"",cc:r.value||(st.value.length>0?st.value.map(de=>de.email).join(", "):""),subject:o.value||"()",body:a.value||"",from:k,folder:"drafts",attachments:l.value.length>0?await Promise.all(l.value.map(async(de,Ie)=>{try{const ve=await wi(de);return{name:de.name,size:de.size,type:de.type||"application/octet-stream",content:ve}}catch(ve){throw console.error(` ${de.name} :`,ve),n.value=` ${de.name} : ${ve instanceof Error?ve.message:""}`,c.value="error",ve}})):[]})}),me=await ce.json();ce.ok&&me.success?(h.value=!0,n.value="",c.value="success",setTimeout(()=>{h.value=!1},3e3)):(n.value=me.error||"",c.value="error")}catch(Y){console.error("Error saving draft:",Y),n.value="",c.value="error"}}async function qi(Y,k,ce){const me=Y.includes(",")?Y.split(",")[1]:Y,de=atob(me),Ie=new Array(de.length);for(let Ge=0;Ge<de.length;Ge++)Ie[Ge]=de.charCodeAt(Ge);const ve=new Uint8Array(Ie),Te=new Blob([ve],{type:ce});return new File([Te],k,{type:ce})}async function Is(Y){try{const k=sessionStorage.getItem("apiAuth"),ce=await fetch(`/api/mail/${Y.id}`,{method:"GET",headers:{Authorization:`Basic ${k}`,"Content-Type":"application/json"}});if(!ce.ok){n.value="",c.value="error";return}const me=await ce.json(),de=me.email||me;if(g.value=de.id,s.value=de.to||"",r.value=de.cc||"",o.value=de.subject||"",a.value=de.body||de.html||"",de.recipients&&de.recipients.to&&Array.isArray(de.recipients.to)&&(s.value=de.recipients.to.join(", ")),de.recipients&&de.recipients.cc&&Array.isArray(de.recipients.cc)&&(r.value=de.recipients.cc.join(", ")),l.value=[],de.attachments&&de.attachments.length>0)try{let Ie=de.attachments;typeof Ie=="string"&&(Ie=JSON.parse(Ie));const ve=Ie.map(async Ge=>Ge.content?await qi(Ge.content,Ge.name||"attachment",Ge.type||"application/octet-stream"):null),Te=await Promise.all(ve);l.value=Te.filter(Ge=>Ge!==null)}catch(Ie){console.error("Error loading draft attachments:",Ie),n.value="",c.value="error"}Oe("compose"),n.value="",c.value="success",setTimeout(()=>{n.value=""},3e3)}catch(k){console.error("Error editing draft:",k),n.value="",c.value="error"}}function tt(){d.value&&clearInterval(d.value),u.value&&(d.value=setInterval(()=>{(o.value||a.value)&&e.value==="compose"&&Di()},3e4))}function ee(){s.value="",r.value="",o.value="",a.value="",l.value=[],n.value="",st.value=[],h.value=!1,g.value=null,d.value&&(clearInterval(d.value),d.value=null)}function Oe(Y){e.value==="compose"&&d.value&&(clearInterval(d.value),d.value=null),_.value=[],m.value=!1,b.value=null,Se.value=null,w.value=!0,e.value=Y,Y==="inbox"||Y==="sent"||Y==="drafts"||Y==="trash"||Y==="spam"?(ms(Y),ps()):Y==="compose"&&(tt(),w.value=!1)}async function We(){try{const Y=sessionStorage.getItem("apiAuth"),k=await fetch("/api/mail/folders",{headers:{Authorization:`Basic ${Y}`}});if(k.ok){const ce=await k.json();ce.success&&ce.folders?(ie.value=[...ce.folders],console.log("",ie.value.length,""),console.log(":",ie.value.map(me=>({id:me.id,name:me.name,display_name:me.display_name,folder_type:me.folder_type,user_id:me.user_id,is_active:me.is_active}))),console.log(":",He.value.length,""),console.log(":",He.value.map(me=>({id:me.id,name:me.name,display_name:me.display_name,folder_type:me.folder_type,user_id:me.user_id,is_active:me.is_active})))):console.warn(":",ce.error||"")}else{console.error("HTTP:",k.status);const ce=await k.text();console.error(":",ce)}}catch(Y){console.error("Error loading folders:",Y)}}async function Pt(){if(!R.value.trim()){De.value="";return}if(!/^[a-zA-Z0-9_-]+$/.test(R.value)){De.value="";return}De.value="";try{const Y=sessionStorage.getItem("apiAuth"),k=await fetch("/api/mail/folders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${Y}`},body:JSON.stringify({name:R.value.trim(),display_name:K.value.trim()||R.value.trim()})});if(k.ok){const ce=await k.json();if(ce.success){const me=R.value.trim(),de=K.value.trim()||me;if(R.value="",K.value="",De.value="",ce.folder){const Ie={...ce.folder,folder_type:ce.folder.folder_type||"user",is_active:ce.folder.is_active!==void 0?ce.folder.is_active:1};ie.value.find(Te=>Te.id===Ie.id||Te.name===Ie.name)||(ie.value.push(Ie),console.log(":",Ie))}await We(),setTimeout(async()=>{ie.value.find(ve=>ve.name===me||ce.folder&&ve.id===ce.folder.id)?console.log(""):(console.log("..."),await We())},500),n.value="",c.value="success",setTimeout(()=>{n.value=""},2e3)}else De.value=ce.error||"",ce.error&&ce.error.includes("")&&(console.log("..."),await We(),R.value="",K.value="")}else{const me=(await k.json().catch(()=>({}))).error||"";De.value=me,me.includes("")&&(console.log("..."),await We(),R.value="",K.value="")}}catch(Y){console.error("Error creating folder:",Y),De.value=""}}function fs(Y){I.value=Y,ue.value=Y.name,se.value=Y.display_name||Y.name,De.value=""}async function ns(){if(!I.value)return;if(!ue.value.trim()){De.value="";return}if(!/^[a-zA-Z0-9_-]+$/.test(ue.value)){De.value="";return}const Y=I.value.name,k=ue.value.trim();De.value="";try{const ce=sessionStorage.getItem("apiAuth"),me=await fetch(`/api/mail/folders/${I.value.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Basic ${ce}`},body:JSON.stringify({name:k,display_name:se.value.trim()||k})});if(me.ok){const de=await me.json();de.success?(Se.value===Y&&(Se.value=k),I.value=null,ue.value="",se.value="",De.value="",await We(),n.value="",c.value="success",setTimeout(()=>{n.value=""},2e3)):De.value=de.error||""}else{const de=await me.json();De.value=de.error||""}}catch(ce){console.error("Error updating folder:",ce),De.value=""}}async function bs(Y){if(confirm(`"${Y.display_name||Y.name}"`))try{const k=sessionStorage.getItem("apiAuth"),ce=await fetch(`/api/mail/folders/${Y.id}`,{method:"DELETE",headers:{Authorization:`Basic ${k}`}});if(ce.ok){const me=await ce.json();me.success?(await We(),n.value="",c.value="success",setTimeout(()=>{n.value=""},2e3),Se.value===Y.name&&Oe("inbox")):(n.value=me.error||"",c.value="error")}else{const me=await ce.json();n.value=me.error||"",c.value="error"}}catch(k){console.error("Error deleting folder:",k),n.value="",c.value="error"}}function ei(Y){_.value=[],m.value=!1,b.value=null,w.value=!0,Se.value=Y,e.value="custom-folder",ms(Y)}async function Li(Y){if(Y)try{const k=sessionStorage.getItem("apiAuth"),ce=await fetch(`/api/mail/${Y}/restore`,{method:"POST",headers:{Authorization:`Basic ${k}`}});if(ce.ok){const me=await ce.json();me.success?(_.value=_.value.filter(de=>de.id!==Y),(b==null?void 0:b.id)===Y&&hi(),ps(),n.value="",c.value="success",setTimeout(()=>{n.value=""},2e3)):(n.value=me.error||"",c.value="error")}else{const me=await ce.json();n.value=me.error||"",c.value="error"}}catch(k){console.error("Error restoring email:",k),n.value="",c.value="error"}}async function ir(Y){if(Y&&confirm(""))try{const k=sessionStorage.getItem("apiAuth"),ce=await fetch(`/api/mail/${Y}/permanent`,{method:"DELETE",headers:{Authorization:`Basic ${k}`}});if(ce.ok){const me=await ce.json();me.success?(_.value=_.value.filter(de=>de.id!==Y),(b==null?void 0:b.id)===Y&&hi(),ps(),n.value="",c.value="success",setTimeout(()=>{n.value=""},2e3)):(n.value=me.error||"",c.value="error")}else{const me=await ce.json();n.value=me.error||"",c.value="error"}}catch(k){console.error("Error permanently deleting email:",k),n.value="",c.value="error"}}async function ls(){_e.value=!0;try{const Y=sessionStorage.getItem("apiAuth"),k=await fetch("/api/mail/service-status",{headers:{Authorization:`Basic ${Y}`}});if(k.ok){const ce=await k.json();if(ce.success){if(ce.system_services){const me=ce.system_services,de={postfix:me.postfix==="running",dovecot:me.dovecot==="running",named:me.named==="running",mariadb:me.mariadb==="running"};ce.services=de}lt.value=ce,it.value=!ce.mail_system_ready,ce.mail_system_ready||console.warn("")}}else console.error("Failed to check service status:",k.statusText),it.value=!0}catch(Y){console.error("Error checking service status:",Y),it.value=!0}finally{_e.value=!1}}function Xt(){localStorage.setItem("unreadEmailCount",S.value.toString()),window.dispatchEvent(new CustomEvent("unreadCountUpdated",{detail:{count:S.value}}))}async function ps(){var Y;try{const k=sessionStorage.getItem("apiAuth"),ce=await fetch("/api/mail/stats",{headers:{Authorization:`Basic ${k}`}});if(ce.ok){const me=await ce.json();me.success&&me.stats&&(P.value={inbox:me.stats.inbox||{total:0,unread:0,read:0,size:0},sent:me.stats.sent||{total:0,unread:0,read:0,size:0},drafts:me.stats.drafts||{total:0,unread:0,read:0,size:0},trash:me.stats.trash||{total:0,unread:0,read:0,size:0},spam:me.stats.spam||{total:0,unread:0,read:0,size:0}},S.value=((Y=P.value.inbox)==null?void 0:Y.unread)||0,Xt())}else console.error("Failed to load mail stats:",ce.statusText)}catch(k){console.error("Error loading mail stats:",k)}}async function ti(){if(!vt.value.trim()){n.value="",c.value="warning";return}jt.value=!0,Ut.value=!0,_.value=[],w.value=!0;try{const Y=sessionStorage.getItem("apiAuth"),k=await fetch(`/api/mail/search?q=${encodeURIComponent(vt.value.trim())}&folder=${e.value}`,{headers:{Authorization:`Basic ${Y}`}});if(k.ok){const me=((await k.json()).emails||[]).map(Ie=>{const ve=Ie.read_status!==void 0?Ie.read_status:Ie.read!==void 0?Ie.read:0;return{...Ie,read:ve,read_status:ve,recipients:Ie.recipients||{to:[],cc:[],bcc:[]},metadata:Ie.metadata||{},attachments:Array.isArray(Ie.attachments)?Ie.attachments:[]}}),de=new Map;for(const Ie of me){const Te=`${Ie.message_id?Ie.message_id.split("_")[0]:""}_${Ie.subject||""}_${Ie.from||""}_${Ie.date||""}`,Ge=de.get(Te);if(Ge){const Xe=qe(Ge),ze=qe(Ie);ze&&!Xe?de.set(Te,Ie):!ze&&Xe||Ie.id<Ge.id&&de.set(Te,Ie)}else de.set(Te,Ie)}_.value=Array.from(de.values()),_.value.sort((Ie,ve)=>{const Te=new Date(Ie.date);return new Date(ve.date).getTime()-Te.getTime()}),L.value=_.value.length,Ti(),_.value.length===0?(n.value="",c.value="info"):(n.value=` ${_.value.length} `,c.value="success",setTimeout(()=>{n.value=""},3e3))}else throw new Error("")}catch(Y){console.error("Error searching emails:",Y),n.value="",c.value="error",_.value=[]}finally{jt.value=!1,w.value=!1}}function ks(){vt.value="",Ut.value=!1,ms(e.value)}function Ns(){!vt.value.trim()&&Ut.value&&ks()}async function ms(Y){Ut.value&&(Ut.value=!1,vt.value=""),_.value=[],w.value=!0,$.value=!0;const k=Date.now();v.value=k;try{const ce=sessionStorage.getItem("apiAuth"),me=await fetch(`/api/mail/list?folder=${Y}`,{headers:{Authorization:`Basic ${ce}`}});if(v.value!==k){console.log(":",Y,"ID:",k,"ID:",v.value);return}if(me.ok){const de=await me.json();if(v.value!==k){console.log(":",Y,"ID:",k,"ID:",v.value);return}const Ie=(de.emails||[]).map(Te=>{const Ge=Te.read_status!==void 0?Te.read_status:Te.read!==void 0?Te.read:0;return{...Te,read:Ge,read_status:Ge,recipients:Te.recipients||{to:[],cc:[],bcc:[]},metadata:Te.metadata||{},attachments:Array.isArray(Te.attachments)?Te.attachments:[]}}),ve=new Map;for(const Te of Ie){const Ge=(Te.from||Te.from_addr||"").trim().toLowerCase(),Xe=(Te.subject||"").trim(),ze=Te.date?new Date(Te.date).toISOString().substring(0,19):"",Mt=Te.folder||Y||"",Ot=(Y==="drafts"||Y==="trash")&&Te.id!=null?`id:${Te.id}`:`${Ge}|${Xe}|${ze}|${Mt}`;if(ve.has(Ot)){const bt=ve.get(Ot);if(Ge===(bt.from||bt.from_addr||"").trim().toLowerCase()&&Xe===(bt.subject||"").trim()&&ze===(bt.date?new Date(bt.date).toISOString().substring(0,19):"")){const Tt=qe(bt),It=qe(Te);It&&!Tt?ve.set(Ot,Te):!It&&Tt||(Te.id&&bt.id?Te.id<bt.id&&ve.set(Ot,Te):Te.id&&!bt.id?ve.set(Ot,Te):!Te.id&&bt.id)}else ve.set(Ot,Te)}else ve.set(Ot,Te)}_.value=Array.from(ve.values()),_.value.sort((Te,Ge)=>{const Xe=new Date(Te.date);return new Date(Ge.date).getTime()-Xe.getTime()}),L.value=_.value.length,Ti(),ps(),Y==="sent"&&(S.value=0,Xt())}else console.error("Failed to load emails:",me.statusText),v.value===k&&(_.value=[])}catch(ce){console.error("Error loading emails:",ce),v.value===k&&(_.value=[])}finally{v.value===k&&(w.value=!1,$.value=!1)}}async function vr(Y){m.value=!0;try{const k=sessionStorage.getItem("apiAuth"),ce=await fetch(`/api/mail/${Y.id}`,{method:"GET",headers:{Authorization:`Basic ${k}`,"Content-Type":"application/json"}});if(ce.ok){const me=await ce.json();console.log("Email detail API response:",me);const de=me.email||me;if(console.log("Email detail API response:",me),console.log("Email detail body:",de.body),console.log("Email detail html:",de.html),console.log("Email detail body type:",typeof de.body),console.log("Email detail body length:",de.body?de.body.length:0),console.log("Email detail body trimmed:",de.body?de.body.trim():"N/A"),console.log("Email detail full object:",JSON.stringify(de,null,2)),(!de.body||!de.body.trim())&&(!de.html||!de.html.trim())?(console.warn("bodyhtml"),console.warn(":",de),Y&&Y.body&&Y.body.trim()&&(console.log("emailbody"),de.body=Y.body),Y&&Y.html&&Y.html.trim()&&(console.log("emailhtml"),de.html=Y.html)):(de.body&&(console.log("Body:",de.body.substring(0,200)),console.log("Bodytrim:",de.body.trim().length)),de.html&&(console.log("HTML:",de.html.substring(0,200)),console.log("HTMLtrim:",de.html.trim().length))),!de.attachments)de.attachments=[];else if(typeof de.attachments=="string")try{de.attachments=JSON.parse(de.attachments)}catch(ve){console.error("Failed to parse attachments:",ve),de.attachments=[]}else Array.isArray(de.attachments)||(de.attachments=[]);de.recipients=de.recipients||{to:de.to?de.to.split(",").map(ve=>ve.trim()):[],cc:de.cc?de.cc.split(",").map(ve=>ve.trim()):[],bcc:[]},de.metadata=de.metadata||{},console.log("Setting selectedEmail to:",de),b.value=de,await Bs(),console.log("After nextTick, selectedEmail:",b.value);const Ie=de.message_id?de.message_id.split("_")[0]:null;Ie&&qe(Y)&&e.value==="inbox"&&(_.value.forEach(ve=>{(ve.message_id?ve.message_id.split("_")[0]:null)===Ie&&(ve.read=1,ve.read_status=1)}),b.value&&(b.value.read=1,b.value.read_status=1),setTimeout(()=>{ps()},100))}else{let me="";try{const de=await ce.json();me=de.message||de.error||me,console.error("Failed to fetch email detail:",me,de)}catch{console.error("Failed to fetch email detail:",ce.status,ce.statusText),me=`: ${ce.status} ${ce.statusText}`}n.value=me,c.value="error",ce.status===404?(console.warn(`ID ${Y.id} `),b.value={...Y,error:!0,errorMessage:me}):b.value=Y}}catch(k){console.error("Error fetching email detail:",k),b.value=Y}}function hi(){m.value=!1,b.value=null}function br(Y){Y&&(U.value=Y,G.value=!0)}async function Ds(){const Y=U.value;if(Y){G.value=!1;try{await si(Y,"trash"),_.value=_.value.filter(k=>k.id!==Y),(b==null?void 0:b.id)===Y&&hi(),ps()}catch(k){console.error("Error deleting email:",k),n.value="",c.value="error"}finally{U.value=null}}}function $i(){G.value=!1,U.value=null}async function Tn(Y){!Y||!(b!=null&&b.id)||await si(b.id,Y)}function js(Y,k){const ce=[{value:"inbox",label:""},{value:"sent",label:""},{value:"drafts",label:""},{value:"spam",label:""},{value:"trash",label:""}],me=ie.value.filter(Ie=>Ie.folder_type==="user"&&Ie.name!==Y&&Ie.is_active!==0).map(Ie=>({value:Ie.name,label:Ie.display_name||Ie.name}));let de=[];switch(Y){case"inbox":de=[...ce.filter(ve=>ve.value==="spam"||ve.value==="trash"),...me];break;case"sent":de=[...ce.filter(ve=>ve.value==="trash"),...me];break;case"drafts":de=ce.filter(ve=>ve.value==="trash");break;case"spam":de=[...ce.filter(ve=>ve.value==="inbox"||ve.value==="trash"),...me];break;case"trash":const Ie=(k==null?void 0:k.original_folder)||(k==null?void 0:k.folder_before_delete);if(Ie&&["inbox","sent","drafts"].includes(Ie)){const ve=ce.find(Te=>Te.value===Ie);ve?de=[ve,...me]:de=[...ce.filter(Te=>["inbox","sent","drafts"].includes(Te.value)),...me]}else de=[...ce.filter(ve=>["inbox","sent","drafts"].includes(ve.value)),...me];break;default:me.some(ve=>ve.value===Y)?de=[...ce.filter(ve=>ve.value!=="drafts"&&ve.value!==Y),...me.filter(ve=>ve.value!==Y)]:de=[...ce.filter(ve=>ve.value!==Y),...me]}return de}function fi(Y){const k={inbox:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",sent:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8",drafts:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",spam:"M6 18L18 6M6 6l12 12",trash:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"};return k[Y]||k.inbox}async function si(Y,k){if(!(!Y||!k))try{const ce=sessionStorage.getItem("apiAuth"),me=await fetch(`/api/mail/${Y}/move`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Basic ${ce}`},body:JSON.stringify({folder:k})});if(me.ok){if((await me.json()).success){const Ie=_.value.findIndex(ve=>ve.id===Y);Ie!==-1&&(_.value[Ie].folder=k),(b==null?void 0:b.id)===Y&&(b.value.folder=k),ps(),n.value="",c.value="success",setTimeout(()=>{n.value=""},2e3)}}else{const de=await me.json();n.value=de.error||"",c.value="error"}}catch(ce){console.error("Error moving email:",ce),n.value="",c.value="error"}}async function ho(){if(!s.value){n.value="",c.value="error",ft.logMailOperation("send_failed",{reason:"missing_recipient"});return}if(!o.value){n.value="",c.value="error";return}if(!a.value){n.value="",c.value="error";return}p.value=!0,x.value=0,n.value="",D.value=Date.now(),A.value=0,E.value=0,l.value.length>0;const Y=l.value.reduce((ve,Te)=>ve+Te.size,0);y.value=Y>100*1024;let k=5;Y>1024*1024?k=300:Y>500*1024?k=120:Y>100*1024&&(k=30),E.value=k;let ce=15,me=200;y.value&&(ce=5,me=500);const de=setInterval(()=>{if(x.value<90&&(x.value+=Math.random()*ce,A.value=Math.floor((Date.now()-D.value)/1e3),x.value>0)){const ve=100-x.value,Te=A.value/x.value;E.value=Math.max(1,Math.round(ve*Te))}},me),Ie=setInterval(()=>{p.value&&(A.value=Math.floor((Date.now()-D.value)/1e3))},1e3);try{const ve=sessionStorage.getItem("apiAuth"),Te=await ds();if(!Te){n.value="",c.value="error",p.value=!1,clearInterval(de),clearInterval(Ie);return}try{const ze=await fetch("/api/spam-filter/check",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${ve}`},body:JSON.stringify({subject:o.value,content:a.value,from:Te,to:s.value})});if(ze.ok){const Mt=await ze.json();Mt.success&&Mt.data.isSpam&&console.log("")}}catch(ze){console.error(":",ze)}const Ge=await fetch("/api/mail/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${ve}`},body:JSON.stringify({to:s.value,cc:r.value||(st.value.length>0?st.value.map(ze=>ze.email).join(", "):""),subject:o.value,body:a.value,from:Te,attachments:l.value.length>0?await Promise.all(l.value.map(async(ze,Mt)=>{try{const Ot=await wi(ze);return{name:ze.name,size:ze.size,type:ze.type||"application/octet-stream",content:Ot}}catch(Ot){throw console.error(` ${ze.name} :`,Ot),n.value=` ${ze.name} : ${Ot instanceof Error?Ot.message:""}`,c.value="error",Ot}})):[]})}),Xe=await Ge.json();if(Ge.ok&&Xe.success){if(x.value=100,setTimeout(()=>{if(Xe.spamDetection&&Xe.spamDetection.isSpam){const ze=Xe.spamDetection.violations,Mt=Xe.spamDetection.detectedKeywords;let Ot=ze.map(Ct=>Ct.message).join(`
`),bt=Mt.length>0?`
: ${Mt.join(", ")}`:"";n.value=`

:
${Ot}${bt}

: ${Xe.spamDetection.spamScore}`,c.value="warning"}else n.value="",c.value="success"},300),g.value){try{(await fetch(`/api/mail/${g.value}`,{method:"DELETE",headers:{Authorization:`Basic ${ve}`}})).ok&&(console.log(""),e.value==="drafts"&&ms("drafts"))}catch(ze){console.error(":",ze)}g.value=null}ft.logMailOperation("send_success",{to:s.value,cc:r.value,subjectLength:o.value.length,bodyLength:a.value.length,attachmentCount:l.value.length}),ps(),Xe.spamDetection&&Xe.spamDetection.isSpam?(e.value==="spam"&&setTimeout(()=>{ms("spam")},500),e.value==="sent"&&setTimeout(()=>{ms("sent")},500)):e.value==="sent"&&setTimeout(()=>{ms("sent")},500),setTimeout(()=>{ee(),g.value=null},1e3)}else if(Xe.error===""||Xe.error===""){let ze=Xe.message||Xe.error;Xe.details&&(Xe.details.oversizedFiles&&Xe.details.oversizedFiles.length>0?ze=`
${Xe.details.oversizedFiles.map(Ot=>`${Ot.name} (${Ot.size})`).join(`
`)}

${Xe.details.maxSingleFileSize||"10MB"}`:Xe.details.totalSize&&(ze=`
${Xe.details.totalSize}
${Xe.details.maxTotalSize||"50MB"}

`)),n.value=ze,c.value="error",ft.logMailOperation("send_failed",{to:s.value,reason:"attachment_size_exceeded",details:Xe.details})}else if(Xe.domainCheck)n.value=`${Xe.domainCheck.message}`,c.value="error",ft.logMailOperation("send_failed",{to:s.value,reason:"domain_check_failed",domain:Xe.domainCheck.fromDomain||Xe.domainCheck.toDomain});else if(Xe.spamDetection){const ze=Xe.spamDetection.violations,Mt=Xe.spamDetection.detectedKeywords;let Ot=ze.map(Ct=>Ct.message).join(`
`),bt=Mt.length>0?`
: ${Mt.join(", ")}`:"";n.value=`

:
${Ot}${bt}

: ${Xe.spamDetection.spamScore}

`,c.value="error",ft.logMailOperation("send_failed",{to:s.value,reason:"spam_detected",spamScore:Xe.spamDetection.spamScore})}else n.value=Xe.message||Xe.error||"",c.value="error",ft.logMailOperation("send_failed",{to:s.value,reason:Xe.error||"unknown_error"})}catch(ve){console.error("Error sending email:",ve);let Te="";ve instanceof TypeError&&ve.message.includes("fetch")?Te="":ve instanceof Error&&(ve.message.includes("413")||ve.message.includes("PayloadTooLargeError")||ve.message.includes("request entity too large")?Te=`${(l.value.reduce((Xe,ze)=>Xe+ze.size,0)/1024/1024).toFixed(2)}MB`:Te=`${ve.message}`),n.value=Te,c.value="error",ft.logMailOperation("send_failed",{to:s.value,reason:"network_error",errorMessage:ve instanceof Error?ve.message:"unknown"})}finally{clearInterval(de),clearInterval(Ie),setTimeout(()=>{p.value=!1,x.value=0,A.value=0,E.value=0,D.value=0},1e3)}}function Nr(Y){if(!Y)return"";try{const k=new Date(Y),me=new Date().getTime()-k.getTime(),de=Math.floor(me/(1e3*60*60*24)),Ie=k.getFullYear(),ve=String(k.getMonth()+1).padStart(2,"0"),Te=String(k.getDate()).padStart(2,"0"),Ge=String(k.getHours()).padStart(2,"0"),Xe=String(k.getMinutes()).padStart(2,"0"),ze=String(k.getSeconds()).padStart(2,"0");return de===0?` ${Ge}:${Xe}:${ze}`:de===1?` ${Ge}:${Xe}:${ze}`:de<7?`${de} ${Ge}:${Xe}:${ze}`:`${Ie}-${ve}-${Te} ${Ge}:${Xe}:${ze}`}catch{return Y}}async function ki(Y=!1){if(!b.value)return;xe.value=Y;let k=null;try{k=await ds()}catch(bt){console.error("Failed to get current user email:",bt);const Ct=sessionStorage.getItem("apiAuth");if(Ct)try{k=`${atob(Ct).split(":")[0]}@localhost`}catch(Tt){console.error("Failed to decode auth:",Tt)}}const ce=b.value.from||"",me=b.value.to||"",de=b.value.cc||"";let Ie=[],ve=[];if(b.value.recipients?(Ie=b.value.recipients.to||[],ve=b.value.recipients.cc||[]):(me&&(Ie=me.split(",").map(bt=>bt.trim()).filter(bt=>bt)),de&&(ve=de.split(",").map(bt=>bt.trim()).filter(bt=>bt))),Y){const bt=[],Ct=[];ce&&(!k||!ce.toLowerCase().includes(k.toLowerCase().split("@")[0]))&&bt.push(ce),Ie.forEach(Tt=>{if(Tt&&Tt.trim()){const It=Tt.toLowerCase(),Yt=k&&It.includes(k.toLowerCase().split("@")[0]),pi=It===ce.toLowerCase();!Yt&&!pi&&!bt.some(Bi=>Bi.toLowerCase()===It)&&bt.push(Tt.trim())}}),ve.forEach(Tt=>{if(Tt&&Tt.trim()){const It=Tt.toLowerCase(),Yt=k&&It.includes(k.toLowerCase().split("@")[0]),pi=It===ce.toLowerCase(),Bi=bt.some(Gi=>Gi.toLowerCase()===It);!Yt&&!pi&&!Bi&&!Ct.some(Gi=>Gi.toLowerCase()===It)&&Ct.push(Tt.trim())}}),Ae.value=bt.join(", "),Me.value=Ct.join(", ")}else Ae.value=ce,Me.value="";const Te=b.value.subject||"";Te.startsWith("Re:")||Te.startsWith("RE:")?ye.value=Te:ye.value=`Re: ${Te}`;const Ge=b.value.body||b.value.html||"",Xe=Nr(b.value.date),ze=Ge.trim()||"()";let Mt="",Ot="";b.value.recipients?(b.value.recipients.to&&b.value.recipients.to.length>0&&(Mt=`: ${b.value.recipients.to.join(", ")}
`),b.value.recipients.cc&&b.value.recipients.cc.length>0&&(Ot=`: ${b.value.recipients.cc.join(", ")}
`)):(me&&me.trim()&&(Mt=`: ${me}
`),de&&de.trim()&&(Ot=`: ${de}
`)),O.value=`

---  ---
: ${ce}
${Mt}${Ot}: ${Xe}
: ${Te}

${ze}`,W.value="",Ce.value=b.value.attachments&&Array.isArray(b.value.attachments)?b.value.attachments.map(bt=>({...bt,from:ce})):[],ae.value=[],Pe.value&&(Pe.value.value=""),q.value=!1,pe.value=!0}function Ri(){pe.value=!1,Ae.value="",Me.value="",ye.value="",W.value="",O.value="",q.value=!1,xe.value=!1,ae.value=[],Ce.value=[],Pe.value&&(Pe.value.value="")}function jr(Y){try{const k=Y.target;if(!k||!k.files){console.warn("");return}const ce=Array.from(k.files);if(ce.length===0){console.warn("");return}const me=10*1024*1024,de=ce.filter(ze=>ze.size>me);de.length>0&&(n.value=` ${de.map(ze=>ze.name).join(", ")} 10MB`,c.value="warning");const Ie=ce.filter(ze=>ze.size<=me);if(Ie.length===0){n.value="",c.value="warning";return}const ve=new Set([...ae.value.map(ze=>ze.name),...Ce.value.map(ze=>ze.name)]),Te=Ie.filter(ze=>ve.has(ze.name));Te.length>0&&(n.value=` ${Te.map(ze=>ze.name).join(", ")} `,c.value="warning");const Ge=Ie.filter(ze=>!ve.has(ze.name));ae.value=[...ae.value,...Ge],ae.value.reduce((ze,Mt)=>ze+Mt.size,0)>50*1024*1024?(n.value="50MB",c.value="warning"):Ge.length>0&&(n.value=` ${Ge.length} `,c.value="success",setTimeout(()=>{n.value===` ${Ge.length} `&&(n.value="")},2e3)),k&&(k.value="")}catch(k){console.error(":",k),n.value=`: ${k instanceof Error?k.message:""}`,c.value="error"}}function Sc(Y){ae.value.splice(Y,1)}function ja(){q.value=!q.value}async function xr(){var ve;if(!Ae.value){n.value="",c.value="error";return}if(!ye.value){n.value="",c.value="error";return}if(!W.value.trim()&&!O.value.trim()){n.value="",c.value="error";return}X.value=!0,ge.value=0,n.value="",fe.value=Date.now(),ne.value=0,J.value=0;const Y=[...Ce.value.map(Te=>Te.size||0),...ae.value.map(Te=>Te.size)].reduce((Te,Ge)=>Te+Ge,0);ae.value.length>0||Ce.value.length>0,z.value=Y>100*1024;let k=5;Y>30*1024*1024?k=600:Y>20*1024*1024?k=480:Y>10*1024*1024?k=360:Y>5*1024*1024?k=240:Y>1024*1024?k=180:Y>500*1024?k=120:Y>100*1024&&(k=30),J.value=k;let ce=15,me=200;z.value&&(ce=5,me=500);let de=null,Ie=null;de=setInterval(()=>{if(ge.value<90&&(ge.value+=Math.random()*ce,ne.value=Math.floor((Date.now()-fe.value)/1e3),ge.value>0)){const Te=100-ge.value,Ge=ne.value/ge.value;J.value=Math.max(1,Math.round(Te*Ge))}},me),Ie=setInterval(()=>{X.value&&(ne.value=Math.floor((Date.now()-fe.value)/1e3))},1e3);try{const Te=sessionStorage.getItem("apiAuth"),Ge=await ds();if(!Ge){n.value="",c.value="error",de&&clearInterval(de),Ie&&clearInterval(Ie),X.value=!1;return}const Xe=W.value.trim(),ze=O.value.trim(),Mt=Xe+(Xe&&ze?`

`:"")+ze;if(!Mt.trim()){n.value="",c.value="error",X.value=!1;return}const Ot=[];if(console.log(":",{to:Ae.value,cc:Me.value,subject:ye.value,bodyLength:Mt.length,userContentLength:Xe.length,quoteContentLength:ze.length,originalAttachmentsCount:Ce.value.length,newAttachmentsCount:ae.value.length}),Ce.value.length>0&&Ce.value.forEach(Tt=>{var It;Ot.push({name:Tt.name,size:Tt.size||0,type:Tt.type||"application/octet-stream",content:Tt.content||"",from:Tt.from||((It=b.value)==null?void 0:It.from)||""})}),ae.value.length>0){const Tt=await Promise.all(ae.value.map(async It=>{try{const Yt=await wi(It);return{name:It.name,size:It.size,type:It.type||"application/octet-stream",content:Yt,from:Ge}}catch(Yt){throw console.error(` ${It.name} :`,Yt),n.value=` ${It.name} : ${Yt instanceof Error?Yt.message:""}`,c.value="error",Yt}}));Ot.push(...Tt)}const bt=await fetch("/api/mail/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${Te}`},body:JSON.stringify({to:Ae.value,cc:Me.value||"",subject:ye.value,body:Mt,from:Ge,attachments:Ot})}),Ct=await bt.json();if(bt.ok&&Ct.success)de&&clearInterval(de),Ie&&clearInterval(Ie),ge.value=100,n.value="",c.value="success",Ri(),hi(),e.value==="sent"&&setTimeout(()=>{ms("sent")},500),ps(),ft.logMailOperation("reply_success",{to:Ae.value,cc:Me.value||"",subject:ye.value,originalEmailId:(ve=b.value)==null?void 0:ve.id,replyAll:xe.value});else if(de&&clearInterval(de),Ie&&clearInterval(Ie),Ct.error===""||Ct.error===""){let Tt=Ct.message||Ct.error;Ct.details&&(Ct.details.oversizedFiles&&Ct.details.oversizedFiles.length>0?Tt=`
${Ct.details.oversizedFiles.map(Yt=>`${Yt.name} (${Yt.size})`).join(`
`)}

${Ct.details.maxSingleFileSize||"10MB"}`:Ct.details.totalSize&&(Tt=`
${Ct.details.totalSize}
${Ct.details.maxTotalSize||"50MB"}

`)),n.value=Tt,c.value="error",ft.logMailOperation("reply_failed",{to:Ae.value,reason:"attachment_size_exceeded",details:Ct.details})}else n.value=Ct.message||Ct.error||"",c.value="error",ft.logMailOperation("reply_failed",{to:Ae.value,reason:Ct.error||"unknown_error"})}catch(Te){console.error("Error sending reply:",Te);let Ge="";Te instanceof TypeError&&Te.message.includes("fetch")?Ge="":Te instanceof Error&&(Te.message.includes("413")||Te.message.includes("PayloadTooLargeError")||Te.message.includes("request entity too large")?Ge=`${([...Ce.value,...ae.value].reduce((ze,Mt)=>ze+(Mt.size||0),0)/1024/1024).toFixed(2)}MB`:Ge=`${Te.message}`),n.value=Ge,c.value="error",ft.logMailOperation("reply_failed",{to:Ae.value,reason:"network_error",errorMessage:Te instanceof Error?Te.message:"unknown"})}finally{de&&clearInterval(de),Ie&&clearInterval(Ie),X.value=!1,setTimeout(()=>{ge.value=0,ne.value=0,J.value=0},1e3)}}function ii(Y){if(!Y)return"";console.log(":",Y,":",typeof Y);let k=new Date(Y);if(console.log(":",k,":",!isNaN(k.getTime())),isNaN(k.getTime())){const Te=Y+" GMT+0800";k=new Date(Te),console.log(":",Te,":",k)}if(isNaN(k.getTime())){const Te=Y.replace(" ","T");k=new Date(Te),console.log("ISO:",Te,":",k)}if(isNaN(k.getTime()))return console.error(":",Y),"";const ce=k.getFullYear(),me=String(k.getMonth()+1).padStart(2,"0"),de=String(k.getDate()).padStart(2,"0"),Ie=String(k.getHours()).padStart(2,"0"),ve=String(k.getMinutes()).padStart(2,"0");return`${ce}/${me}/${de} ${Ie}:${ve}`}function fo(Y){var Ie,ve;if(!Y||!Y.trim())return{userContent:"",quotes:[]};const ce=Y.split("---  ---"),me=((Ie=ce[0])==null?void 0:Ie.trim())||"",de=[];for(let Te=1;Te<ce.length;Te++){const Ge=(ve=ce[Te])==null?void 0:ve.trim();if(!Ge)continue;const Xe={},ze=Ge.match(/:\s*(.+?)(?:\n|$)/i);ze&&(Xe.from=ze[1].trim());const Mt=Ge.match(/:\s*(.+?)(?:\n|$)/i);if(Mt){const Yt=Mt[1].trim();Xe.to=Yt.includes(",")?Yt.split(",").map(pi=>pi.trim()):Yt}const Ot=Ge.match(/:\s*(.+?)(?:\n|$)/i);if(Ot){const Yt=Ot[1].trim();Xe.cc=Yt.includes(",")?Yt.split(",").map(pi=>pi.trim()):Yt}const bt=Ge.match(/:\s*(.+?)(?:\n|$)/i);bt&&(Xe.date=bt[1].trim());const Ct=Ge.match(/:\s*(.+?)(?:\n|$)/i);Ct&&(Xe.subject=Ct[1].trim());const Tt=[/:\s*.+?\n/gi,/:\s*.+?\n/gi,/:\s*.+?\n/gi,/:\s*.+?\n/gi,/:\s*.+?\n/gi];let It=0;for(const Yt of Tt){const pi=[...Ge.matchAll(Yt)];for(const Bi of pi){const Gi=Bi.index+Bi[0].length;Gi>It&&(It=Gi)}}if(It>0){const Yt=Ge.substring(It).trim();Xe.body=Yt||"()"}else Xe.body=Ge||"()";de.push(Xe)}return{userContent:me,quotes:de}}const Hs=Ht(()=>{var Y;return(Y=b.value)!=null&&Y.body?fo(b.value.body):{userContent:"",quotes:[]}}),Dn=Ht(()=>{var k;const Y=(k=b.value)==null?void 0:k.html;return!Y||!String(Y).trim()?"":bO.sanitize(Y)});function Hr(Y){var k,ce;if(Y.from)return Y.from;if(Hs.value.quotes.length>0){const me=Y.name||"";let de=!1,Ie=null;for(const ve of Hs.value.quotes)if(ve.body&&ve.body.includes(me)){de=!0,Ie=ve.from;break}if(de&&Ie)return Ie;if((k=b.value)!=null&&k.from)return b.value.from}else if((ce=b.value)!=null&&ce.from)return b.value.from;return null}async function po(Y){Ve.value=Y,Ne.value=!0,Ye.value=!0;try{const k=sessionStorage.getItem("apiAuth");if(!k){console.error("");return}const ce=await fetch("/api/ops",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${k}`},body:JSON.stringify({action:"query-users"})});if(ce.ok){const me=await ce.json();me.success&&me.users?Be.value=me.users:(console.error(":",me.message),Be.value=[])}else console.error(":",ce.statusText),Be.value=[]}catch(k){console.error(":",k),Be.value=[]}finally{Ye.value=!1}}function rr(){Ne.value=!1,Be.value=[]}function mo(Y){if(Ve.value==="to")s.value=Y.email,rr();else if(!Ki(Y))st.value.push(Y);else{const k=st.value.findIndex(ce=>ce.id===Y.id);k>-1&&st.value.splice(k,1)}}function Ki(Y){return st.value.some(k=>k.id===Y.id)}function zr(){const Y=st.value.map(k=>k.email).join(", ");r.value=Y,rr()}async function Fr(){try{const Y=sessionStorage.getItem("apiAuth");if(!Y)return;const k=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${Y}`}});if(k.ok){const ce=await k.json();if(ce.success&&ce.settings&&ce.settings.broadcast&&(Ze.value=ce.settings.broadcast.message||"",Ze.value)){const me=Ze.value.length;et.value=Math.max(15,Math.min(30,me/5))}}}catch(Y){console.error(":",Y)}}function go(Y){st.value.splice(Y,1);const k=st.value.map(ce=>ce.email).join(", ");r.value=k}ft.logPageView("/mail"),Mi(async()=>{Ft(),Ts(),We();try{const Y=await ds();Ke.value=Y,console.log(":",Y)}catch(Y){console.error(":",Y)}await Fr(),window.addEventListener("resize",Ue),await ls(),lt.value.mail_system_ready&&(ms("inbox"),ps()),e.value==="compose"&&tt()}),oo(()=>{window.removeEventListener("resize",Ue)});const vo=Ht(()=>c.value==="success"?"text-green-600":c.value==="error"?"text-red-600":"text-yellow-700"),$t=()=>{var Y,k;return((Y=lt.value.dns)==null?void 0:Y.dns_type)==="public"?!0:((k=lt.value.services)==null?void 0:k.named)||!1},Ln=()=>{var Y;return((Y=lt.value.dns)==null?void 0:Y.dns_type)==="public"?"DNS ()":"Bind DNS ()"},Cc=()=>{var Y;return((Y=lt.value.dns)==null?void 0:Y.dns_type)==="public"?"DNS":""};return(Y,k)=>{const ce=uo("router-link");return M(),zo(vc,null,{default:Bt(()=>{var me,de,Ie,ve,Te,Ge,Xe,ze,Mt,Ot,bt,Ct,Tt,It,Yt,pi,Bi,Gi,bo,or,xo,ss,Pi,$n,Wo,Ha,Rn,Bn,za;return[i("div",xO,[k[293]||(k[293]=i("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"},[i("div",{class:"absolute top-20 left-10 w-16 h-16 text-blue-400 opacity-20 animate-float"},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})])]),i("div",{class:"absolute top-40 right-20 w-12 h-12 text-purple-400 opacity-15 animate-float-delayed"},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})])]),i("div",{class:"absolute bottom-20 left-1/4 w-20 h-20 text-indigo-400 opacity-10 animate-float-slow"},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})])]),i("div",{class:"absolute bottom-40 right-1/3 w-14 h-14 text-cyan-400 opacity-20 animate-float-reverse"},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})])]),i("div",{class:"absolute top-32 left-1/3 w-8 h-8 text-green-400 opacity-25 animate-mail-drift"},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})])]),i("div",{class:"absolute bottom-32 right-1/4 w-6 h-6 text-pink-400 opacity-30 animate-pulse"},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})])]),i("div",{class:"absolute top-1/2 left-1/6 w-4 h-4 text-yellow-400 opacity-20 animate-spin",style:{"animation-duration":"20s"}},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})])]),i("div",{class:"absolute bottom-1/3 right-1/6 w-3 h-3 text-orange-400 opacity-25 animate-ping",style:{"animation-duration":"3s"}},[i("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})])]),i("div",{class:"absolute top-1/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-blue-300 to-transparent opacity-30"}),i("div",{class:"absolute bottom-1/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-purple-300 to-transparent opacity-30"}),i("div",{class:"absolute inset-0 bg-grid-pattern opacity-5"}),i("div",{class:"absolute top-1/3 left-1/4 w-2 h-2 bg-blue-400 rounded-full opacity-40 animate-ping"}),i("div",{class:"absolute top-2/3 right-1/3 w-1 h-1 bg-purple-400 rounded-full opacity-50 animate-ping",style:{"animation-delay":"1s"}}),i("div",{class:"absolute top-1/2 left-1/2 w-1.5 h-1.5 bg-indigo-400 rounded-full opacity-30 animate-ping",style:{"animation-delay":"2s"}})],-1)),i("div",_O,[Ze.value?(M(),T("div",yO,[i("div",wO,[k[81]||(k[81]=i("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500 via-indigo-500 to-purple-500 z-10"},null,-1)),i("div",kO,[k[79]||(k[79]=i("div",{class:"absolute left-0 top-0 bottom-0 w-12 md:w-20 bg-gradient-to-r from-white/95 via-white/95 to-transparent z-20 pointer-events-none"},null,-1)),k[80]||(k[80]=i("div",{class:"absolute right-0 top-0 bottom-0 w-12 md:w-20 bg-gradient-to-l from-white/95 via-white/95 to-transparent z-20 pointer-events-none"},null,-1)),i("div",SO,[i("div",{class:Le(["flex items-center",Gt.value?"animate-scroll":""]),style:vs(Gt.value?{animationDuration:`${et.value}s`}:{})},[i("div",CO,[k[75]||(k[75]=i("div",{class:"flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 shadow-sm"},[i("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})])],-1)),i("div",EO,[k[73]||(k[73]=i("span",{class:"text-xs font-semibold text-blue-600 uppercase tracking-wider"},"",-1)),k[74]||(k[74]=i("span",{class:"w-1 h-1 rounded-full bg-gray-400"},null,-1)),i("span",AO,N(Ze.value),1)])]),Gt.value?(M(),T("div",MO,[k[78]||(k[78]=i("div",{class:"flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 shadow-sm"},[i("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})])],-1)),i("div",TO,[k[76]||(k[76]=i("span",{class:"text-xs font-semibold text-blue-600 uppercase tracking-wider"},"",-1)),k[77]||(k[77]=i("span",{class:"w-1 h-1 rounded-full bg-gray-400"},null,-1)),i("span",DO,N(Ze.value),1)])])):Q("",!0)],6)])]),k[82]||(k[82]=i("div",{class:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400 opacity-60"},null,-1))])])):Q("",!0),it.value?(M(),T("div",LO,[i("div",$O,[k[93]||(k[93]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),i("div",RO,[k[92]||(k[92]=i("h3",{class:"text-sm font-medium text-yellow-800"},"  ",-1)),i("div",BO,[k[87]||(k[87]=i("p",null,"",-1)),i("div",PO,[i("div",OO,[i("div",{class:Le(["w-2 h-2 rounded-full mr-3 mt-2",lt.value.services.postfix?"bg-green-400":"bg-red-400"])},null,2),i("div",IO,[i("div",NO,[k[83]||(k[83]=i("span",{class:"text-sm font-medium"},"Postfix ()",-1)),lt.value.services.postfix?(M(),T("span",HO,"")):(M(),T("span",jO,""))]),lt.value.services.postfix?Q("",!0):(M(),T("p",zO,"  "))])]),i("div",FO,[i("div",{class:Le(["w-2 h-2 rounded-full mr-3 mt-2",lt.value.services.dovecot?"bg-green-400":"bg-red-400"])},null,2),i("div",UO,[i("div",VO,[k[84]||(k[84]=i("span",{class:"text-sm font-medium"},"Dovecot ()",-1)),lt.value.services.dovecot?(M(),T("span",qO,"")):(M(),T("span",WO,""))]),lt.value.services.dovecot?Q("",!0):(M(),T("p",KO,"  "))])]),i("div",GO,[i("div",{class:Le(["w-2 h-2 rounded-full mr-3 mt-2",$t()?"bg-green-400":"bg-red-400"])},null,2),i("div",XO,[i("div",YO,[i("span",JO,N(Ln()),1),$t()?(M(),T("span",QO,"")):(M(),T("span",ZO,""))]),$t()?Q("",!0):(M(),T("p",eI,N(Cc()),1))])]),i("div",tI,[i("div",{class:Le(["w-2 h-2 rounded-full mr-3 mt-2",lt.value.services.mariadb?"bg-green-400":"bg-red-400"])},null,2),i("div",sI,[i("div",iI,[k[85]||(k[85]=i("span",{class:"text-sm font-medium"},"MariaDB ()",-1)),lt.value.services.mariadb?(M(),T("span",oI,"")):(M(),T("span",rI,""))]),lt.value.services.mariadb?Q("",!0):(M(),T("p",nI,"  "))])]),i("div",aI,[i("div",{class:Le(["w-2 h-2 rounded-full mr-3 mt-2",lt.value.dns.dns_configured?"bg-green-400":"bg-red-400"])},null,2),i("div",lI,[i("div",cI,[k[86]||(k[86]=i("span",{class:"text-sm font-medium"},"DNS",-1)),lt.value.dns.dns_configured?(M(),T("span",dI,"")):(M(),T("span",uI,""))]),lt.value.dns.dns_configured?Q("",!0):(M(),T("p",hI," AMXDNS "))])])])]),lt.value.recommendations.length>0?(M(),T("div",fI,[k[88]||(k[88]=i("p",{class:"text-sm font-medium text-yellow-800 mb-2"},"",-1)),i("ul",pI,[(M(!0),T(Fe,null,Qe(lt.value.recommendations,te=>(M(),T("li",{key:te.type},N(te.message),1))),128))])])):Q("",!0),i("div",mI,[i("button",{onClick:ls,disabled:_e.value,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-100 hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50"},[_e.value?(M(),T("svg",vI,[...k[89]||(k[89]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",bI,[...k[90]||(k[90]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),be(" "+N(_e.value?"...":""),1)],8,gI),gt(ce,{to:"/dashboard",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:Bt(()=>[...k[91]||(k[91]=[i("svg",{class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0l1.83 7.5a2.25 2.25 0 01-2.15 2.75H9.5a2.25 2.25 0 01-2.15-2.75l1.83-7.5zM6 9a2.25 2.25 0 012.25-2.25H9.5a2.25 2.25 0 012.25 2.25v6a2.25 2.25 0 01-2.25 2.25H8.25A2.25 2.25 0 016 15V9z"})],-1),be("  ",-1)])]),_:1})])])])])):Q("",!0)]),i("div",xI,[i("div",_I,[i("div",yI,[i("button",{onClick:k[0]||(k[0]=()=>{Dt(ft).logButtonClick("",Ms.value?"":""),Oe("compose")}),class:Le(["w-full group relative overflow-hidden px-5 py-4 rounded-xl font-bold text-sm transition-all duration-500 transform hover:scale-[1.03] focus:outline-none focus:ring-2 focus:ring-offset-2",e.value==="compose"?"bg-gradient-to-r from-purple-600 via-purple-500 to-indigo-600 text-white shadow-xl shadow-purple-500/40 scale-[1.02]":"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg hover:shadow-xl hover:from-purple-600 hover:to-indigo-600"])},[k[94]||(k[94]=i("div",{class:"relative z-10 flex items-center justify-center space-x-2"},[i("svg",{class:"w-5 h-5 transition-transform duration-500 group-hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),i("span",{class:"relative"},"")],-1)),e.value==="compose"?(M(),T("div",wI)):Q("",!0),k[95]||(k[95]=i("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 -translate-x-full group-hover:translate-x-full"},null,-1))],2),k[112]||(k[112]=i("div",{class:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent my-3"},null,-1)),i("div",kI,[i("button",{onClick:k[1]||(k[1]=()=>{Dt(ft).logButtonClick("",Ms.value?"":""),Oe("inbox")}),class:Le(["w-full group relative px-4 py-3.5 rounded-xl font-semibold text-sm transition-all duration-300 flex items-center justify-between overflow-hidden",e.value==="inbox"?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 shadow-md border-l-4 border-blue-500 scale-[1.02]":"text-gray-700 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50/30 hover:text-gray-900 hover:shadow-sm"])},[i("div",SI,[i("div",{class:Le(["p-2.5 rounded-lg transition-all duration-300",e.value==="inbox"?"bg-blue-100 shadow-sm":"bg-gray-100 group-hover:bg-blue-100"])},[(M(),T("svg",{class:Le(["w-5 h-5 transition-transform duration-300 group-hover:scale-110",e.value==="inbox"?"text-blue-600":"text-gray-600 group-hover:text-blue-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...k[96]||(k[96]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1)])],2))],2),k[97]||(k[97]=i("span",{class:"flex-1 text-left truncate"},"",-1))]),i("span",{class:Le(["ml-2 inline-flex items-center justify-center min-w-[28px] h-7 px-2.5 text-xs font-bold rounded-full shadow-sm transition-all duration-300 transform hover:scale-110",S.value>0?"text-white bg-gradient-to-r from-red-500 to-pink-500 shadow-lg shadow-red-500/30 animate-pulse":"text-gray-500 bg-gray-200"])},N(S.value),3),k[98]||(k[98]=i("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 -translate-x-full group-hover:translate-x-full"},null,-1))],2),i("button",{onClick:k[2]||(k[2]=()=>{Dt(ft).logButtonClick("",Ms.value?"":""),Oe("sent")}),class:Le(["w-full group relative px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 flex items-center justify-between",e.value==="sent"?"bg-green-50 text-green-700 shadow-sm border-l-4 border-green-500":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"])},[i("div",CI,[i("div",{class:Le(["p-2 rounded-lg transition-colors",e.value==="sent"?"bg-green-100":"bg-gray-100 group-hover:bg-gray-200"])},[(M(),T("svg",{class:Le(["w-5 h-5",e.value==="sent"?"text-green-600":"text-gray-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...k[99]||(k[99]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},null,-1)])],2))],2),k[100]||(k[100]=i("span",{class:"flex-1 text-left truncate"},"",-1))])],2),i("button",{onClick:k[3]||(k[3]=()=>{Dt(ft).logButtonClick("",Ms.value?"":""),Oe("drafts")}),class:Le(["w-full group relative px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 flex items-center justify-between",e.value==="drafts"?"bg-yellow-50 text-yellow-700 shadow-sm border-l-4 border-yellow-500":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"])},[i("div",EI,[i("div",{class:Le(["p-2 rounded-lg transition-colors",e.value==="drafts"?"bg-yellow-100":"bg-gray-100 group-hover:bg-gray-200"])},[(M(),T("svg",{class:Le(["w-5 h-5",e.value==="drafts"?"text-yellow-600":"text-gray-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...k[101]||(k[101]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},null,-1)])],2))],2),k[102]||(k[102]=i("span",{class:"flex-1 text-left truncate"},"",-1))])],2),i("button",{onClick:k[4]||(k[4]=()=>{Dt(ft).logButtonClick("",Ms.value?"":""),Oe("spam")}),class:Le(["w-full group relative px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 flex items-center justify-between",e.value==="spam"?"bg-red-50 text-red-700 shadow-sm border-l-4 border-red-500":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"])},[i("div",AI,[i("div",{class:Le(["p-2 rounded-lg transition-colors",e.value==="spam"?"bg-red-100":"bg-gray-100 group-hover:bg-gray-200"])},[(M(),T("svg",{class:Le(["w-5 h-5",e.value==="spam"?"text-red-600":"text-gray-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...k[103]||(k[103]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])],2))],2),k[104]||(k[104]=i("span",{class:"flex-1 text-left truncate"},"",-1))])],2),i("button",{onClick:k[5]||(k[5]=()=>{Dt(ft).logButtonClick("",Ms.value?"":""),Oe("trash")}),class:Le(["w-full group relative px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 flex items-center justify-between",e.value==="trash"?"bg-gray-50 text-gray-700 shadow-sm border-l-4 border-gray-500":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"])},[i("div",MI,[i("div",{class:Le(["p-2 rounded-lg transition-colors",e.value==="trash"?"bg-gray-100":"bg-gray-100 group-hover:bg-gray-200"])},[...k[105]||(k[105]=[i("svg",{class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],2),k[106]||(k[106]=i("span",{class:"flex-1 text-left truncate"},"",-1))])],2)]),He.value.length>0?(M(),T("div",TI)):Q("",!0),He.value.length>0?(M(),T("div",DI,[k[110]||(k[110]=i("div",{class:"px-4 py-2"},[i("span",{class:"text-xs font-semibold text-gray-400 uppercase tracking-wider"},"")],-1)),(M(!0),T(Fe,null,Qe(He.value,te=>(M(),T("button",{key:te.id,onClick:()=>{Dt(ft).logButtonClick(te.display_name||te.name,Ms.value?"":""),ei(te.name)},class:Le(["w-full group relative px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-between",Se.value===te.name?"bg-indigo-50 text-indigo-700 shadow-sm border-l-4 border-indigo-500":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"])},[i("div",$I,[i("div",{class:Le(["p-1.5 rounded-md transition-colors",Se.value===te.name?"bg-indigo-100":"bg-gray-100 group-hover:bg-gray-200"])},[(M(),T("svg",{class:Le(["w-4 h-4",Se.value===te.name?"text-indigo-600":"text-gray-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...k[107]||(k[107]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)])],2))],2),i("span",RI,N(te.display_name||te.name),1)]),i("div",BI,[i("button",{onClick:ut(mt=>fs(te),["stop"]),class:"p-1 rounded-md hover:bg-gray-200 transition-colors",title:""},[...k[108]||(k[108]=[i("svg",{class:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,PI),i("button",{onClick:ut(mt=>bs(te),["stop"]),class:"p-1 rounded-md hover:bg-red-100 transition-colors",title:""},[...k[109]||(k[109]=[i("svg",{class:"w-3.5 h-3.5 text-gray-500 hover:text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,OI)])],10,LI))),128))])):Q("",!0),i("div",II,[i("button",{onClick:k[6]||(k[6]=()=>{re.value=!0,We()}),class:"w-full px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 flex items-center justify-center space-x-2 text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 border border-indigo-200 hover:border-indigo-300"},[...k[111]||(k[111]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),i("span",null,"",-1)])])])])]),i("div",NI,[e.value==="inbox"?(M(),T("div",jI,[i("div",HI,[i("div",zI,[i("h2",FI,[k[113]||(k[113]=i("div",{class:"p-2 sm:p-2.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg mr-2 sm:mr-3"},[i("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),k[114]||(k[114]=i("span",{class:"bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent"},"",-1)),i("span",UI," "+N(((me=P.value.inbox)==null?void 0:me.total)??0)+" ",1)]),i("div",VI,[i("div",WI,[Re(i("input",{"onUpdate:modelValue":k[7]||(k[7]=te=>vt.value=te),onKeyup:Er(ti,["enter"]),onInput:Ns,type:"text",placeholder:"...",class:"pl-10 pr-4 py-2 sm:py-2.5 text-sm border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-300 transition-all duration-200 w-full sm:w-64 bg-white/90 backdrop-blur-sm"},null,544),[[je,vt.value]]),k[116]||(k[116]=i("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),vt.value?(M(),T("button",{key:0,onClick:ks,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},[...k[115]||(k[115]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):Q("",!0)]),i("button",{onClick:ti,disabled:!vt.value||jt.value,class:"inline-flex items-center justify-center px-4 sm:px-5 py-2 sm:py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105"},[jt.value?(M(),T("svg",GI,[...k[118]||(k[118]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",KI,[...k[117]||(k[117]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])),i("span",XI,N(jt.value?"...":""),1),i("span",YI,N(jt.value?"...":""),1)],8,qI),i("button",{onClick:k[8]||(k[8]=te=>ms("inbox")),class:"inline-flex items-center justify-center px-4 sm:px-5 py-2 sm:py-2.5 text-sm font-semibold text-blue-700 bg-white/90 backdrop-blur-sm border-2 border-blue-200 rounded-xl hover:bg-blue-50 hover:border-blue-300 hover:shadow-lg transition-all duration-300 shadow-md hover:scale-105"},[...k[119]||(k[119]=[i("svg",{class:"h-4 w-4 mr-2 transition-transform duration-300 hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),be("  ",-1)])])])])]),w.value?(M(),T("div",JI,[...k[120]||(k[120]=[i("div",{class:"inline-block"},[i("svg",{class:"animate-spin h-14 w-14 text-blue-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),i("p",{class:"text-gray-600 font-semibold text-lg"},"...")],-1)])])):_.value.length===0?(M(),T("div",ZI,[...k[121]||(k[121]=[i("div",{class:"inline-block animate-fade-in"},[i("div",{class:"p-4 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl inline-block mb-4"},[i("svg",{class:"h-20 w-20 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])]),i("p",{class:"text-gray-600 text-xl font-semibold mb-2"},""),i("p",{class:"text-gray-400 text-sm"},"")],-1)])])):(M(),T("div",QI,[gt(Jo,{name:"email-list",tag:"div"},{default:Bt(()=>[(M(!0),T(Fe,null,Qe(rt.value,(te,mt)=>{var Nt,yt,Jt;return M(),T("div",{key:te.id,onClick:At=>vr(te),style:vs({"animation-delay":`${mt*50}ms`}),class:Le(["email-item group cursor-pointer transition-all duration-300 ease-out relative overflow-hidden rounded-xl sm:rounded-2xl border",{"bg-gradient-to-br from-blue-50 via-indigo-50/80 to-purple-50/80 border-blue-300 shadow-xl shadow-blue-500/20 scale-[1.01]":((Nt=b.value)==null?void 0:Nt.id)===te.id,"bg-white border-gray-200 hover:border-blue-300 hover:bg-gradient-to-br hover:from-gray-50/50 hover:to-blue-50/30 hover:shadow-lg hover:scale-[1.005]":((yt=b.value)==null?void 0:yt.id)!==te.id}])},[((Jt=b.value)==null?void 0:Jt.id)===te.id?(M(),T("div",tN)):Q("",!0),qe(te)?(M(),T("div",sN,[...k[122]||(k[122]=[i("div",{class:"w-2 sm:w-2.5 h-2 sm:h-2.5 bg-blue-500 rounded-full animate-pulse shadow-md ring-2 ring-blue-200"},null,-1)])])):Q("",!0),i("div",iN,[i("div",rN,[i("div",oN,[i("div",nN,[k[125]||(k[125]=i("div",{class:"flex items-center space-x-1 sm:space-x-2"},[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),i("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide hidden sm:inline"},"")],-1)),i("p",aN,N(te.from),1),ys(te.from)?(M(),T("span",lN,[...k[123]||(k[123]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):hs(te.from)?(M(),T("span",cN,"")):Q("",!0),Zs(te)?(M(),T("span",uN,[...k[124]||(k[124]=[i("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),be("  ",-1)])])):Q("",!0)]),i("h3",dN,N(te.subject||"()"),1),i("div",hN,[i("div",fN,[i("span",pN,[k[126]||(k[126]=i("svg",{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 inline mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),be(" "+N(ii(te.date)),1)])]),i("div",mN,[qe(te)?(M(),T("span",gN,[...k[127]||(k[127]=[i("div",{class:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-1 sm:mr-1.5 animate-pulse"},null,-1),i("span",{class:"hidden sm:inline"},"",-1),i("span",{class:"sm:hidden"},"",-1)])])):(M(),T("span",vN,[...k[128]||(k[128]=[i("svg",{class:"w-3 h-3 mr-1 sm:mr-1.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),i("span",{class:"hidden sm:inline"},"",-1)])]))])])]),i("div",{class:"flex items-center space-x-1 sm:space-x-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0",onClick:k[12]||(k[12]=ut(()=>{},["stop"]))},[i("div",{class:"relative move-button-group inline-block",onClick:k[11]||(k[11]=ut(()=>{},["stop"]))},[i("button",{onClick:k[9]||(k[9]=ut(()=>{},["stop"])),class:"inline-flex items-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-gray-700 bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[129]||(k[129]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1.5 text-gray-500 move-button-group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),i("span",{class:"hidden sm:inline"},"",-1)])]),i("div",{class:"absolute right-0 top-full mt-2 w-48 bg-white/95 backdrop-blur-md rounded-xl shadow-xl border border-gray-200/50 opacity-0 invisible move-button-group-hover:opacity-100 move-button-group-hover:visible transition-all duration-300 z-50 transform translate-y-2 move-button-group-hover:translate-y-0",onClick:k[10]||(k[10]=ut(()=>{},["stop"]))},[i("div",bN,[(M(!0),T(Fe,null,Qe(js(te.folder||"inbox",te),At=>(M(),T("button",{key:At.value,onClick:ut(Pn=>si(te.id,At.value),["stop"]),class:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-700 flex items-center transition-all duration-200 rounded-lg mx-1"},[(M(),T("svg",_N,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:fi(At.value)},null,8,yN)])),be(" "+N(At.label),1)],8,xN))),128))])])]),i("button",{onClick:ut(At=>br(te.id),["stop"]),class:"inline-flex items-center justify-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-red-600 bg-red-50/90 backdrop-blur-sm border border-red-200 rounded-lg hover:bg-red-100 hover:border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[130]||(k[130]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 transition-transform duration-300 hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,wN)])])])],14,eN)}),128))]),_:1}),_t.value>1?(M(),T("div",kN,[i("div",SN,[i("span",CN,[k[131]||(k[131]=be(" ",-1)),i("span",EN,N(wt.value+1),1),k[132]||(k[132]=be("-",-1)),i("span",AN,N(at.value),1),k[133]||(k[133]=be("  ",-1)),i("span",MN,N(L.value),1),k[134]||(k[134]=be(" ",-1))])]),i("div",TN,[i("button",{onClick:k[13]||(k[13]=te=>qt(C.value-1)),disabled:C.value<=1,class:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-600 hover:border-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-sm hover:shadow-md disabled:hover:shadow-sm"},"  ",8,DN),i("div",LN,[(M(!0),T(Fe,null,Qe(Wt.value,te=>(M(),T("button",{key:te,onClick:mt=>qt(te),class:Le([{"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30 scale-105":te===C.value,"bg-white text-gray-700 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50/30 hover:text-blue-600 hover:border-blue-300":te!==C.value},"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium border border-gray-300 rounded-lg transition-all duration-300 hover:shadow-md"])},N(te),11,$N))),128))]),i("button",{onClick:k[14]||(k[14]=te=>qt(C.value+1)),disabled:C.value>=_t.value,class:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:text-blue-600 hover:border-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-sm hover:shadow-md disabled:hover:shadow-sm"},"  ",8,RN)])])):Q("",!0)]))])):e.value==="sent"?(M(),T("div",BN,[i("div",PN,[i("div",ON,[i("h2",IN,[k[135]||(k[135]=i("div",{class:"p-2 sm:p-2.5 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl shadow-lg mr-2 sm:mr-3"},[i("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})])],-1)),k[136]||(k[136]=i("span",{class:"bg-gradient-to-r from-emerald-700 to-green-700 bg-clip-text text-transparent"},"",-1)),i("span",NN," "+N(((de=P.value.sent)==null?void 0:de.total)??0)+" ",1)]),i("div",jN,[i("div",HN,[Re(i("input",{"onUpdate:modelValue":k[15]||(k[15]=te=>vt.value=te),onKeyup:Er(ti,["enter"]),onInput:Ns,type:"text",placeholder:"...",class:"pl-10 pr-4 py-2 sm:py-2.5 text-sm border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-300 transition-all duration-200 w-full sm:w-64 bg-white/90 backdrop-blur-sm"},null,544),[[je,vt.value]]),k[138]||(k[138]=i("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),vt.value?(M(),T("button",{key:0,onClick:ks,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},[...k[137]||(k[137]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):Q("",!0)]),i("button",{onClick:ti,disabled:!vt.value||jt.value,class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-emerald-500 to-green-600 rounded-xl hover:from-emerald-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105"},[jt.value?(M(),T("svg",UN,[...k[140]||(k[140]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",FN,[...k[139]||(k[139]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])),be(" "+N(jt.value?"...":""),1)],8,zN),i("button",{onClick:k[16]||(k[16]=te=>ms("sent")),class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-emerald-700 bg-white/90 backdrop-blur-sm border-2 border-emerald-200 rounded-xl hover:bg-emerald-50 hover:border-emerald-300 hover:shadow-lg transition-all duration-300 shadow-md hover:scale-105"},[...k[141]||(k[141]=[i("svg",{class:"h-4 w-4 mr-2 transition-transform duration-300 hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),be("  ",-1)])])])])]),w.value?(M(),T("div",VN,[...k[142]||(k[142]=[i("div",{class:"inline-block"},[i("svg",{class:"animate-spin h-14 w-14 text-emerald-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),i("p",{class:"text-gray-600 font-semibold text-lg"},"...")],-1)])])):_.value.length===0?(M(),T("div",WN,[...k[143]||(k[143]=[i("div",{class:"inline-block animate-fade-in"},[i("div",{class:"p-4 bg-gradient-to-br from-emerald-100 to-green-100 rounded-2xl inline-block mb-4"},[i("svg",{class:"h-20 w-20 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})])]),i("p",{class:"text-gray-600 text-xl font-semibold mb-2"},""),i("p",{class:"text-gray-400 text-sm"},"")],-1)])])):(M(),T("div",qN,[gt(Jo,{name:"email-list",tag:"div"},{default:Bt(()=>[(M(!0),T(Fe,null,Qe(rt.value,(te,mt)=>{var Nt,yt,Jt;return M(),T("div",{key:te.id,onClick:At=>vr(te),style:vs({"animation-delay":`${mt*50}ms`}),class:Le(["email-item group cursor-pointer transition-all duration-300 ease-out relative overflow-hidden rounded-xl sm:rounded-2xl border",{"bg-gradient-to-br from-emerald-50 via-green-50/80 to-teal-50/80 border-emerald-300 shadow-xl shadow-emerald-500/20 scale-[1.01]":((Nt=b.value)==null?void 0:Nt.id)===te.id,"bg-white border-gray-200 hover:border-emerald-300 hover:bg-gradient-to-br hover:from-gray-50/50 hover:to-emerald-50/30 hover:shadow-lg hover:scale-[1.005]":((yt=b.value)==null?void 0:yt.id)!==te.id}])},[((Jt=b.value)==null?void 0:Jt.id)===te.id?(M(),T("div",GN)):Q("",!0),qe(te)?(M(),T("div",XN,[...k[144]||(k[144]=[i("div",{class:"w-2.5 h-2.5 bg-emerald-500 rounded-full animate-pulse shadow-md ring-2 ring-emerald-200"},null,-1)])])):Q("",!0),i("div",YN,[i("div",JN,[i("div",ZN,[i("div",QN,[k[146]||(k[146]=i("div",{class:"flex items-center space-x-1 sm:space-x-2"},[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})]),i("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide hidden sm:inline"},"")],-1)),i("p",ej,N(te.to),1),Zs(te)?(M(),T("span",tj,[...k[145]||(k[145]=[i("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),be("  ",-1)])])):Q("",!0)]),i("h3",sj,N(te.subject||"()"),1),i("div",ij,[i("div",rj,[i("span",oj,[k[147]||(k[147]=i("svg",{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 inline mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),be(" "+N(ii(te.date)),1)])]),i("div",nj,[qe(te)?(M(),T("span",aj,[...k[148]||(k[148]=[i("div",{class:"w-1.5 h-1.5 bg-emerald-500 rounded-full mr-1 sm:mr-1.5 animate-pulse"},null,-1),i("span",{class:"hidden sm:inline"},"",-1),i("span",{class:"sm:hidden"},"",-1)])])):(M(),T("span",lj,[...k[149]||(k[149]=[i("svg",{class:"w-3 h-3 mr-1 sm:mr-1.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),i("span",{class:"hidden sm:inline"},"",-1)])]))])])]),i("div",{class:"flex items-center space-x-1 sm:space-x-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0",onClick:k[20]||(k[20]=ut(()=>{},["stop"]))},[i("div",{class:"relative move-button-group inline-block",onClick:k[19]||(k[19]=ut(()=>{},["stop"]))},[i("button",{onClick:k[17]||(k[17]=ut(()=>{},["stop"])),class:"inline-flex items-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-gray-700 bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg hover:bg-emerald-50 hover:border-emerald-300 hover:text-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[150]||(k[150]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1.5 text-gray-500 move-button-group-hover:text-emerald-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),i("span",{class:"hidden sm:inline"},"",-1)])]),i("div",{class:"absolute right-0 top-full mt-2 w-48 bg-white/95 backdrop-blur-md rounded-xl shadow-xl border border-gray-200/50 opacity-0 invisible move-button-group-hover:opacity-100 move-button-group-hover:visible transition-all duration-300 z-50 transform translate-y-2 move-button-group-hover:translate-y-0",onClick:k[18]||(k[18]=ut(()=>{},["stop"]))},[i("div",cj,[(M(!0),T(Fe,null,Qe(js(te.folder||"sent",te),At=>(M(),T("button",{key:At.value,onClick:ut(Pn=>si(te.id,At.value),["stop"]),class:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-emerald-50 hover:to-green-50 hover:text-emerald-700 flex items-center transition-all duration-200 rounded-lg mx-1"},[(M(),T("svg",dj,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:fi(At.value)},null,8,hj)])),be(" "+N(At.label),1)],8,uj))),128))])])]),i("button",{onClick:ut(At=>br(te.id),["stop"]),class:"inline-flex items-center justify-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-red-600 bg-red-50/90 backdrop-blur-sm border border-red-200 rounded-lg hover:bg-red-100 hover:border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[151]||(k[151]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 transition-transform duration-300 hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,fj)])])])],14,KN)}),128))]),_:1}),_t.value>1?(M(),T("div",pj,[i("div",mj,[i("span",null," "+N(wt.value+1)+"-"+N(at.value)+"  "+N(L.value)+" ",1)]),i("div",gj,[i("button",{onClick:k[21]||(k[21]=te=>qt(C.value-1)),disabled:C.value<=1,class:"px-3 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,vj),i("div",bj,[(M(!0),T(Fe,null,Qe(Wt.value,te=>(M(),T("button",{key:te,onClick:mt=>qt(te),class:Le([{"bg-green-600 text-white":te===C.value,"bg-white text-gray-700 hover:bg-gray-50":te!==C.value},"px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium border border-gray-300 rounded-md"])},N(te),11,xj))),128))]),i("button",{onClick:k[22]||(k[22]=te=>qt(C.value+1)),disabled:C.value>=_t.value,class:"px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,_j)])])):Q("",!0)]))])):e.value==="drafts"?(M(),T("div",yj,[i("div",wj,[i("div",kj,[i("h2",Sj,[k[152]||(k[152]=i("div",{class:"p-2 sm:p-2.5 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-xl shadow-lg mr-2 sm:mr-3"},[i("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1)),k[153]||(k[153]=i("span",{class:"bg-gradient-to-r from-yellow-700 to-amber-700 bg-clip-text text-transparent"},"",-1)),i("span",Cj," "+N(((Ie=P.value.drafts)==null?void 0:Ie.total)??0)+" ",1)]),i("div",Ej,[i("div",Aj,[Re(i("input",{"onUpdate:modelValue":k[23]||(k[23]=te=>vt.value=te),onKeyup:Er(ti,["enter"]),onInput:Ns,type:"text",placeholder:"...",class:"pl-10 pr-4 py-2 sm:py-2.5 text-sm border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-300 transition-all duration-200 w-full sm:w-64 bg-white/90 backdrop-blur-sm"},null,544),[[je,vt.value]]),k[155]||(k[155]=i("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),vt.value?(M(),T("button",{key:0,onClick:ks,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},[...k[154]||(k[154]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):Q("",!0)]),i("button",{onClick:ti,disabled:!vt.value||jt.value,class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-yellow-500 to-amber-600 rounded-xl hover:from-yellow-600 hover:to-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105"},[jt.value?(M(),T("svg",Dj,[...k[157]||(k[157]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",Tj,[...k[156]||(k[156]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])),be(" "+N(jt.value?"...":""),1)],8,Mj),i("button",{onClick:k[24]||(k[24]=te=>ms("drafts")),class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-yellow-700 bg-white/90 backdrop-blur-sm border-2 border-yellow-200 rounded-xl hover:bg-yellow-50 hover:border-yellow-300 hover:shadow-lg transition-all duration-300 shadow-md hover:scale-105"},[...k[158]||(k[158]=[i("svg",{class:"h-4 w-4 mr-2 transition-transform duration-300 hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),be("  ",-1)])])])])]),w.value?(M(),T("div",Lj,[...k[159]||(k[159]=[i("div",{class:"inline-block"},[i("svg",{class:"animate-spin h-14 w-14 text-yellow-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),i("p",{class:"text-gray-600 font-semibold text-lg"},"...")],-1)])])):_.value.length===0?(M(),T("div",$j,[...k[160]||(k[160]=[i("div",{class:"inline-block animate-fade-in"},[i("div",{class:"p-4 bg-gradient-to-br from-yellow-100 to-amber-100 rounded-2xl inline-block mb-4"},[i("svg",{class:"h-20 w-20 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])]),i("p",{class:"text-gray-600 text-xl font-semibold mb-2"},""),i("p",{class:"text-gray-400 text-sm"},"")],-1)])])):(M(),T("div",Rj,[gt(Jo,{name:"email-list",tag:"div"},{default:Bt(()=>[(M(!0),T(Fe,null,Qe(rt.value,(te,mt)=>{var Nt,yt,Jt;return M(),T("div",{key:te.id,onClick:At=>Is(te),style:vs({"animation-delay":`${mt*50}ms`}),class:Le(["email-item group cursor-pointer transition-all duration-300 ease-out relative overflow-hidden rounded-xl sm:rounded-2xl border",{"bg-gradient-to-br from-yellow-50 via-amber-50/80 to-orange-50/80 border-yellow-300 shadow-xl shadow-yellow-500/20 scale-[1.01]":((Nt=b.value)==null?void 0:Nt.id)===te.id,"bg-white border-gray-200 hover:border-yellow-300 hover:bg-gradient-to-br hover:from-gray-50/50 hover:to-yellow-50/30 hover:shadow-lg hover:scale-[1.005]":((yt=b.value)==null?void 0:yt.id)!==te.id}])},[((Jt=b.value)==null?void 0:Jt.id)===te.id?(M(),T("div",Pj)):Q("",!0),i("div",Oj,[i("div",Ij,[i("div",Nj,[i("div",jj,[k[161]||(k[161]=i("div",{class:"flex items-center space-x-2"},[i("svg",{class:"w-4 h-4 text-yellow-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})]),i("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"")],-1)),i("p",Hj,N(te.to||""),1)]),i("h3",zj,N(te.subject||"()"),1),i("div",Fj,[i("div",Uj,[i("span",Vj,[k[162]||(k[162]=i("svg",{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 inline mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),be(" "+N(ii(te.date)),1)])]),k[163]||(k[163]=i("div",{class:"flex items-center space-x-2"},[i("span",{class:"inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs font-medium text-yellow-700 bg-yellow-50 border border-yellow-200 rounded-lg"},[i("svg",{class:"w-3 h-3 mr-1 sm:mr-1.5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),i("span",{class:"hidden sm:inline"},""),i("span",{class:"sm:hidden"},"")])],-1))])]),i("div",{class:"flex items-center space-x-1 sm:space-x-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0",onClick:k[25]||(k[25]=ut(()=>{},["stop"]))},[i("button",{onClick:ut(At=>Is(te),["stop"]),class:"inline-flex items-center px-3 py-2 text-xs font-medium text-yellow-700 bg-yellow-50/90 backdrop-blur-sm border border-yellow-200 rounded-lg hover:bg-yellow-100 hover:border-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[164]||(k[164]=[i("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),be("  ",-1)])],8,Wj)])])])],14,Bj)}),128))]),_:1}),_t.value>1?(M(),T("div",qj,[i("div",Kj,[i("span",null," "+N(wt.value+1)+"-"+N(at.value)+"  "+N(L.value)+" ",1)]),i("div",Gj,[i("button",{onClick:k[26]||(k[26]=te=>qt(C.value-1)),disabled:C.value<=1,class:"px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,Xj),i("div",Yj,[(M(!0),T(Fe,null,Qe(Wt.value,te=>(M(),T("button",{key:te,onClick:mt=>qt(te),class:Le([{"bg-yellow-600 text-white":te===C.value,"bg-white text-gray-700 hover:bg-gray-50":te!==C.value},"px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium border border-gray-300 rounded-md"])},N(te),11,Jj))),128))]),i("button",{onClick:k[27]||(k[27]=te=>qt(C.value+1)),disabled:C.value>=_t.value,class:"px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,Zj)])])):Q("",!0)]))])):e.value==="spam"?(M(),T("div",Qj,[i("div",eH,[i("div",tH,[i("h2",sH,[k[165]||(k[165]=i("div",{class:"p-2 sm:p-2.5 bg-gradient-to-br from-red-500 to-pink-600 rounded-xl shadow-lg mr-2 sm:mr-3"},[i("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),k[166]||(k[166]=i("span",{class:"bg-gradient-to-r from-red-700 to-pink-700 bg-clip-text text-transparent"},"",-1)),i("span",iH," "+N(((ve=P.value.spam)==null?void 0:ve.total)??0)+" ",1)]),i("div",rH,[i("div",oH,[Re(i("input",{"onUpdate:modelValue":k[28]||(k[28]=te=>vt.value=te),onKeyup:Er(ti,["enter"]),onInput:Ns,type:"text",placeholder:"...",class:"pl-10 pr-4 py-2 sm:py-2.5 text-sm border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-300 transition-all duration-200 w-full sm:w-64 bg-white/90 backdrop-blur-sm"},null,544),[[je,vt.value]]),k[168]||(k[168]=i("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),vt.value?(M(),T("button",{key:0,onClick:ks,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},[...k[167]||(k[167]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):Q("",!0)]),i("button",{onClick:ti,disabled:!vt.value||jt.value,class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-red-500 to-pink-600 rounded-xl hover:from-red-600 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105"},[jt.value?(M(),T("svg",lH,[...k[170]||(k[170]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",aH,[...k[169]||(k[169]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])),be(" "+N(jt.value?"...":""),1)],8,nH),i("button",{onClick:k[29]||(k[29]=te=>ms("spam")),class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-red-700 bg-white/90 backdrop-blur-sm border-2 border-red-200 rounded-xl hover:bg-red-50 hover:border-red-300 hover:shadow-lg transition-all duration-300 shadow-md hover:scale-105"},[...k[171]||(k[171]=[i("svg",{class:"h-4 w-4 mr-2 transition-transform duration-300 hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),be("  ",-1)])])])])]),w.value?(M(),T("div",cH,[...k[172]||(k[172]=[i("div",{class:"inline-block"},[i("svg",{class:"animate-spin h-14 w-14 text-red-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),i("p",{class:"text-gray-600 font-semibold text-lg"},"...")],-1)])])):_.value.length===0?(M(),T("div",uH,[...k[173]||(k[173]=[i("div",{class:"inline-block animate-fade-in"},[i("div",{class:"p-4 bg-gradient-to-br from-red-100 to-pink-100 rounded-2xl inline-block mb-4"},[i("svg",{class:"h-20 w-20 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),i("p",{class:"text-gray-600 text-xl font-semibold mb-2"},""),i("p",{class:"text-gray-400 text-sm"},"")],-1)])])):(M(),T("div",dH,[gt(Jo,{name:"email-list",tag:"div"},{default:Bt(()=>[(M(!0),T(Fe,null,Qe(rt.value,(te,mt)=>{var Nt,yt,Jt;return M(),T("div",{key:te.id,onClick:At=>vr(te),style:vs({"animation-delay":`${mt*50}ms`}),class:Le(["email-item group cursor-pointer transition-all duration-300 ease-out relative overflow-hidden rounded-xl sm:rounded-2xl border",{"bg-gradient-to-br from-red-50 via-pink-50/80 to-rose-50/80 border-red-300 shadow-xl shadow-red-500/20 scale-[1.01]":((Nt=b.value)==null?void 0:Nt.id)===te.id,"bg-white border-gray-200 hover:border-red-300 hover:bg-gradient-to-br hover:from-gray-50/50 hover:to-red-50/30 hover:shadow-lg hover:scale-[1.005]":((yt=b.value)==null?void 0:yt.id)!==te.id}])},[((Jt=b.value)==null?void 0:Jt.id)===te.id?(M(),T("div",fH)):Q("",!0),i("div",pH,[i("div",mH,[i("div",gH,[i("div",vH,[k[174]||(k[174]=i("div",{class:"flex items-center space-x-1 sm:space-x-2"},[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),i("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide hidden sm:inline"},"")],-1)),i("p",bH,N(te.from),1)]),i("h3",xH,N(te.subject||"()"),1),i("div",_H,[i("div",yH,[i("span",wH,[k[175]||(k[175]=i("svg",{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 inline mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),be(" "+N(ii(te.date)),1)])]),k[176]||(k[176]=i("div",{class:"flex items-center space-x-2"},[i("span",{class:"inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs font-medium text-red-700 bg-red-50 border border-red-200 rounded-lg"},[i("svg",{class:"w-3 h-3 mr-1 sm:mr-1.5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),i("span",{class:"hidden sm:inline"},""),i("span",{class:"sm:hidden"},"")])],-1))])]),i("div",{class:"flex items-center space-x-1 sm:space-x-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0",onClick:k[33]||(k[33]=ut(()=>{},["stop"]))},[i("div",{class:"relative move-button-group inline-block",onClick:k[32]||(k[32]=ut(()=>{},["stop"]))},[i("button",{onClick:k[30]||(k[30]=ut(()=>{},["stop"])),class:"inline-flex items-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-gray-700 bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg hover:bg-red-50 hover:border-red-300 hover:text-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[177]||(k[177]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1.5 text-gray-500 move-button-group-hover:text-red-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),i("span",{class:"hidden sm:inline"},"",-1)])]),i("div",{class:"absolute right-0 top-full mt-2 w-48 bg-white/95 backdrop-blur-md rounded-xl shadow-xl border border-gray-200/50 opacity-0 invisible move-button-group-hover:opacity-100 move-button-group-hover:visible transition-all duration-300 z-50 transform translate-y-2 move-button-group-hover:translate-y-0",onClick:k[31]||(k[31]=ut(()=>{},["stop"]))},[i("div",kH,[(M(!0),T(Fe,null,Qe(js(te.folder||"spam",te),At=>(M(),T("button",{key:At.value,onClick:ut(Pn=>si(te.id,At.value),["stop"]),class:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-700 flex items-center transition-all duration-200 rounded-lg mx-1"},[(M(),T("svg",CH,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:fi(At.value)},null,8,EH)])),be(" "+N(At.label),1)],8,SH))),128))])])]),i("button",{onClick:ut(At=>br(te.id),["stop"]),class:"inline-flex items-center justify-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-red-600 bg-red-50/90 backdrop-blur-sm border border-red-200 rounded-lg hover:bg-red-100 hover:border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[178]||(k[178]=[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 transition-transform duration-300 hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,AH)])])])],14,hH)}),128))]),_:1}),_t.value>1?(M(),T("div",MH,[i("div",TH,[i("span",null," "+N(wt.value+1)+"-"+N(at.value)+"  "+N(L.value)+" ",1)]),i("div",DH,[i("button",{onClick:k[34]||(k[34]=te=>qt(C.value-1)),disabled:C.value<=1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,LH),i("div",$H,[(M(!0),T(Fe,null,Qe(Wt.value,te=>(M(),T("button",{key:te,onClick:mt=>qt(te),class:Le([{"bg-red-600 text-white":te===C.value,"bg-white text-gray-700 hover:bg-gray-50":te!==C.value},"px-3 py-2 text-sm font-medium border border-gray-300 rounded-md"])},N(te),11,RH))),128))]),i("button",{onClick:k[35]||(k[35]=te=>qt(C.value+1)),disabled:C.value>=_t.value,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,BH)])])):Q("",!0)]))])):e.value==="trash"?(M(),T("div",PH,[i("div",OH,[i("div",IH,[i("h2",NH,[k[179]||(k[179]=i("div",{class:"p-2 sm:p-2.5 bg-gradient-to-br from-gray-500 to-slate-600 rounded-xl shadow-lg mr-2 sm:mr-3"},[i("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1)),k[180]||(k[180]=i("span",{class:"bg-gradient-to-r from-gray-700 to-slate-700 bg-clip-text text-transparent"},"",-1)),i("span",jH," "+N(((Te=P.value.trash)==null?void 0:Te.total)??0)+" ",1)]),i("div",HH,[i("div",zH,[Re(i("input",{"onUpdate:modelValue":k[36]||(k[36]=te=>vt.value=te),onKeyup:Er(ti,["enter"]),onInput:Ns,type:"text",placeholder:"...",class:"pl-10 pr-4 py-2 sm:py-2.5 text-sm border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-300 transition-all duration-200 w-full sm:w-64 bg-white/90 backdrop-blur-sm"},null,544),[[je,vt.value]]),k[182]||(k[182]=i("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),vt.value?(M(),T("button",{key:0,onClick:ks,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},[...k[181]||(k[181]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):Q("",!0)]),i("button",{onClick:ti,disabled:!vt.value||jt.value,class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-gray-500 to-slate-600 rounded-xl hover:from-gray-600 hover:to-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105"},[jt.value?(M(),T("svg",VH,[...k[184]||(k[184]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",UH,[...k[183]||(k[183]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])),be(" "+N(jt.value?"...":""),1)],8,FH),i("button",{onClick:k[37]||(k[37]=te=>ms("trash")),class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white/90 backdrop-blur-sm border-2 border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 hover:shadow-lg transition-all duration-300 shadow-md hover:scale-105"},[...k[185]||(k[185]=[i("svg",{class:"h-4 w-4 mr-2 transition-transform duration-300 hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),be("  ",-1)])])])])]),w.value?(M(),T("div",WH,[...k[186]||(k[186]=[i("div",{class:"inline-block"},[i("svg",{class:"animate-spin h-14 w-14 text-gray-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),i("p",{class:"text-gray-600 font-semibold text-lg"},"...")],-1)])])):_.value.length===0?(M(),T("div",qH,[...k[187]||(k[187]=[i("div",{class:"inline-block animate-fade-in"},[i("div",{class:"p-4 bg-gradient-to-br from-gray-100 to-slate-100 rounded-2xl inline-block mb-4"},[i("svg",{class:"h-20 w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])]),i("p",{class:"text-gray-600 text-xl font-semibold mb-2"},""),i("p",{class:"text-gray-400 text-sm"},"")],-1)])])):(M(),T("div",KH,[gt(Jo,{name:"email-list",tag:"div"},{default:Bt(()=>[(M(!0),T(Fe,null,Qe(rt.value,(te,mt)=>{var Nt,yt,Jt;return M(),T("div",{key:te.id,onClick:At=>vr(te),style:vs({"animation-delay":`${mt*50}ms`}),class:Le(["email-item group cursor-pointer transition-all duration-300 ease-out relative overflow-hidden rounded-xl sm:rounded-2xl border",{"bg-gradient-to-br from-gray-50 via-slate-50/80 to-zinc-50/80 border-gray-300 shadow-xl shadow-gray-500/20 scale-[1.01]":((Nt=b.value)==null?void 0:Nt.id)===te.id,"bg-white border-gray-200 hover:border-gray-300 hover:bg-gradient-to-br hover:from-gray-50/50 hover:to-slate-50/30 hover:shadow-lg hover:scale-[1.005]":((yt=b.value)==null?void 0:yt.id)!==te.id}])},[((Jt=b.value)==null?void 0:Jt.id)===te.id?(M(),T("div",XH)):Q("",!0),i("div",YH,[i("div",JH,[i("div",ZH,[i("div",QH,[k[188]||(k[188]=i("div",{class:"flex items-center space-x-1 sm:space-x-2"},[i("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),i("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide hidden sm:inline"},"")],-1)),i("p",ez,N(te.from),1)]),i("h3",tz,N(te.subject||"()"),1),i("div",sz,[i("div",iz,[i("span",rz,[k[189]||(k[189]=i("svg",{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 inline mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),be(" "+N(ii(te.date)),1)])]),k[190]||(k[190]=i("div",{class:"flex items-center space-x-2"},[i("span",{class:"inline-flex items-center px-2 sm:px-2.5 py-0.5 sm:py-1 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-lg"},[i("svg",{class:"w-3 h-3 mr-1 sm:mr-1.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),i("span",{class:"hidden sm:inline"},""),i("span",{class:"sm:hidden"},"")])],-1))])]),i("div",{class:"flex items-center space-x-1 sm:space-x-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0",onClick:k[38]||(k[38]=ut(()=>{},["stop"]))},[i("button",{onClick:ut(At=>Li(te.id),["stop"]),class:"inline-flex items-center px-3 py-2 text-xs font-medium text-green-700 bg-green-50/90 backdrop-blur-sm border border-green-200 rounded-lg hover:bg-green-100 hover:border-green-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[191]||(k[191]=[i("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})],-1),be("  ",-1)])],8,oz),i("button",{onClick:ut(At=>ir(te.id),["stop"]),class:"inline-flex items-center px-3 py-2 text-xs font-medium text-red-600 bg-red-50/90 backdrop-blur-sm border border-red-200 rounded-lg hover:bg-red-100 hover:border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[192]||(k[192]=[i("svg",{class:"w-4 h-4 transition-transform duration-300 hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,nz)])])])],14,GH)}),128))]),_:1}),_t.value>1?(M(),T("div",az,[i("div",lz,[i("span",null," "+N(wt.value+1)+"-"+N(at.value)+"  "+N(L.value)+" ",1)]),i("div",cz,[i("button",{onClick:k[39]||(k[39]=te=>qt(C.value-1)),disabled:C.value<=1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,uz),i("div",dz,[(M(!0),T(Fe,null,Qe(Wt.value,te=>(M(),T("button",{key:te,onClick:mt=>qt(te),class:Le([{"bg-gray-600 text-white":te===C.value,"bg-white text-gray-700 hover:bg-gray-50":te!==C.value},"px-3 py-2 text-sm font-medium border border-gray-300 rounded-md"])},N(te),11,hz))),128))]),i("button",{onClick:k[40]||(k[40]=te=>qt(C.value+1)),disabled:C.value>=_t.value,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,fz)])])):Q("",!0)]))])):e.value==="custom-folder"&&Se.value?(M(),T("div",pz,[i("div",mz,[i("div",gz,[i("h2",vz,[k[193]||(k[193]=i("div",{class:"p-2.5 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-lg mr-3"},[i("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})])],-1)),i("span",bz,N(((Ge=He.value.find(te=>te.name===Se.value))==null?void 0:Ge.display_name)||Se.value),1),i("span",xz," "+N(L.value)+" ",1)]),i("button",{onClick:k[41]||(k[41]=te=>ms(Se.value)),class:"inline-flex items-center px-5 py-2.5 text-sm font-semibold text-indigo-700 bg-white/90 backdrop-blur-sm border-2 border-indigo-200 rounded-xl hover:bg-indigo-50 hover:border-indigo-300 hover:shadow-lg transition-all duration-300 shadow-md hover:scale-105"},[...k[194]||(k[194]=[i("svg",{class:"h-4 w-4 mr-2 transition-transform duration-300 hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),be("  ",-1)])])])]),w.value?(M(),T("div",_z,[...k[195]||(k[195]=[i("div",{class:"inline-block"},[i("svg",{class:"animate-spin h-14 w-14 text-indigo-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),i("p",{class:"text-gray-600 font-semibold text-lg"},"...")],-1)])])):_.value.length===0?(M(),T("div",yz,[i("div",wz,[k[196]||(k[196]=i("div",{class:"p-4 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl inline-block mb-4"},[i("svg",{class:"h-20 w-20 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})])],-1)),i("p",kz,N(((Xe=He.value.find(te=>te.name===Se.value))==null?void 0:Xe.display_name)||Se.value)+"",1),k[197]||(k[197]=i("p",{class:"text-gray-400 text-sm"},"",-1))])])):(M(),T("div",Sz,[gt(Jo,{name:"email-list",tag:"div"},{default:Bt(()=>[(M(!0),T(Fe,null,Qe(rt.value,(te,mt)=>{var Nt,yt,Jt;return M(),T("div",{key:te.id,onClick:At=>vr(te),style:vs({"animation-delay":`${mt*50}ms`}),class:Le(["email-item group cursor-pointer transition-all duration-300 ease-out relative overflow-hidden rounded-2xl border",{"bg-gradient-to-br from-indigo-50 via-purple-50/80 to-pink-50/80 border-indigo-300 shadow-xl shadow-indigo-500/20 scale-[1.01]":((Nt=b.value)==null?void 0:Nt.id)===te.id,"bg-white border-gray-200 hover:border-indigo-300 hover:bg-gradient-to-br hover:from-gray-50/50 hover:to-indigo-50/30 hover:shadow-lg hover:scale-[1.005]":((yt=b.value)==null?void 0:yt.id)!==te.id}])},[((Jt=b.value)==null?void 0:Jt.id)===te.id?(M(),T("div",Ez)):Q("",!0),qe(te)?(M(),T("div",Az,[...k[198]||(k[198]=[i("div",{class:"w-2.5 h-2.5 bg-indigo-500 rounded-full animate-pulse shadow-md ring-2 ring-indigo-200"},null,-1)])])):Q("",!0),i("div",Mz,[i("div",Tz,[i("div",Dz,[i("div",Lz,[k[200]||(k[200]=i("div",{class:"flex items-center space-x-2"},[i("svg",{class:"w-4 h-4 text-indigo-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),i("span",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide"},"")],-1)),i("p",$z,N(ys(te.from)?"":hs(te.from)?"":te.from),1),ys(te.from)?(M(),T("span",Rz,[...k[199]||(k[199]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):hs(te.from)?(M(),T("span",Bz,"")):Q("",!0)]),i("h3",Pz,N(te.subject||"()"),1),i("div",Oz,[i("div",Iz,[i("span",Nz,[k[201]||(k[201]=i("svg",{class:"w-3.5 h-3.5 inline mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),be(" "+N(ii(te.date)),1)])]),i("div",jz,[qe(te)?(M(),T("span",Hz,[...k[202]||(k[202]=[i("div",{class:"w-1.5 h-1.5 bg-indigo-500 rounded-full mr-1.5 animate-pulse"},null,-1),be("  ",-1)])])):(M(),T("span",zz,[...k[203]||(k[203]=[i("svg",{class:"w-3 h-3 mr-1.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),be("  ",-1)])]))])])]),i("div",{class:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0",onClick:k[45]||(k[45]=ut(()=>{},["stop"]))},[i("div",{class:"relative move-button-group inline-block",onClick:k[44]||(k[44]=ut(()=>{},["stop"]))},[i("button",{onClick:k[42]||(k[42]=ut(()=>{},["stop"])),class:"inline-flex items-center px-3 py-2 text-xs font-medium text-gray-700 bg-white/90 backdrop-blur-sm border border-gray-300 rounded-lg hover:bg-indigo-50 hover:border-indigo-300 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[204]||(k[204]=[i("svg",{class:"w-4 h-4 mr-1.5 text-gray-500 move-button-group-hover:text-indigo-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),be("  ",-1)])]),i("div",{class:"absolute right-0 top-full mt-2 w-48 bg-white/95 backdrop-blur-md rounded-xl shadow-xl border border-gray-200/50 opacity-0 invisible move-button-group-hover:opacity-100 move-button-group-hover:visible transition-all duration-300 z-50 transform translate-y-2 move-button-group-hover:translate-y-0",onClick:k[43]||(k[43]=ut(()=>{},["stop"]))},[i("div",Fz,[(M(!0),T(Fe,null,Qe(js(te.folder||Se.value||"",te),At=>(M(),T("button",{key:At.value,onClick:ut(Pn=>si(te.id,At.value),["stop"]),class:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-700 flex items-center transition-all duration-200 rounded-lg mx-1"},[(M(),T("svg",Vz,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:fi(At.value)},null,8,Wz)])),be(" "+N(At.label),1)],8,Uz))),128))])])]),i("button",{onClick:ut(At=>Y.softDeleteEmail(te.id),["stop"]),class:"inline-flex items-center px-3 py-2 text-xs font-medium text-red-600 bg-red-50/90 backdrop-blur-sm border border-red-200 rounded-lg hover:bg-red-100 hover:border-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[205]||(k[205]=[i("svg",{class:"w-4 h-4 transition-transform duration-300 hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qz)])])])],14,Cz)}),128))]),_:1}),_t.value>1?(M(),T("div",Kz,[i("div",Gz,[i("div",Xz,"  "+N(wt.value+1)+" - "+N(at.value)+"  "+N(L.value)+"  ",1),i("div",Yz,[i("button",{onClick:k[46]||(k[46]=te=>qt(C.value-1)),disabled:C.value<=1,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,Jz),i("button",{onClick:k[47]||(k[47]=te=>qt(C.value+1)),disabled:C.value>=_t.value,class:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,Zz)])])])):Q("",!0)]))])):e.value==="compose"?(M(),T("div",Qz,[i("div",{class:"p-5 border-b border-gray-200/50 bg-gradient-to-r from-purple-50/50 via-indigo-50/50 to-pink-50/50"},[i("div",{class:"flex items-center justify-between"},[k[207]||(k[207]=i("h2",{class:"text-xl font-bold text-gray-900 flex items-center"},[i("div",{class:"relative"},[i("svg",{class:"w-6 h-6 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),i("div",{class:"absolute -top-1 -right-1 w-2 h-2 bg-purple-500 rounded-full animate-pulse"})]),be("  ")],-1)),i("button",{onClick:ee,class:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 hover:border-gray-300 transition-all duration-300"},[...k[206]||(k[206]=[i("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),be("  ",-1)])])])]),i("div",eF,[i("div",tF,[k[210]||(k[210]=i("label",{class:"block text-sm font-semibold text-gray-700 mb-2.5 flex items-center"},[i("svg",{class:"w-4 h-4 mr-1.5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),be("  "),i("span",{class:"text-red-500 ml-1"},"*")],-1)),i("div",sF,[k[209]||(k[209]=i("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"},[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),Re(i("input",{"onUpdate:modelValue":k[48]||(k[48]=te=>s.value=te),type:"email",class:"w-full border-2 border-gray-200 rounded-xl pl-12 pr-12 py-3.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 bg-gradient-to-r from-white to-blue-50/30 hover:from-blue-50/50 hover:to-blue-50/50 shadow-sm hover:shadow-md",placeholder:"user@example.com",required:""},null,512),[[je,s.value]]),i("button",{onClick:k[49]||(k[49]=te=>po("to")),type:"button",class:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-300 hover:scale-110"},[...k[208]||(k[208]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)])])])]),i("div",iF,[k[215]||(k[215]=i("label",{class:"block text-sm font-semibold text-gray-700 mb-2.5 flex items-center"},[i("svg",{class:"w-4 h-4 mr-1.5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})]),be("  (CC) "),i("span",{class:"text-gray-400 text-xs font-normal ml-2"},"")],-1)),i("div",rF,[k[212]||(k[212]=i("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"},[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),Re(i("input",{"onUpdate:modelValue":k[50]||(k[50]=te=>r.value=te),type:"text",class:"w-full border-2 border-gray-200 rounded-xl pl-12 pr-12 py-3.5 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 bg-gradient-to-r from-white to-green-50/30 hover:from-green-50/50 hover:to-green-50/50 shadow-sm hover:shadow-md",placeholder:"cc@example.com ()"},null,512),[[je,r.value]]),i("button",{onClick:k[51]||(k[51]=te=>po("cc")),type:"button",class:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-300 hover:scale-110"},[...k[211]||(k[211]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)])])]),st.value.length>0?(M(),T("div",oF,[(M(!0),T(Fe,null,Qe(st.value,(te,mt)=>(M(),T("span",{key:mt,class:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200 shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105"},[k[214]||(k[214]=i("svg",{class:"w-3.5 h-3.5 mr-1.5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),be(" "+N(te.email)+" ",1),i("button",{onClick:Nt=>go(mt),class:"ml-2 p-0.5 rounded-full text-green-600 hover:text-green-800 hover:bg-green-200 transition-all duration-200"},[...k[213]||(k[213]=[i("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,nF)]))),128))])):Q("",!0)]),i("div",aF,[k[217]||(k[217]=i("label",{class:"block text-sm font-semibold text-gray-700 mb-2.5 flex items-center"},[i("svg",{class:"w-4 h-4 mr-1.5 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h10m-7 4h7"})]),be("  "),i("span",{class:"text-red-500 ml-1"},"*")],-1)),i("div",lF,[k[216]||(k[216]=i("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"},[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h10m-7 4h7"})])],-1)),Re(i("input",{"onUpdate:modelValue":k[52]||(k[52]=te=>o.value=te),class:"w-full border-2 border-gray-200 rounded-xl pl-12 pr-4 py-3.5 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 bg-gradient-to-r from-white to-purple-50/30 hover:from-purple-50/50 hover:to-purple-50/50 shadow-sm hover:shadow-md",placeholder:"...",required:""},null,512),[[je,o.value]])])]),i("div",null,[k[222]||(k[222]=i("label",{class:"block text-sm font-semibold text-gray-700 mb-2.5 flex items-center"},[i("svg",{class:"w-4 h-4 mr-1.5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})]),be("  "),i("span",{class:"text-gray-400 text-xs font-normal ml-2"},"")],-1)),i("div",cF,[i("input",{type:"file",ref:"fileInput",onChange:ws,multiple:"",class:"hidden",accept:".pdf,.md,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar"},null,544),i("div",{onClick:k[53]||(k[53]=te=>Y.$refs.fileInput.click()),class:"text-center"},[...k[218]||(k[218]=[i("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 mb-4 group-hover:from-indigo-200 group-hover:to-purple-200 transition-all duration-300 group-hover:scale-110"},[i("svg",{class:"w-8 h-8 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])],-1),i("p",{class:"text-sm font-medium text-gray-700 mb-1"},[i("span",{class:"text-indigo-600 hover:text-indigo-700"},""),i("span",{class:"text-gray-500 mx-2"},""),i("span",{class:"text-indigo-600 hover:text-indigo-700"},"")],-1),i("p",{class:"text-xs text-gray-500 mt-2"}," PDF, MD, DOC, TXT, , ",-1),i("p",{class:"text-xs text-orange-500 mt-1 font-medium"},"10MB50MB",-1)])])]),l.value.length>0?(M(),T("div",uF,[i("h4",dF,[k[219]||(k[219]=i("svg",{class:"w-4 h-4 mr-1.5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),be("  ("+N(l.value.length)+") ",1)]),i("div",hF,[(M(!0),T(Fe,null,Qe(l.value,(te,mt)=>(M(),T("div",{key:mt,class:"flex items-center justify-between bg-gradient-to-r from-indigo-50/50 to-purple-50/50 hover:from-indigo-100/50 hover:to-purple-100/50 rounded-xl px-4 py-3 transition-all duration-200 border border-indigo-200/50 hover:border-indigo-300 hover:shadow-md"},[i("div",fF,[k[220]||(k[220]=i("div",{class:"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center"},[i("svg",{class:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),i("div",pF,[i("span",mF,N(te.name),1),i("span",gF,N(Qs(te.size)),1)])]),i("button",{onClick:Nt=>$s(mt),class:"ml-3 p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 transition-all duration-200 flex-shrink-0 hover:scale-110",title:""},[...k[221]||(k[221]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,vF)]))),128))])])):Q("",!0)]),i("div",bF,[k[223]||(k[223]=i("label",{class:"block text-sm font-semibold text-gray-700 mb-2.5 flex items-center"},[i("svg",{class:"w-4 h-4 mr-1.5 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),be("  "),i("span",{class:"text-red-500 ml-1"},"*")],-1)),i("div",xF,[Re(i("textarea",{"onUpdate:modelValue":k[54]||(k[54]=te=>a.value=te),rows:"10",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all duration-300 resize-none bg-gradient-to-br from-white to-pink-50/20 hover:from-pink-50/30 hover:to-pink-50/30 shadow-sm hover:shadow-md leading-relaxed",placeholder:"...",required:""},null,512),[[je,a.value]]),i("div",_F,[a.value.length>0?(M(),T("span",yF,N(a.value.length)+" ",1)):Q("",!0)])])]),h.value?(M(),T("div",wF,[...k[224]||(k[224]=[i("div",{class:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3"},[i("svg",{class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1),i("span",null,"",-1)])])):Q("",!0),n.value?(M(),T("div",{key:1,class:Le([vo.value,"text-sm font-medium"])},N(n.value),3)):Q("",!0),i("div",kF,[i("div",SF,[i("button",{onClick:ho,disabled:p.value||!s.value||!o.value||!a.value,class:"group relative inline-flex items-center px-8 py-3.5 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:hover:scale-100 overflow-hidden"},[k[227]||(k[227]=i("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 -translate-x-full group-hover:translate-x-full"},null,-1)),p.value?(M(),T("svg",EF,[...k[225]||(k[225]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(M(),T("svg",AF,[...k[226]||(k[226]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},null,-1)])])),be(" "+N(p.value?"...":""),1)],8,CF),i("button",{onClick:Di,disabled:!o.value&&!a.value,class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 text-white rounded-xl font-medium shadow-md shadow-yellow-500/20 hover:shadow-lg hover:shadow-yellow-500/30 hover:from-yellow-600 hover:to-amber-600 focus:outline-none focus:ring-4 focus:ring-yellow-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105"},[...k[228]||(k[228]=[i("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),be("  ",-1)])],8,MF)]),i("div",TF,[l.value.length>0?(M(),T("div",DF,[k[229]||(k[229]=i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),i("span",LF,N(l.value.length)+" ",1)])):Q("",!0),l.value.length===0?(M(),T("div",$F,[...k[230]||(k[230]=[i("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 12H6"})],-1),i("span",null,"",-1)])])):Q("",!0)])]),p.value?(M(),T("div",RF,[i("div",BF,[k[231]||(k[231]=i("span",{class:"font-medium"},"...",-1)),i("span",null,N(x.value)+"%",1)]),i("div",PF,[i("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-500 ease-out",style:vs({width:x.value+"%"})},null,4)]),i("div",OF,[i("div",IF,[i("span",null,[k[232]||(k[232]=be(": ",-1)),i("span",NF,N(di(A.value)),1)]),E.value>0?(M(),T("span",jF,[k[233]||(k[233]=be(": ",-1)),i("span",HF,N(di(E.value)),1)])):Q("",!0)]),i("div",zF,N(Math.round(A.value+E.value))+" ",1)]),i("div",FF,[l.value.length>0?(M(),T("span",UF,[be("  "+N(l.value.length)+"  ",1),y.value?(M(),T("span",VF,"")):Q("",!0),y.value?Q("",!0):(M(),T("span",WF,"..."))])):Q("",!0),l.value.length===0?(M(),T("span",qF,"")):Q("",!0)])])):Q("",!0)])])):Q("",!0),m.value?(M(),T("div",KF,[i("div",GF,[i("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:hi}),i("div",XF,[i("div",YF,[i("div",JF,[i("div",ZF,[i("h3",QF,N(((ze=b.value)==null?void 0:ze.subject)||"()"),1),i("p",eU,N(ii((Mt=b.value)==null?void 0:Mt.date)),1)]),i("button",{onClick:hi,class:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all duration-200"},[...k[234]||(k[234]=[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),i("div",tU,[i("div",sU,[i("div",iU,[k[236]||(k[236]=i("div",{class:"flex-shrink-0 w-full sm:w-20"},[i("span",{class:"text-xs sm:text-sm font-semibold text-gray-700"},":")],-1)),i("div",rU,[i("div",oU,[i("span",nU,N((Ot=b.value)==null?void 0:Ot.from),1),(bt=b.value)!=null&&bt.from&&ys(b.value.from)?(M(),T("span",aU,[...k[235]||(k[235]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):(Ct=b.value)!=null&&Ct.from&&hs(b.value.from)?(M(),T("span",lU,"  ")):Q("",!0)])])]),i("div",cU,[k[237]||(k[237]=i("div",{class:"flex-shrink-0 w-full sm:w-20"},[i("span",{class:"text-xs sm:text-sm font-semibold text-blue-700"},":")],-1)),i("div",uU,[(Tt=b.value)!=null&&Tt.recipients&&b.value.recipients.to&&b.value.recipients.to.length>0?(M(),T("div",dU,[(M(!0),T(Fe,null,Qe(b.value.recipients.to,(te,mt)=>(M(),T("span",{key:mt,class:"inline-flex items-center px-2 py-1 rounded-md text-xs sm:text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 break-all"},N(te),1))),128))])):(It=b.value)!=null&&It.to?(M(),T("span",hU,N(b.value.to),1)):(M(),T("span",fU,""))])]),(Yt=b.value)!=null&&Yt.recipients&&b.value.recipients.cc&&b.value.recipients.cc.length>0||(pi=b.value)!=null&&pi.cc&&b.value.cc.trim()?(M(),T("div",pU,[k[238]||(k[238]=i("div",{class:"flex-shrink-0 w-full sm:w-20"},[i("span",{class:"text-xs sm:text-sm font-semibold text-green-700"},":")],-1)),i("div",mU,[(Bi=b.value)!=null&&Bi.recipients&&b.value.recipients.cc&&b.value.recipients.cc.length>0?(M(),T("div",gU,[(M(!0),T(Fe,null,Qe(b.value.recipients.cc,(te,mt)=>(M(),T("span",{key:mt,class:"inline-flex items-center px-2 py-1 rounded-md text-xs sm:text-sm font-medium text-green-700 bg-green-50 border border-green-200 break-all"},N(te),1))),128))])):(Gi=b.value)!=null&&Gi.cc&&b.value.cc.trim()?(M(),T("span",vU,N(b.value.cc),1)):Q("",!0)])])):Q("",!0),(bo=b.value)!=null&&bo.recipients&&b.value.recipients.bcc&&b.value.recipients.bcc.length>0?(M(),T("div",bU,[k[239]||(k[239]=i("div",{class:"flex-shrink-0 w-20"},[i("span",{class:"text-sm font-semibold text-gray-600"},":")],-1)),i("div",xU,[i("div",_U,[(M(!0),T(Fe,null,Qe(b.value.recipients.bcc,(te,mt)=>(M(),T("span",{key:mt,class:"text-sm text-gray-900 break-all"},[be(N(te),1),mt<b.value.recipients.bcc.length-1?(M(),T("span",yU,", ")):Q("",!0)]))),128))])])])):Q("",!0)]),(or=b.value)!=null&&or.attachments&&Array.isArray(b.value.attachments)&&b.value.attachments.length>0?(M(),T("div",wU,[i("div",kU,[k[240]||(k[240]=i("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),i("h4",SU," ("+N(b.value.attachments.length)+" )",1)]),i("div",CU,[i("div",EU,[(M(!0),T(Fe,null,Qe(b.value.attachments,(te,mt)=>(M(),T("div",{key:mt,class:"flex items-center justify-between bg-white rounded-lg border border-blue-200 px-4 py-3 shadow-sm hover:shadow-md transition-all duration-200 hover:border-blue-300"},[i("div",AU,[k[242]||(k[242]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),i("div",MU,[i("p",TU,N(te.name),1),i("div",DU,[i("span",LU,N(Qs(te.size)),1),Hr(te)?(M(),T("span",$U,"")):Q("",!0),Hr(te)?(M(),T("span",RU,[k[241]||(k[241]=be(" : ",-1)),i("span",BU,N(Hr(te)),1)])):Q("",!0)])])]),i("button",{onClick:Nt=>Wi(te),class:"flex-shrink-0 ml-4 inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-sm hover:shadow"},[...k[243]||(k[243]=[i("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),be("  ",-1)])],8,PU)]))),128))])])])):Q("",!0),i("div",OU,[Hs.value.quotes.length===0&&((xo=b.value)!=null&&xo.body)&&b.value.body.trim()&&!((ss=b.value)!=null&&ss.error)?(M(),T("div",IU,[i("div",NU,N(b.value.body),1)])):Q("",!0),Hs.value.quotes.length>0&&!((Pi=b.value)!=null&&Pi.error)?(M(),T(Fe,{key:1},[Hs.value.userContent&&Hs.value.userContent.trim()?(M(),T("div",jU,[i("div",HU,[k[244]||(k[244]=i("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),i("h4",zU," "+N((($n=b.value)==null?void 0:$n.from)||"")+" ",1)]),i("div",FU,N(Hs.value.userContent),1)])):Q("",!0),(M(!0),T(Fe,null,Qe(Hs.value.quotes,(te,mt)=>(M(),T("div",{key:mt,class:"bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-6 border-2 border-gray-300 shadow-sm"},[i("div",UU,[i("div",VU,[k[245]||(k[245]=i("svg",{class:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})],-1)),i("h4",WU," #"+N(mt+1),1)]),i("span",qU,N(te.date||""),1)]),i("div",KU,[i("div",GU,[k[246]||(k[246]=i("span",{class:"text-xs font-semibold text-purple-600 w-16 flex-shrink-0"},":",-1)),i("div",XU,[te.from?(M(),T("span",YU,N(te.from),1)):(M(),T("span",JU,""))])]),te.to?(M(),T("div",ZU,[k[247]||(k[247]=i("span",{class:"text-xs font-semibold text-blue-600 w-16 flex-shrink-0"},":",-1)),i("div",QU,[(M(!0),T(Fe,null,Qe(Array.isArray(te.to)?te.to:te.to.split(",").map(Nt=>Nt.trim()).filter(Nt=>Nt),(Nt,yt)=>(M(),T("span",{key:yt,class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium text-blue-700 bg-blue-50 border border-blue-200 break-all"},N(Nt),1))),128))])])):Q("",!0),te.cc?(M(),T("div",eV,[k[248]||(k[248]=i("span",{class:"text-xs font-semibold text-green-600 w-16 flex-shrink-0"},":",-1)),i("div",tV,[(M(!0),T(Fe,null,Qe(Array.isArray(te.cc)?te.cc:te.cc.split(",").map(Nt=>Nt.trim()).filter(Nt=>Nt),(Nt,yt)=>(M(),T("span",{key:yt,class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium text-green-700 bg-green-50 border border-green-200 break-all"},N(Nt),1))),128))])])):Q("",!0),i("div",sV,[k[249]||(k[249]=i("span",{class:"text-xs font-semibold text-gray-600 w-16 flex-shrink-0"},":",-1)),i("span",iV,N(te.subject||""),1)])]),i("div",rV,[i("div",oV,N(te.body||"()"),1)])]))),128))],64)):Q("",!0),Hs.value.quotes.length===0&&Dn.value&&(!((Wo=b.value)!=null&&Wo.body)||!b.value.body.trim())&&!((Ha=b.value)!=null&&Ha.error)?(M(),T("div",{key:2,innerHTML:Dn.value,class:"bg-gray-50 rounded-xl p-6 border border-gray-200 text-gray-800 leading-relaxed break-words",style:{"word-break":"break-word","overflow-wrap":"break-word"}},null,8,nV)):Q("",!0),b.value&&b.value.error&&Hs.value.quotes.length===0&&(!b.value.body||!b.value.body.trim())&&(!b.value.html||!b.value.html.trim())?(M(),T("div",aV,[i("div",lV,[k[250]||(k[250]=i("svg",{class:"w-12 h-12 mx-auto mb-2 text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),k[251]||(k[251]=i("p",{class:"text-sm font-semibold text-red-600"},"",-1)),i("p",cV,N(b.value.errorMessage||""),1),i("p",uV,"ID: "+N(b.value.id),1)])])):Hs.value.quotes.length===0&&b.value&&!((Rn=b.value)!=null&&Rn.error)&&(!b.value.body||!b.value.body.trim())&&(!b.value.html||!b.value.html.trim())?(M(),T("div",dV,[i("div",hV,[k[252]||(k[252]=i("svg",{class:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),k[253]||(k[253]=i("p",{class:"text-sm"},"",-1)),i("p",fV,"ID: "+N(b.value.id),1)])])):b.value?Q("",!0):(M(),T("div",pV,[...k[254]||(k[254]=[i("div",{class:"text-center"},[i("svg",{class:"w-12 h-12 mx-auto mb-2 text-gray-300 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]),i("p",{class:"text-sm"},"...")],-1)])]))])]),i("div",mV,[i("div",gV,[i("div",vV,[k[257]||(k[257]=i("button",{class:"inline-flex items-center px-4 py-2.5 text-sm font-medium text-white bg-blue-600 border border-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-sm hover:shadow-md"},[i("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})]),be("  "),i("svg",{class:"w-4 h-4 ml-1.5 text-white reply-arrow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1)),i("div",bV,[i("div",xV,[i("button",{onClick:k[55]||(k[55]=te=>ki(!1)),class:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 flex items-center transition-colors"},[...k[255]||(k[255]=[i("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})],-1),be("  ",-1)])]),i("button",{onClick:k[56]||(k[56]=te=>ki(!0)),class:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 flex items-center transition-colors"},[...k[256]||(k[256]=[i("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),be("  ",-1)])])])])]),i("div",_V,[k[258]||(k[258]=i("button",{class:"inline-flex items-center px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-sm hover:shadow-md"},[i("svg",{class:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})]),be("  "),i("svg",{class:"w-4 h-4 ml-1.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1)),i("div",yV,[i("div",wV,[js(((Bn=b.value)==null?void 0:Bn.folder)||"inbox",b.value).length===0?(M(),T("div",kV,"  ")):Q("",!0),(M(!0),T(Fe,null,Qe(js(((za=b.value)==null?void 0:za.folder)||"inbox",b.value),te=>(M(),T("button",{key:te.value,onClick:mt=>Tn(te.value),class:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 flex items-center transition-colors"},[(M(),T("svg",CV,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:fi(te.value)},null,8,EV)])),be(" "+N(te.label),1)],8,SV))),128))])])]),i("button",{onClick:k[57]||(k[57]=te=>{var mt;return br((mt=b.value)==null?void 0:mt.id)}),class:"inline-flex items-center px-4 py-2.5 text-sm font-medium text-red-700 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 shadow-sm hover:shadow-md"},[...k[259]||(k[259]=[i("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),be("  ",-1)])])]),i("button",{onClick:hi,class:"inline-flex items-center px-6 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-sm hover:shadow-md"},"  ")])])])])):Q("",!0),gt(jc,{name:"fade"},{default:Bt(()=>{var te,mt,Nt;return[pe.value?(M(),T("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:ut(Ri,["self"])},[k[287]||(k[287]=i("div",{class:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity"},null,-1)),i("div",{class:"relative bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden transform transition-all flex flex-col",onClick:k[63]||(k[63]=ut(()=>{},["stop"]))},[k[286]||(k[286]=i("div",{class:"h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-blue-500"},null,-1)),i("div",{class:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50"},[i("div",{class:"flex items-center justify-between"},[k[261]||(k[261]=i("h3",{class:"text-lg font-semibold text-gray-900"},"",-1)),i("button",{onClick:Ri,class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-white rounded-lg transition-all duration-200"},[...k[260]||(k[260]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),i("div",AV,[xe.value?(M(),T("div",MV,[...k[262]||(k[262]=[i("div",{class:"flex items-center text-sm text-blue-700"},[i("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),i("span",null,"")],-1)])])):Q("",!0),i("div",TV,[k[263]||(k[263]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":k[58]||(k[58]=yt=>Ae.value=yt),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""},null,512),[[je,Ae.value]])]),xe.value&&Me.value?(M(),T("div",DV,[k[264]||(k[264]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":k[59]||(k[59]=yt=>Me.value=yt),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""},null,512),[[je,Me.value]])])):Q("",!0),i("div",LV,[k[265]||(k[265]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),Re(i("input",{"onUpdate:modelValue":k[60]||(k[60]=yt=>ye.value=yt),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""},null,512),[[je,ye.value]])]),i("div",$V,[k[266]||(k[266]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[be(" "),i("span",{class:"text-xs text-gray-500 font-normal"},"()")],-1)),Re(i("textarea",{"onUpdate:modelValue":k[61]||(k[61]=yt=>W.value=yt),rows:"6",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"..."},null,512),[[je,W.value]])]),i("div",RV,[i("div",BV,[k[269]||(k[269]=i("label",{class:"block text-sm font-medium text-gray-700"},[be("  "),i("span",{class:"text-xs text-gray-500 font-normal"},"()")],-1)),i("button",{onClick:ja,class:"text-sm text-blue-600 hover:text-blue-700 flex items-center transition-colors"},[q.value?(M(),T("svg",PV,[...k[267]||(k[267]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])])):(M(),T("svg",OV,[...k[268]||(k[268]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])])),be(" "+N(q.value?"":""),1)])]),q.value?Q("",!0):(M(),T("div",IV,[i("div",NV,[k[270]||(k[270]=i("div",{class:"font-semibold mb-1"},"",-1)),i("div",null,""+N((te=b.value)==null?void 0:te.from),1),i("div",null,""+N(Nr((mt=b.value)==null?void 0:mt.date)),1),i("div",null,""+N((Nt=b.value)==null?void 0:Nt.subject),1)]),k[271]||(k[271]=i("div",{class:"text-xs text-gray-400 mt-2 italic"},' "" ',-1))])),gt(jc,{name:"slide-fade"},{default:Bt(()=>{var yt,Jt,At;return[q.value?(M(),T("div",jV,[i("div",HV,[k[272]||(k[272]=i("div",{class:"font-semibold mb-1"},"",-1)),i("div",null,""+N((yt=b.value)==null?void 0:yt.from),1),i("div",null,""+N(Nr((Jt=b.value)==null?void 0:Jt.date)),1),i("div",null,""+N((At=b.value)==null?void 0:At.subject),1)]),i("div",zV,[i("div",FV,N(O.value),1)])])):Q("",!0)]}),_:1})]),i("div",UV,[k[282]||(k[282]=i("label",{class:"block text-sm font-semibold text-gray-700 mb-2 flex items-center"},[i("svg",{class:"w-4 h-4 mr-1.5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})]),be("  "),i("span",{class:"text-gray-400 text-xs font-normal ml-2"},"")],-1)),i("div",VV,[i("input",{type:"file",ref_key:"replyFileInput",ref:Pe,onChange:jr,multiple:"",class:"hidden",accept:".pdf,.md,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar"},null,544),i("div",{onClick:k[62]||(k[62]=yt=>{var Jt;return(Jt=Pe.value)==null?void 0:Jt.click()}),class:"text-center"},[...k[273]||(k[273]=[i("div",{class:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 mb-3 group-hover:from-indigo-200 group-hover:to-purple-200 transition-all duration-300 group-hover:scale-110"},[i("svg",{class:"w-6 h-6 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])],-1),i("p",{class:"text-sm font-medium text-gray-700 mb-1"},[i("span",{class:"text-indigo-600 hover:text-indigo-700"},""),i("span",{class:"text-gray-500 mx-2"},""),i("span",{class:"text-indigo-600 hover:text-indigo-700"},"")],-1),i("p",{class:"text-xs text-gray-500 mt-1"}," PDF, MD, DOC, TXT, , ",-1),i("p",{class:"text-xs text-orange-500 mt-1 font-medium"},"10MB50MB",-1)])])]),Ce.value.length>0?(M(),T("div",WV,[i("h4",qV,[k[274]||(k[274]=i("svg",{class:"w-3 h-3 mr-1 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),be("  ("+N(Ce.value.length)+") ",1),k[275]||(k[275]=i("span",{class:"text-xs text-gray-400 font-normal ml-1"},"()",-1))]),i("div",KV,[(M(!0),T(Fe,null,Qe(Ce.value,(yt,Jt)=>(M(),T("div",{key:`original-${Jt}`,class:"flex items-center justify-between bg-gradient-to-r from-gray-50/50 to-slate-50/50 rounded-lg px-3 py-2 border border-gray-200/50"},[i("div",GV,[k[277]||(k[277]=i("div",{class:"flex-shrink-0 w-8 h-8 rounded-lg bg-gradient-to-br from-gray-100 to-slate-100 flex items-center justify-center"},[i("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),i("div",XV,[i("span",YV,N(yt.name),1),i("div",JV,[i("span",ZV,N(Qs(yt.size||0)),1),yt.from?(M(),T("span",QV,"")):Q("",!0),yt.from?(M(),T("span",eW,[k[276]||(k[276]=be(": ",-1)),i("span",tW,N(yt.from),1)])):Q("",!0)])])]),k[278]||(k[278]=i("span",{class:"ml-2 px-2 py-0.5 text-xs text-gray-500 bg-gray-100 rounded border border-gray-200 whitespace-nowrap"},"  ",-1))]))),128))])])):Q("",!0),ae.value.length>0?(M(),T("div",sW,[i("h4",iW,[k[279]||(k[279]=i("svg",{class:"w-3 h-3 mr-1 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),be("  ("+N(ae.value.length)+") ",1)]),i("div",rW,[(M(!0),T(Fe,null,Qe(ae.value,(yt,Jt)=>(M(),T("div",{key:`new-${Jt}`,class:"flex items-center justify-between bg-gradient-to-r from-indigo-50/50 to-purple-50/50 hover:from-indigo-100/50 hover:to-purple-100/50 rounded-lg px-3 py-2 transition-all duration-200 border border-indigo-200/50 hover:border-indigo-300"},[i("div",oW,[k[280]||(k[280]=i("div",{class:"flex-shrink-0 w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center"},[i("svg",{class:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),i("div",nW,[i("span",aW,N(yt.name),1),i("span",lW,N(Qs(yt.size)),1)])]),i("button",{onClick:At=>Sc(Jt),class:"ml-2 p-1.5 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 transition-all duration-200 flex-shrink-0",title:""},[...k[281]||(k[281]=[i("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,cW)]))),128))])])):Q("",!0)])]),X.value?(M(),T("div",uW,[i("div",dW,[i("div",hW,[k[283]||(k[283]=i("span",{class:"text-sm font-medium text-blue-800"},"",-1)),i("span",null,N(ge.value)+"%",1)]),i("div",fW,[i("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-500 ease-out",style:vs({width:ge.value+"%"})},null,4)]),i("div",pW,[i("div",mW,[i("span",null,[k[284]||(k[284]=be(": ",-1)),i("span",gW,N(di(ne.value)),1)]),J.value>0?(M(),T("span",vW,[k[285]||(k[285]=be(": ",-1)),i("span",bW,N(di(J.value)),1)])):Q("",!0)]),i("div",xW,N(Math.round(ne.value+J.value))+" ",1)]),i("div",_W,[ae.value.length>0||Ce.value.length>0?(M(),T("span",yW,[be("  "+N(ae.value.length+Ce.value.length)+"  ",1),z.value?(M(),T("span",wW,"")):Q("",!0),z.value?Q("",!0):(M(),T("span",kW,"..."))])):Q("",!0),ae.value.length===0&&Ce.value.length===0?(M(),T("span",SW,"")):Q("",!0)])])])):Q("",!0),i("div",CW,[i("button",{onClick:Ri,disabled:X.value,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,EW),i("button",{onClick:xr,disabled:X.value,class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[X.value?(M(),T("span",MW,"...")):(M(),T("span",TW,""))],8,AW)])])])):Q("",!0)]}),_:1}),gt(jc,{name:"fade"},{default:Bt(()=>[G.value?(M(),T("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:ut($i,["self"])},[k[292]||(k[292]=i("div",{class:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity"},null,-1)),i("div",{class:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full transform transition-all",onClick:k[64]||(k[64]=ut(()=>{},["stop"]))},[k[291]||(k[291]=i("div",{class:"h-1 bg-gradient-to-r from-red-500 via-orange-500 to-red-500 rounded-t-2xl"},null,-1)),i("div",{class:"p-6"},[k[289]||(k[289]=i("div",{class:"flex items-center space-x-4 mb-4"},[i("div",{class:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center"},[i("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])]),i("div",{class:"flex-1"},[i("h3",{class:"text-lg font-semibold text-gray-900"},""),i("p",{class:"text-sm text-gray-500 mt-1"},"")])],-1)),k[290]||(k[290]=i("div",{class:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6"},[i("div",{class:"flex items-start space-x-3"},[i("svg",{class:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),i("div",{class:"flex-1"},[i("p",{class:"text-sm font-medium text-amber-800"},""),i("p",{class:"text-xs text-amber-700 mt-1"},"")])])],-1)),i("div",{class:"flex items-center justify-end space-x-3"},[i("button",{onClick:$i,class:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md"},"  "),i("button",{onClick:Ds,class:"px-5 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-red-600 to-red-700 rounded-lg hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105"},[...k[288]||(k[288]=[i("span",{class:"flex items-center space-x-2"},[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),i("span",null,"")],-1)])])])])])])):Q("",!0)]),_:1})])])]),re.value?(M(),T("div",DW,[i("div",LW,[i("div",$W,[i("div",RW,[k[295]||(k[295]=i("h3",{class:"text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:k[65]||(k[65]=te=>re.value=!1),class:"text-gray-400 hover:text-gray-600"},[...k[294]||(k[294]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",BW,[k[296]||(k[296]=i("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"",-1)),i("div",PW,[Re(i("input",{"onUpdate:modelValue":k[66]||(k[66]=te=>R.value=te),onKeyup:Er(Pt,["enter"]),placeholder:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"},null,544),[[je,R.value]]),Re(i("input",{"onUpdate:modelValue":k[67]||(k[67]=te=>K.value=te),onKeyup:Er(Pt,["enter"]),placeholder:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"},null,544),[[je,K.value]]),i("button",{onClick:Pt,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors text-sm font-medium"},"  ")]),De.value?(M(),T("p",OW,N(De.value),1)):Q("",!0)]),i("div",IW,[He.value.length===0?(M(),T("div",NW,[...k[297]||(k[297]=[i("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1),i("p",null,"",-1)])])):(M(),T("div",jW,[(M(!0),T(Fe,null,Qe(He.value,te=>(M(),T("div",{key:te.id,class:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[i("div",HW,[k[298]||(k[298]=i("svg",{class:"w-5 h-5 text-indigo-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1)),i("div",zW,[i("p",FW,N(te.display_name||te.name),1),i("p",UW,N(te.name),1)])]),i("div",VW,[i("button",{onClick:mt=>fs(te),class:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:""},[...k[299]||(k[299]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,WW),i("button",{onClick:mt=>bs(te),class:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:""},[...k[300]||(k[300]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qW)])]))),128))]))]),i("div",KW,[i("button",{onClick:k[68]||(k[68]=te=>re.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"  ")])])])])):Q("",!0),I.value?(M(),T("div",GW,[i("div",XW,[i("div",YW,[i("div",JW,[k[302]||(k[302]=i("h3",{class:"text-lg font-medium text-gray-900"},"",-1)),i("button",{onClick:k[69]||(k[69]=te=>I.value=null),class:"text-gray-400 hover:text-gray-600"},[...k[301]||(k[301]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",ZW,[i("div",null,[k[303]||(k[303]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":k[70]||(k[70]=te=>ue.value=te),placeholder:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"},null,512),[[je,ue.value]])]),i("div",null,[k[304]||(k[304]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":k[71]||(k[71]=te=>se.value=te),placeholder:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"},null,512),[[je,se.value]])]),De.value?(M(),T("p",QW,N(De.value),1)):Q("",!0)]),i("div",eq,[i("button",{onClick:k[72]||(k[72]=te=>I.value=null),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"  "),i("button",{onClick:ns,class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md transition-colors"},"  ")])])])])):Q("",!0),Ne.value?(M(),T("div",tq,[i("div",sq,[i("div",iq,[i("div",rq,[i("h3",oq,N(Ve.value==="to"?"":""),1),i("button",{onClick:rr,class:"text-gray-400 hover:text-gray-600"},[...k[305]||(k[305]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",nq,[Ye.value?(M(),T("div",aq,[...k[306]||(k[306]=[i("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),i("p",{class:"text-sm text-gray-500 mt-2"},"...",-1)])])):Be.value.length===0?(M(),T("div",lq,"  ")):(M(),T("div",cq,[(M(!0),T(Fe,null,Qe(Be.value,te=>(M(),T("div",{key:te.id,onClick:mt=>mo(te),class:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors"},[i("div",dq,[k[307]||(k[307]=i("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[i("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),i("div",null,[i("p",hq,N(te.username),1),i("p",fq,N(te.email),1)])]),Ve.value==="cc"&&Ki(te)?(M(),T("div",pq,[...k[308]||(k[308]=[i("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):Q("",!0)],8,uq))),128))]))]),i("div",mq,[i("button",{onClick:rr,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"  "),Ve.value==="cc"?(M(),T("button",{key:0,onClick:zr,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors"},"  ("+N(st.value.length)+") ",1)):Q("",!0)])])])])):Q("",!0)]}),_:1})}}}),vq=Vi(gq,[["__scopeId","data-v-63c536ff"]]),bq={class:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 py-4 sm:py-8"},xq={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_q={key:0,class:"flex items-center justify-center py-12"},yq={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"},wq={class:"flex items-center"},kq={class:"text-sm text-red-600"},Sq={key:2,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg"},Cq={key:3,class:"space-y-4 sm:space-y-6"},Eq={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"},Aq={class:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 sm:p-6 rounded-lg sm:rounded-xl border border-blue-200 shadow-lg"},Mq={class:"space-y-4"},Tq=["value"],Dq={class:"relative"},Lq=["disabled"],$q={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"},Rq={class:"text-xs text-gray-500 mt-1"},Bq={key:0,class:"text-blue-600"},Pq={key:1},Oq={class:"relative"},Iq=["disabled"],Nq=["label"],jq=["value"],Hq={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"},zq={class:"text-xs text-gray-500 mt-1"},Fq={key:0,class:"text-blue-600"},Uq={key:1},Vq={class:"pt-4 border-t border-blue-200"},Wq={class:"flex items-center justify-between mb-3"},qq={class:"relative inline-flex items-center cursor-pointer"},Kq={key:0,class:"space-y-3"},Gq={class:"text-xs text-gray-500 mt-1"},Xq={key:0,class:"text-blue-600"},Yq={key:1},Jq={class:"text-xs text-gray-500 mt-1"},Zq={key:0,class:"text-blue-600"},Qq={key:1},eK={class:"bg-gradient-to-br from-red-50 to-pink-50 p-4 sm:p-6 rounded-lg sm:rounded-xl border border-red-200 shadow-lg"},tK={class:"space-y-4"},sK={class:"text-xs text-gray-500 mt-1"},iK={key:0,class:"text-blue-600"},rK={key:1},oK={class:"text-xs text-gray-500 mt-1"},nK={key:0,class:"text-blue-600"},aK={key:1},lK={class:"text-xs text-gray-500 mt-1"},cK={key:0,class:"text-blue-600"},uK={key:1},dK={class:"flex items-center justify-between"},hK={class:"relative inline-flex items-center cursor-pointer"},fK={class:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200 shadow-lg"},pK={class:"space-y-4"},mK={class:"relative"},gK=["disabled"],vK={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},bK={class:"text-xs text-gray-500 mt-1"},xK={key:0,class:"text-green-600"},_K={key:1},yK={class:"relative"},wK=["disabled"],kK={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},SK={class:"text-xs text-gray-500 mt-1"},CK={key:0,class:"text-green-600"},EK={key:1},AK={class:"relative"},MK=["disabled"],TK={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},DK={class:"text-xs text-gray-500 mt-1"},LK={key:0,class:"text-green-600"},$K={key:1},RK={class:"border-t border-green-200 pt-4"},BK={class:"flex items-center justify-between mb-3"},PK={key:0,class:"mb-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 shadow-sm"},OK={class:"flex items-center space-x-3"},IK={class:"flex-1 relative"},NK=["disabled"],jK=["disabled"],HK={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",fill:"none",viewBox:"0 0 24 24"},zK={key:0,class:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg"},FK={class:"flex items-center"},UK={class:"text-sm text-red-700 font-medium"},VK={key:1,class:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg"},WK={class:"flex items-center"},qK={class:"text-sm text-green-700 font-medium"},KK={class:"space-y-3"},GK={class:"flex items-center space-x-3"},XK={class:"flex-1"},YK={class:"text-sm font-semibold text-gray-800"},JK={class:"flex items-center space-x-2 mt-1"},ZK={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},QK=["onClick","disabled","title"],eG={key:0,class:"text-center py-8"},tG={key:4,class:"mt-8 flex items-center justify-end space-x-3 relative z-10"},sG=["disabled"],iG={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white inline",fill:"none",viewBox:"0 0 24 24"},rG={key:5,class:"fixed inset-0 z-50 overflow-y-auto"},oG={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},nG={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},aG={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},lG={class:"sm:flex sm:items-start"},cG={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},uG={class:"mt-2"},dG={class:"text-sm text-gray-500"},hG={class:"font-semibold text-gray-900"},fG={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},pG=["disabled"],mG={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},gG=["disabled"],vG=Ai({__name:"Settings",setup(t){const e=V({general:{systemName:"XM",adminEmail:"xm@localhost",timezone:"Asia/Shanghai",language:"zh-CN",logRetention:30,userPageSize:10,icp:{enabled:!1,number:"",url:"https://beian.miit.gov.cn/"}},security:{enableSSL:!0,forceHTTPS:!0,sessionTimeout:30,maxLoginAttempts:5,passwordMinLength:8,requireSpecialChars:!1},mail:{maxMailboxSize:1024,maxMessageSize:25,enableSpamFilter:!0,enableVirusScan:!0,quarantineDays:7,autoDeleteSpam:!1,pageSize:8,domains:[]},dns:{bind:{domain:"",serverIp:"",adminEmail:"xm@localhost",enableRecursion:!0,enableForwarding:!0,upstreamDns:"8.8.8.8, 1.1.1.1"}}}),s=V(!1),r=V(!1),o=V(null),a=V(!1),l=V({}),n=V(""),c=V(!1),u=V(!1),d=V(!1),h=V(!1),g=V(""),_=V(!1),w=V(""),b=V(""),m=V(!1),v=V(null),p=V(!1),x=async()=>{var re,I;c.value=!0;try{const ue=await fetch("/api/timezones",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(!ue.ok)throw new Error(`HTTP ${ue.status}: ${ue.statusText}`);const se=await ue.json();if(!se.success)throw new Error(se.error||se.message||"");if(se.timezones&&typeof se.timezones=="object"&&Object.keys(se.timezones).length>0){l.value=se.timezones,n.value=se.currentTimezone||"Asia/Shanghai",console.log(":",se.timezones);try{const R=new Set(Object.values(se.timezones).flat()),K=(I=(re=e.value)==null?void 0:re.general)==null?void 0:I.timezone;(!K||!R.has(K))&&(e.value.general||(e.value.general={}),e.value.general.timezone=se.currentTimezone||"Asia/Shanghai",console.log(":",se.currentTimezone))}catch(R){console.warn(":",R)}}else console.warn(""),l.value={Asia:["Asia/Shanghai","Asia/Tokyo","Asia/Hong_Kong","Asia/Singapore","Asia/Seoul"],Europe:["Europe/London","Europe/Paris","Europe/Berlin","Europe/Moscow"],America:["America/New_York","America/Chicago","America/Denver","America/Los_Angeles"],UTC:["UTC"]},n.value=se.currentTimezone||"Asia/Shanghai"}catch(ue){console.error(":",ue),l.value={Asia:["Asia/Shanghai","Asia/Tokyo","Asia/Hong_Kong","Asia/Singapore","Asia/Seoul"],Europe:["Europe/London","Europe/Paris","Europe/Berlin","Europe/Moscow"],America:["America/New_York","America/Chicago","America/Denver","America/Los_Angeles"],UTC:["UTC"]},n.value="Asia/Shanghai",o.value=`: ${ue.message||""}`,setTimeout(()=>{o.value=null},5e3)}finally{c.value=!1}},y=async re=>{var ue,se;console.log(", event:",re);const I=((ue=re==null?void 0:re.target)==null?void 0:ue.value)||((se=e.value.general)==null?void 0:se.userPageSize);console.log(":",I),I&&(e.value.general.userPageSize=parseInt(I,10),console.log(":",e.value.general.userPageSize),await A())},E=async re=>{var ue;console.log(", event:",re);const I=((ue=re==null?void 0:re.target)==null?void 0:ue.value)||re;if(console.log(":",I),I&&(typeof I!="string"||I.includes("/"))){e.value.general.timezone=I,console.log(":",I),u.value=!0;try{await A(),console.log(""),await new Promise(se=>setTimeout(se,1500)),await x()}catch(se){console.error(":",se)}finally{u.value=!1}}},A=async(re=!1)=>{var I;if(console.log("saveSystemSettings , immediate:",re,"userPageSize:",(I=e.value.general)==null?void 0:I.userPageSize),re){A.timeout&&(clearTimeout(A.timeout),A.timeout=null),await D();return}A.timeout&&clearTimeout(A.timeout),A.timeout=setTimeout(async()=>{await D(),A.timeout=null},500)},D=async(re=!1)=>{var I;r.value=!0,o.value=null,re||(a.value=!1);try{if(e.value.security){if(e.value.security.sessionTimeout){const R=parseInt(String(e.value.security.sessionTimeout),10);if(isNaN(R)||R<5||R>1440){o.value="5-1440",r.value=!1;return}}if(e.value.security.maxLoginAttempts){const R=parseInt(String(e.value.security.maxLoginAttempts),10);if(isNaN(R)||R<3||R>20){o.value="3-20",r.value=!1;return}}if(e.value.security.passwordMinLength){const R=parseInt(String(e.value.security.passwordMinLength),10);if(isNaN(R)||R<6||R>32){o.value="6-32",r.value=!1;return}}}(I=e.value.general)!=null&&I.adminEmail&&(e.value.notifications||(e.value.notifications={}),e.value.notifications.alertEmail=e.value.general.adminEmail,console.log(":",e.value.general.adminEmail));const ue=JSON.parse(JSON.stringify(e.value));ue.general&&(delete ue.general.autoBackup,delete ue.general.backupInterval);const se=await fetch("/api/system-settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`},body:JSON.stringify({settings:ue})});if(se.ok){const R=await se.json();if(R.success)localStorage.setItem("mailPageSize",e.value.mail.pageSize.toString()),r.value=!1,re?console.log(":",R.message):(a.value=!0,console.log(":",R.message),setTimeout(()=>{a.value=!1},3e3));else throw new Error(R.error||"")}else{const R=await se.json();throw new Error(R.error||"")}}catch(ue){console.error(":",ue),o.value=ue.message||"",r.value=!1}},S=()=>{console.log(""),confirm("")&&(e.value={general:{systemName:"XM",adminEmail:"admin@example.com",timezone:"Asia/Shanghai",language:"zh-CN",logRetention:30,userPageSize:10},security:{enableSSL:!0,forceHTTPS:!0,sessionTimeout:30,maxLoginAttempts:5,passwordMinLength:8,requireSpecialChars:!1},mail:{maxMailboxSize:1024,maxMessageSize:25,enableSpamFilter:!0,enableVirusScan:!0,quarantineDays:7,autoDeleteSpam:!1,pageSize:8,domains:[]},dns:{bind:{domain:"",serverIp:"",adminEmail:"xm@localhost",enableRecursion:!0,enableForwarding:!0,upstreamDns:"8.8.8.8, 1.1.1.1"}}})},C=async()=>{var re,I,ue,se,R,K,G,U,pe,Ae,Me,ye,W,O,q,X,ge,z,J,ne,fe,xe,ae,Ce,Pe,De,Se,He,Ne,Ve,Be,Ye,st,qe,_t,wt,at,rt,Wt,lt,it,_e,j,Ke,Ze,et,nt,Gt,Ue,vt,jt,Ut,Ft,As,ds,hs,ys,Zs,Ms,ws,$s,Qs,di,qt,Ti,Ts,wi,Wi,Di,qi;console.log(""),s.value=!0,o.value=null;try{const Is=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`}});if(Is.ok){const tt=await Is.json();if(tt.success){const ee={...tt.settings};ee.general&&(delete ee.general.autoBackup,delete ee.general.backupInterval),e.value={general:{systemName:((re=ee.general)==null?void 0:re.systemName)||"XM",adminEmail:((I=ee.general)==null?void 0:I.adminEmail)||"xm@localhost",timezone:((ue=ee.general)==null?void 0:ue.timezone)||"Asia/Shanghai",language:((se=ee.general)==null?void 0:se.language)||"zh-CN",logRetention:((R=ee.general)==null?void 0:R.logRetention)??30,userPageSize:((K=ee.general)==null?void 0:K.userPageSize)??10,icp:{enabled:((U=(G=ee.general)==null?void 0:G.icp)==null?void 0:U.enabled)??!1,number:((Ae=(pe=ee.general)==null?void 0:pe.icp)==null?void 0:Ae.number)||"",url:((ye=(Me=ee.general)==null?void 0:Me.icp)==null?void 0:ye.url)||"https://beian.miit.gov.cn/"}},security:{enableSSL:((W=ee.security)==null?void 0:W.enableSSL)??!0,forceHTTPS:((O=ee.security)==null?void 0:O.forceHTTPS)??!0,sessionTimeout:((q=ee.security)==null?void 0:q.sessionTimeout)??30,maxLoginAttempts:((X=ee.security)==null?void 0:X.maxLoginAttempts)??5,passwordMinLength:((ge=ee.security)==null?void 0:ge.passwordMinLength)??8,requireSpecialChars:((z=ee.security)==null?void 0:z.requireSpecialChars)??!1},mail:{maxMailboxSize:((J=ee.mail)==null?void 0:J.maxMailboxSize)??1024,maxMessageSize:((ne=ee.mail)==null?void 0:ne.maxMessageSize)??25,enableSpamFilter:((fe=ee.mail)==null?void 0:fe.enableSpamFilter)??!0,enableVirusScan:((xe=ee.mail)==null?void 0:xe.enableVirusScan)??!0,quarantineDays:((ae=ee.mail)==null?void 0:ae.quarantineDays)??7,autoDeleteSpam:((Ce=ee.mail)==null?void 0:Ce.autoDeleteSpam)??!1,pageSize:((Pe=ee.mail)==null?void 0:Pe.pageSize)??8,domains:((De=ee.mail)==null?void 0:De.domains)||[]},notifications:{enabled:((Se=ee.notifications)==null?void 0:Se.enabled)??!0,alertEmail:((He=ee.notifications)==null?void 0:He.alertEmail)||"xm@localhost",cpuThreshold:((Ne=ee.notifications)==null?void 0:Ne.cpuThreshold)??80,memoryThreshold:((Ve=ee.notifications)==null?void 0:Ve.memoryThreshold)??80,diskThreshold:((Be=ee.notifications)==null?void 0:Be.diskThreshold)??80,networkThreshold:((Ye=ee.notifications)==null?void 0:Ye.networkThreshold)??80},performance:{maxConnections:((st=ee.performance)==null?void 0:st.maxConnections)??100,timeout:((qe=ee.performance)==null?void 0:qe.timeout)??30,cacheSize:((_t=ee.performance)==null?void 0:_t.cacheSize)??256},dns:{type:((wt=ee.dns)==null?void 0:wt.type)||null,bind:{domain:((rt=(at=ee.dns)==null?void 0:at.bind)==null?void 0:rt.domain)||"",serverIp:((lt=(Wt=ee.dns)==null?void 0:Wt.bind)==null?void 0:lt.serverIp)||"",adminEmail:((_e=(it=ee.dns)==null?void 0:it.bind)==null?void 0:_e.adminEmail)||"xm@localhost",enableRecursion:((Ke=(j=ee.dns)==null?void 0:j.bind)==null?void 0:Ke.enableRecursion)??!0,enableForwarding:((et=(Ze=ee.dns)==null?void 0:Ze.bind)==null?void 0:et.enableForwarding)??!0,upstreamDns:((Gt=(nt=ee.dns)==null?void 0:nt.bind)==null?void 0:Gt.upstreamDns)||"8.8.8.8, 1.1.1.1"},public:{domain:((vt=(Ue=ee.dns)==null?void 0:Ue.public)==null?void 0:vt.domain)||"",serverIp:((Ut=(jt=ee.dns)==null?void 0:jt.public)==null?void 0:Ut.serverIp)||"",adminEmail:((As=(Ft=ee.dns)==null?void 0:Ft.public)==null?void 0:As.adminEmail)||"xm@localhost",enableRecursion:((hs=(ds=ee.dns)==null?void 0:ds.public)==null?void 0:hs.enableRecursion)??!0,enableForwarding:((Zs=(ys=ee.dns)==null?void 0:ys.public)==null?void 0:Zs.enableForwarding)??!0,upstreamDns:((ws=(Ms=ee.dns)==null?void 0:Ms.public)==null?void 0:ws.upstreamDns)||"8.8.8.8, 1.1.1.1"}}},console.log(":",($s=e.value.mail)==null?void 0:$s.domains),console.log(":",((di=(Qs=e.value.mail)==null?void 0:Qs.domains)==null?void 0:di.length)||0),Array.isArray(e.value.mail.domains)||(console.warn("domains"),e.value.mail.domains=[]);const Oe=((Ti=(qt=e.value.dns)==null?void 0:qt.bind)==null?void 0:Ti.domain)||((wi=(Ts=e.value.dns)==null?void 0:Ts.public)==null?void 0:wi.domain);if(Oe&&e.value.mail.domains&&(e.value.mail.domains.forEach(We=>{We.isDnsDomain=Oe.toLowerCase()===We.name.toLowerCase(),We.isDnsDomain&&(We.isDefault=!0)}),console.log("DNSDNS:",Oe)),(Wi=e.value.general)!=null&&Wi.adminEmail){const We=e.value.general.adminEmail,Pt=(qi=(Di=e.value.dns)==null?void 0:Di.bind)==null?void 0:qi.adminEmail;(!Pt||Pt==="admin@example.com"||Pt==="admin@skills.com"||Pt==="xm@localhost")&&(e.value.dns||(e.value.dns={bind:{}}),e.value.dns.bind||(e.value.dns.bind={}),e.value.dns.bind.adminEmail=We,console.log("adminEmailDNS:",We))}console.log(":",tt.settings),await x()}else throw console.error("API:",tt.error),new Error(tt.error||"")}else throw console.error("HTTP:",Is.status,Is.statusText),new Error("");s.value=!1,console.log("")}catch(Is){console.error(":",Is),o.value=Is.message||"",s.value=!1}},B=async()=>{d.value=!0;try{const re=await fetch("/api/system-settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${sessionStorage.getItem("apiAuth")}`},body:JSON.stringify({settings:e.value})});re.ok&&(await re.json()).success&&(console.log(""),localStorage.setItem("mailPageSize",e.value.mail.pageSize.toString()))}catch(re){console.error(":",re)}finally{d.value=!1}},L=async()=>{var re;if(g.value.trim()){w.value="",b.value="",_.value=!0;try{if(!/^[a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?)*$/.test(g.value.trim())){w.value=": example.com";return}if(e.value.mail.domains.some(K=>K.name.toLowerCase()===g.value.trim().toLowerCase())){w.value="";return}const se=sessionStorage.getItem("apiAuth"),R=await fetch("/api/system/domains",{method:"POST",headers:{Authorization:`Basic ${se}`,"Content-Type":"application/json"},body:JSON.stringify({domain:g.value.trim()})});if(R.ok){const K=await R.json();if(K.success){const G=g.value.trim();b.value=` ${G} `,g.value="",await C(),await new Promise(pe=>setTimeout(pe,500)),((re=e.value.mail.domains)==null?void 0:re.some(pe=>pe.name.toLowerCase()===G.toLowerCase()))?console.log(":",G):(console.warn("..."),await C()),setTimeout(()=>{h.value=!1,b.value=""},3e3)}else w.value=K.message||""}else{const K=await R.json().catch(()=>({}));w.value=K.message||` (${R.status})`}}catch(I){console.error(":",I),w.value=I.message||""}finally{_.value=!1}}},$=re=>{const I=e.value.mail.domains.find(ue=>ue.id===re);I&&(v.value=I,m.value=!0)},P=async()=>{if(v.value){p.value=!0;try{const re=sessionStorage.getItem("apiAuth"),I=await fetch(`/api/system/domains/${v.value.id}`,{method:"DELETE",headers:{Authorization:`Basic ${re}`}});if(I.ok){const ue=await I.json();ue.success?(await C(),b.value=` ${v.value.name} `,setTimeout(()=>{b.value=""},3e3)):(w.value=ue.message||"",setTimeout(()=>{w.value=""},3e3))}else{const ue=await I.json().catch(()=>({}));w.value=ue.message||"",setTimeout(()=>{w.value=""},3e3)}}catch(re){console.error(":",re),w.value="",setTimeout(()=>{w.value=""},3e3)}finally{p.value=!1,m.value=!1,v.value=null}}},ie=()=>{m.value=!1,v.value=null};return Mi(async()=>{await C()}),(re,I)=>(M(),zo(vc,null,{default:Bt(()=>{var ue;return[i("div",bq,[i("div",xq,[I[81]||(I[81]=i("div",{class:"mb-4 sm:mb-8"},[i("h1",{class:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 flex items-center"},[i("div",{class:"p-2 sm:p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg sm:rounded-xl mr-2 sm:mr-4"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 lg:h-8 lg:w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])]),be("  ")]),i("p",{class:"text-gray-600 mt-1 sm:mt-2 text-xs sm:text-sm"},"")],-1)),s.value?(M(),T("div",_q,[...I[33]||(I[33]=[i("svg",{class:"animate-spin h-12 w-12 text-purple-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i("span",{class:"ml-3 text-gray-600 text-lg"},"...",-1)])])):Q("",!0),o.value?(M(),T("div",yq,[i("div",wq,[I[34]||(I[34]=i("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",kq,N(o.value),1)])])):Q("",!0),a.value?(M(),T("div",Sq,[...I[35]||(I[35]=[i("div",{class:"flex items-center"},[i("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),i("span",{class:"text-sm text-green-600"},"")],-1)])])):Q("",!0),s.value?Q("",!0):(M(),T("div",Cq,[i("div",Eq,[i("div",Aq,[I[49]||(I[49]=i("div",{class:"flex items-center mb-3 sm:mb-4"},[i("div",{class:"p-1.5 sm:p-2 bg-blue-100 rounded-lg"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),i("h4",{class:"ml-2 sm:ml-3 text-base sm:text-lg font-semibold text-gray-900"},"")],-1)),i("div",Mq,[i("div",null,[I[36]||(I[36]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),i("input",{value:e.value.general.systemName,type:"text",readonly:"",disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed"},null,8,Tq),I[37]||(I[37]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))]),i("div",null,[I[38]||(I[38]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":I[0]||(I[0]=se=>e.value.general.adminEmail=se),type:"email",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed"},null,512),[[je,e.value.general.adminEmail]]),I[39]||(I[39]=i("p",{class:"text-xs text-gray-500 mt-1"},"",-1))]),i("div",null,[I[42]||(I[42]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),i("div",Dq,[Re(i("select",{"onUpdate:modelValue":I[1]||(I[1]=se=>e.value.general.userPageSize=se),onChange:ut(y,["stop"]),onInput:ut(y,["stop"]),onClick:I[2]||(I[2]=ut(()=>{},["stop"])),disabled:r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed cursor-pointer"},[...I[40]||(I[40]=[i("option",{value:"5"},"5 /",-1),i("option",{value:"10"},"10 /",-1),i("option",{value:"15"},"15 /",-1),i("option",{value:"20"},"20 /",-1),i("option",{value:"25"},"25 /",-1),i("option",{value:"50"},"50 /",-1)])],40,Lq),[[Ni,e.value.general.userPageSize]]),r.value?(M(),T("div",$q,[...I[41]||(I[41]=[i("svg",{class:"animate-spin h-4 w-4 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):Q("",!0)]),i("p",Rq,[r.value?(M(),T("span",Bq,"...")):(M(),T("span",Pq,""))])]),i("div",null,[I[44]||(I[44]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),i("div",Oq,[Re(i("select",{"onUpdate:modelValue":I[3]||(I[3]=se=>e.value.general.timezone=se),onChange:ut(E,["stop"]),onInput:ut(E,["stop"]),onClick:I[4]||(I[4]=ut(()=>{},["stop"])),disabled:u.value,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed cursor-pointer"},[(M(!0),T(Fe,null,Qe(l.value,(se,R)=>(M(),T("optgroup",{key:R,label:R},[(M(!0),T(Fe,null,Qe(se,K=>(M(),T("option",{key:K,value:K},N(K),9,jq))),128))],8,Nq))),128))],40,Iq),[[Ni,e.value.general.timezone]]),c.value||u.value?(M(),T("div",Hq,[...I[43]||(I[43]=[i("svg",{class:"animate-spin h-4 w-4 text-blue-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):Q("",!0)]),i("p",zq,[u.value?(M(),T("span",Fq,"...")):(M(),T("span",Uq,": "+N(n.value),1))])]),i("div",Vq,[i("div",Wq,[I[46]||(I[46]=i("div",null,[i("label",{class:"text-sm font-medium text-gray-700"},""),i("p",{class:"text-xs text-gray-500"},"ICP")],-1)),i("label",qq,[Re(i("input",{"onUpdate:modelValue":I[5]||(I[5]=se=>e.value.general.icp.enabled=se),onChange:I[6]||(I[6]=se=>A()),type:"checkbox",class:"sr-only peer"},null,544),[[on,e.value.general.icp.enabled]]),I[45]||(I[45]=i("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),e.value.general.icp.enabled?(M(),T("div",Kq,[i("div",null,[I[47]||(I[47]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":I[7]||(I[7]=se=>e.value.general.icp.number=se),onChange:I[8]||(I[8]=se=>A()),onBlur:I[9]||(I[9]=se=>A()),type:"text",placeholder:"ICP12345678",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[je,e.value.general.icp.number]]),i("p",Gq,[r.value?(M(),T("span",Xq,"...")):(M(),T("span",Yq,"ICP"))])]),i("div",null,[I[48]||(I[48]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":I[10]||(I[10]=se=>e.value.general.icp.url=se),onChange:I[11]||(I[11]=se=>A()),onBlur:I[12]||(I[12]=se=>A()),type:"url",placeholder:"https://beian.miit.gov.cn/",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[je,e.value.general.icp.url]]),i("p",Jq,[r.value?(M(),T("span",Zq,"...")):(M(),T("span",Qq,""))])])])):Q("",!0)])])]),i("div",eK,[I[55]||(I[55]=i("div",{class:"flex items-center mb-3 sm:mb-4"},[i("div",{class:"p-1.5 sm:p-2 bg-red-100 rounded-lg"},[i("svg",{class:"h-5 w-5 sm:h-6 sm:w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])]),i("h4",{class:"ml-2 sm:ml-3 text-base sm:text-lg font-semibold text-gray-900"},"")],-1)),i("div",tK,[i("div",null,[I[50]||(I[50]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":I[13]||(I[13]=se=>e.value.security.sessionTimeout=se),onChange:I[14]||(I[14]=se=>A()),onBlur:I[15]||(I[15]=se=>A()),type:"number",min:"5",max:"1440",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"},null,544),[[je,e.value.security.sessionTimeout,void 0,{number:!0}]]),i("p",sK,[r.value?(M(),T("span",iK,"...")):(M(),T("span",rK,"5-1440"))])]),i("div",null,[I[51]||(I[51]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":I[16]||(I[16]=se=>e.value.security.maxLoginAttempts=se),onChange:I[17]||(I[17]=se=>A()),onBlur:I[18]||(I[18]=se=>A()),type:"number",min:"3",max:"20",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"},null,544),[[je,e.value.security.maxLoginAttempts,void 0,{number:!0}]]),i("p",oK,[r.value?(M(),T("span",nK,"...")):(M(),T("span",aK,"3-20"))])]),i("div",null,[I[52]||(I[52]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),Re(i("input",{"onUpdate:modelValue":I[19]||(I[19]=se=>e.value.security.passwordMinLength=se),onChange:I[20]||(I[20]=se=>A()),onBlur:I[21]||(I[21]=se=>A()),type:"number",min:"6",max:"32",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"},null,544),[[je,e.value.security.passwordMinLength,void 0,{number:!0}]]),i("p",lK,[r.value?(M(),T("span",cK,"...")):(M(),T("span",uK,"6-32"))])]),i("div",dK,[I[54]||(I[54]=i("div",null,[i("label",{class:"text-sm font-medium text-gray-700"},""),i("p",{class:"text-xs text-gray-500"},"")],-1)),i("label",hK,[Re(i("input",{"onUpdate:modelValue":I[22]||(I[22]=se=>e.value.security.requireSpecialChars=se),onChange:I[23]||(I[23]=se=>A()),type:"checkbox",class:"sr-only peer"},null,544),[[on,e.value.security.requireSpecialChars]]),I[53]||(I[53]=i("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"},null,-1))])])])])]),i("div",fK,[I[73]||(I[73]=i("div",{class:"flex items-center mb-4"},[i("div",{class:"p-2 bg-green-100 rounded-lg"},[i("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])]),i("h4",{class:"ml-3 text-lg font-semibold text-gray-900"},"")],-1)),i("div",pK,[i("div",null,[I[58]||(I[58]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"",-1)),i("div",mK,[Re(i("select",{"onUpdate:modelValue":I[24]||(I[24]=se=>e.value.mail.pageSize=se),onChange:B,disabled:d.value,class:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"},[...I[56]||(I[56]=[i("option",{value:"5"},"5 /",-1),i("option",{value:"8"},"8 /",-1),i("option",{value:"10"},"10 /",-1),i("option",{value:"15"},"15 /",-1),i("option",{value:"20"},"20 /",-1),i("option",{value:"25"},"25 /",-1)])],40,gK),[[Ni,e.value.mail.pageSize]]),d.value?(M(),T("div",vK,[...I[57]||(I[57]=[i("svg",{class:"animate-spin h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):Q("",!0)]),i("p",bK,[d.value?(M(),T("span",xK,"...")):(M(),T("span",_K,""))])]),i("div",null,[I[60]||(I[60]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"MB",-1)),i("div",yK,[Re(i("input",{"onUpdate:modelValue":I[25]||(I[25]=se=>e.value.mail.maxMailboxSize=se),onChange:B,disabled:d.value,type:"number",min:"100",max:"10000",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"},null,40,wK),[[je,e.value.mail.maxMailboxSize,void 0,{number:!0}]]),d.value?(M(),T("div",kK,[...I[59]||(I[59]=[i("svg",{class:"animate-spin h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):Q("",!0)]),i("p",SK,[d.value?(M(),T("span",CK,"...")):(M(),T("span",EK,""))])]),i("div",null,[I[62]||(I[62]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"MB",-1)),i("div",AK,[Re(i("input",{"onUpdate:modelValue":I[26]||(I[26]=se=>e.value.mail.maxMessageSize=se),onChange:B,disabled:d.value,type:"number",min:"1",max:"100",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"},null,40,MK),[[je,e.value.mail.maxMessageSize,void 0,{number:!0}]]),d.value?(M(),T("div",TK,[...I[61]||(I[61]=[i("svg",{class:"animate-spin h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):Q("",!0)]),i("p",DK,[d.value?(M(),T("span",LK,"...")):(M(),T("span",$K,""))])]),i("div",RK,[i("div",BK,[I[63]||(I[63]=i("h5",{class:"text-sm font-medium text-gray-700"},"",-1)),i("button",{onClick:I[27]||(I[27]=se=>h.value=!h.value),class:"text-xs px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"},N(h.value?"":""),1)]),h.value?(M(),T("div",PK,[i("div",OK,[i("div",IK,[Re(i("input",{"onUpdate:modelValue":I[28]||(I[28]=se=>g.value=se),type:"text",placeholder:": example.com",disabled:_.value,class:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition-all duration-200",onClick:I[29]||(I[29]=ut(()=>{},["stop"])),onFocus:I[30]||(I[30]=ut(()=>{},["stop"])),onInput:I[31]||(I[31]=ut(()=>{},["stop"]))},null,40,NK),[[je,g.value]])]),i("button",{onClick:L,disabled:!g.value||_.value,class:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white text-sm font-medium rounded-lg hover:from-green-700 hover:to-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg"},[_.value?(M(),T("svg",HK,[...I[64]||(I[64]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Q("",!0),be(" "+N(_.value?"...":""),1)],8,jK)]),w.value?(M(),T("div",zK,[i("div",FK,[I[65]||(I[65]=i("svg",{class:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",UK,N(w.value),1)])])):Q("",!0),b.value?(M(),T("div",VK,[i("div",WK,[I[66]||(I[66]=i("svg",{class:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),i("span",qK,N(b.value),1)])])):Q("",!0),I[67]||(I[67]=i("p",{class:"text-xs text-gray-600 mt-2 flex items-center"},[i("svg",{class:"w-4 h-4 text-blue-500 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),be("  ")],-1))])):Q("",!0),i("div",KK,[(M(!0),T(Fe,null,Qe(e.value.mail.domains||[],se=>(M(),T("div",{key:se.id,class:"group flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200"},[i("div",GK,[I[70]||(I[70]=i("div",{class:"flex-shrink-0"},[i("div",{class:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center"},[i("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})])])],-1)),i("div",XK,[i("span",YK,N(se.name),1),i("div",JK,[se.isDefault?(M(),T("span",ZK,[...I[68]||(I[68]=[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),be("  ",-1)])])):Q("",!0),I[69]||(I[69]=i("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},[i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]),be("  ")],-1))])])]),i("button",{onClick:R=>$(se.id),disabled:se.isDefault||se.isDnsDomain,class:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:se.isDnsDomain?"DNS":se.isDefault?"":""},[...I[71]||(I[71]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,QK)]))),128)),!e.value.mail.domains||e.value.mail.domains.length===0?(M(),T("div",eG,[...I[72]||(I[72]=[i("div",{class:"flex flex-col items-center"},[i("svg",{class:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})]),i("p",{class:"text-gray-500 text-sm"},""),i("p",{class:"text-gray-400 text-xs mt-1"},'""')],-1)])])):Q("",!0)])])])])])),s.value?Q("",!0):(M(),T("div",tG,[i("button",{onClick:ut(S,["stop"]),type:"button",class:"px-6 py-2.5 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 shadow-sm hover:shadow-md cursor-pointer"},"  "),i("button",{onClick:I[32]||(I[32]=ut(se=>A(!0),["stop"])),type:"button",disabled:r.value,class:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl cursor-pointer"},[r.value?(M(),T("svg",iG,[...I[74]||(I[74]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Q("",!0),be(" "+N(r.value?"...":""),1)],8,sG)])),m.value?(M(),T("div",rG,[i("div",oG,[i("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:ie}),i("div",nG,[i("div",aG,[i("div",lG,[I[79]||(I[79]=i("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[i("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),i("div",cG,[I[78]||(I[78]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"",-1)),i("div",uG,[i("p",dG,[I[75]||(I[75]=be("  ",-1)),i("span",hG,N((ue=v.value)==null?void 0:ue.name),1),I[76]||(I[76]=be("  ",-1))]),I[77]||(I[77]=i("p",{class:"text-xs text-red-600 mt-2"},"",-1))])])])]),i("div",fG,[i("button",{onClick:P,disabled:p.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(M(),T("svg",mG,[...I[80]||(I[80]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Q("",!0),be(" "+N(p.value?"...":""),1)],8,pG),i("button",{onClick:ie,disabled:p.value,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},"  ",8,gG)])])])])):Q("",!0)])])]}),_:1}))}}),bG=Vi(vG,[["__scopeId","data-v-f5e13901"]]),xG={class:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8"},_G={class:"max-w-3xl mx-auto"},yG={key:0,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg"},wG={class:"flex items-center"},kG={class:"text-sm text-red-600"},SG={key:1,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg"},CG={class:"flex items-center"},EG={class:"text-sm text-green-600"},AG={class:"bg-white rounded-lg sm:rounded-xl shadow-lg overflow-hidden"},MG={class:"p-4 sm:p-6"},TG={class:"mb-6 sm:mb-8"},DG={class:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-6"},LG={class:"relative"},$G={class:"h-20 w-20 sm:h-24 sm:w-24 rounded-full overflow-hidden bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center shadow-lg"},RG=["src"],BG={key:1,class:"h-10 w-10 sm:h-12 sm:w-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},PG={key:0,class:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center"},OG={class:"flex-1 w-full sm:w-auto"},IG={class:"cursor-pointer"},NG={class:"inline-flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg text-xs sm:text-sm"},jG={class:"mb-4 sm:mb-6"},HG={class:"mb-4 sm:mb-6"},zG={class:"mb-6"},FG={key:0,class:"mb-6"},UG={class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200"},VG=["disabled"],WG={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},qG=Ai({__name:"Profile",setup(t){const e=dc(),s=V({username:"",email:"",password:"",confirmPassword:""}),r=V({username:"",email:"",avatar:""}),o=V(null),a=V(""),l=V(null),n=V(!1),c=V(!1),u=V(null),d=V(null),h=()=>{const x=sessionStorage.getItem("apiAuth");if(!x)return e.push("/login"),null;try{return atob(x).split(":")[0]}catch{return e.push("/login"),null}},g=async()=>{const x=h();if(x)try{const y=sessionStorage.getItem("apiAuth");if(!y)return;const E=await fetch("/api/ops",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${y}`},body:JSON.stringify({action:"query-user-profile",params:{username:x}})});if(E.ok){const A=await E.json();if(A.success&&A.user){s.value.username=A.user.username||x,s.value.email=A.user.email||"",r.value.username=A.user.username||x,r.value.email=A.user.email||"";let D=A.user.avatar||"";if(D&&typeof D=="string"?(D=D.trim(),(D.toUpperCase()==="NULL"||D===""||D==="null")&&(D="")):D="",D){let S=D;!S.startsWith("http")&&!S.startsWith("/")&&(S="/"+S),console.log("URL:",S),a.value=S,r.value.avatar=S}else console.log(""),a.value="",r.value.avatar=""}}else{const A=await E.json();console.error(":",A.error||""),s.value.username=x,r.value.username=x,u.value="",setTimeout(()=>{u.value=null},3e3)}}catch(y){console.error(":",y),s.value.username=x,r.value.username=x,u.value="",setTimeout(()=>{u.value=null},3e3)}},_=x=>{var S;const E=(S=x.target.files)==null?void 0:S[0];if(!E)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(E.type)){u.value=" JPGPNGGIF  WebP ";return}if(E.size>5*1024*1024){u.value=" 5MB";return}const D=new FileReader;D.onload=C=>{var B;a.value=(B=C.target)==null?void 0:B.result},D.readAsDataURL(E),l.value=E,u.value=null},w=()=>{a.value="",l.value=null,o.value&&(o.value.value="")},b=x=>{console.warn("");const y=x.target;y&&(y.style.display="none")},m=async()=>{if(!l.value)return null;const x=h();if(!x)return null;n.value=!0,u.value=null;try{const y=new FileReader,A=await new Promise((C,B)=>{y.onload=L=>{var $;C(($=L.target)==null?void 0:$.result)},y.onerror=B,y.readAsDataURL(l.value)}),D=sessionStorage.getItem("apiAuth");if(!D)return null;const S=await fetch("/api/upload-avatar",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${D}`},body:JSON.stringify({avatar:A,username:x})});if(S.ok){const C=await S.json();if(C.success&&C.avatarUrl){let B=C.avatarUrl;return!B.startsWith("http")&&!B.startsWith("/")&&(B="/"+B),a.value=B,B}else return u.value=C.error||"",null}else{const C=await S.json();return u.value=C.error||"",null}}catch(y){return console.error(":",y),u.value="",null}finally{n.value=!1}},v=async()=>{var y;if(u.value=null,d.value=null,s.value.password){let E=8,A=!1;try{const D=sessionStorage.getItem("apiAuth");if(D){const S=await fetch("/api/system-settings",{headers:{Authorization:`Basic ${D}`}});if(S.ok){const C=await S.json();C.success&&((y=C.settings)!=null&&y.security)&&(E=C.settings.security.passwordMinLength||8,A=C.settings.security.requireSpecialChars||!1)}}}catch(D){console.warn(":",D)}if(s.value.password.length<E){u.value=`${E}`;return}if(A){const D=/[A-Z]/.test(s.value.password),S=/[a-z]/.test(s.value.password),C=/[0-9]/.test(s.value.password),B=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(s.value.password);if(!D||!S||!C||!B){u.value="";return}}if(s.value.password!==s.value.confirmPassword){u.value="";return}}if(s.value.email&&!/^[^\s@]+@([^\s@]+\.[^\s@]+|localhost)$/.test(s.value.email)){u.value="";return}const x=!!s.value.password;c.value=!0;try{const E=h();if(!E)return;const A=sessionStorage.getItem("apiAuth");if(!A)return;let D=null;l.value?(D=await m(),l.value&&!D&&console.warn("")):a.value&&a.value!==r.value.avatar&&(D=a.value);const S=r.value.username||E;if(!S){u.value="",c.value=!1;return}const C={action:"app-update",params:{original_username:S}};s.value.username&&s.value.username!==r.value.username&&(C.params.new_username=s.value.username),s.value.email&&s.value.email!==r.value.email&&(C.params.email=s.value.email),s.value.password&&(C.params.password=s.value.password),D&&(C.params.avatar=D);const B=await fetch("/api/ops",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${A}`},body:JSON.stringify(C)});if(B.ok){const L=await B.json();if(L.ok||L.success)if(x)d.value="",s.value.password="",s.value.confirmPassword="",l.value=null,o.value&&(o.value.value=""),setTimeout(()=>{$o.stop(),sessionStorage.removeItem("apiAuth"),e.push("/login")},2e3);else{if(d.value="",r.value.username=s.value.username,r.value.email=s.value.email,D){let $=D;!$.startsWith("http")&&!$.startsWith("/")&&($="/"+$),r.value.avatar=$,a.value=$}if(s.value.username!==E){const $=atob(A).split(":"),P=btoa(`${s.value.username}:${$[1]}`);sessionStorage.setItem("apiAuth",P)}s.value.password="",s.value.confirmPassword="",l.value=null,o.value&&(o.value.value=""),setTimeout(()=>{g()},500),window.refreshUserAvatar&&setTimeout(()=>{window.refreshUserAvatar()},600),setTimeout(()=>{d.value=null},3e3)}else u.value=L.error||""}else{const L=await B.json();u.value=L.error||""}}catch(E){console.error(":",E),u.value=""}finally{c.value=!1}},p=()=>{s.value.username=r.value.username,s.value.email=r.value.email,s.value.password="",s.value.confirmPassword="",u.value=null,d.value=null,a.value=r.value.avatar||"",l.value=null,o.value&&(o.value.value="")};return Mi(()=>{const x=h();x?(s.value.username=x,r.value.username=x,g()):(u.value="",setTimeout(()=>{e.push("/login")},2e3))}),(x,y)=>(M(),zo(vc,null,{default:Bt(()=>[i("div",xG,[i("div",_G,[y[17]||(y[17]=i("div",{class:"mb-4 sm:mb-8"},[i("h1",{class:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-1 sm:mb-2"},""),i("p",{class:"text-gray-600 text-xs sm:text-sm"},"")],-1)),u.value?(M(),T("div",yG,[i("div",wG,[y[4]||(y[4]=i("svg",{class:"h-5 w-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",kG,N(u.value),1)])])):Q("",!0),d.value?(M(),T("div",SG,[i("div",CG,[y[5]||(y[5]=i("svg",{class:"h-5 w-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("span",EG,N(d.value),1)])])):Q("",!0),i("div",AG,[i("div",MG,[i("div",TG,[y[10]||(y[10]=i("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-3 sm:mb-4"},"",-1)),i("div",DG,[i("div",LG,[i("div",$G,[a.value?(M(),T("img",{key:0,src:a.value,alt:"",class:"h-full w-full object-cover",onError:b},null,40,RG)):(M(),T("svg",BG,[...y[6]||(y[6]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),n.value?(M(),T("div",PG,[...y[7]||(y[7]=[i("svg",{class:"animate-spin h-5 w-5 sm:h-6 sm:w-6 text-white",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):Q("",!0)]),i("div",OG,[i("label",IG,[i("input",{type:"file",ref_key:"avatarInput",ref:o,onChange:_,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",class:"hidden"},null,544),i("div",NG,[y[8]||(y[8]=i("svg",{class:"h-4 w-4 sm:h-5 sm:w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1)),i("span",null,N(n.value?"...":""),1)])]),y[9]||(y[9]=i("p",{class:"mt-2 text-xs text-gray-500"}," JPGPNGGIFWebP  200x200 ",-1)),a.value&&!n.value?(M(),T("button",{key:0,onClick:w,class:"mt-2 text-xs sm:text-sm text-red-600 hover:text-red-700"},"  ")):Q("",!0)])])]),i("div",jG,[y[11]||(y[11]=i("label",{for:"username",class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"},"  ",-1)),Re(i("input",{id:"username","onUpdate:modelValue":y[0]||(y[0]=E=>s.value.username=E),type:"text",class:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:""},null,512),[[je,s.value.username]])]),i("div",HG,[y[12]||(y[12]=i("label",{for:"email",class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"},"  ",-1)),Re(i("input",{id:"email","onUpdate:modelValue":y[1]||(y[1]=E=>s.value.email=E),type:"email",class:"w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:""},null,512),[[je,s.value.email]])]),i("div",zG,[y[13]||(y[13]=i("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},"  ",-1)),Re(i("input",{id:"password","onUpdate:modelValue":y[2]||(y[2]=E=>s.value.password=E),type:"password",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""},null,512),[[je,s.value.password]]),y[14]||(y[14]=i("p",{class:"mt-1 text-xs text-gray-500"},"",-1))]),s.value.password?(M(),T("div",FG,[y[15]||(y[15]=i("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-2"},"  ",-1)),Re(i("input",{id:"confirmPassword","onUpdate:modelValue":y[3]||(y[3]=E=>s.value.confirmPassword=E),type:"password",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""},null,512),[[je,s.value.confirmPassword]])])):Q("",!0),i("div",UG,[i("button",{onClick:p,type:"button",class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200"},"  "),i("button",{onClick:v,disabled:c.value,class:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[c.value?(M(),T("svg",WG,[...y[16]||(y[16]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Q("",!0),i("span",null,N(c.value?"...":""),1)],8,VG)])])])])])]),_:1}))}}),KG=Vi(qG,[["__scopeId","data-v-7e693a82"]]),GG={class:"changelog-page"},XG={class:"sci-fi-background"},YG={class:"particle-container"},JG={class:"navbar"},ZG={class:"nav-container"},QG=["aria-expanded"],eX={class:"changelog-section"},tX={class:"section-container"},sX={key:0,class:"loading-container"},iX={key:1,class:"error-container"},rX={class:"error-text"},oX={key:2,class:"versions-container"},nX={key:0,class:"latest-version-card"},aX={class:"version-header"},lX={class:"version-title"},cX={class:"version-date"},uX={class:"version-content"},dX={class:"version-title-text"},hX={class:"version-description"},fX={class:"versions-list"},pX={class:"version-card-header"},mX={class:"version-number"},gX={class:"version-date-badge"},vX={class:"version-content"},bX={class:"version-title-text"},xX={class:"version-description"},_X={key:1,class:"pagination-container"},yX={class:"pagination-info"},wX={class:"pagination-controls"},kX=["disabled"],SX={class:"pagination-numbers"},CX=["onClick","disabled"],EX=["disabled"],AX={class:"footer"},MX={class:"footer-container"},TX={class:"footer-content"},DX={class:"footer-section"},LX={class:"footer-links"},$X={class:"footer-section"},RX={class:"footer-links"},BX={class:"footer-bottom"},PX={class:"copyright"},OX={key:0,class:"icp-inline"},IX=["href"],NX={class:"version-text"},tn=15,jX=Ai({__name:"Changelog",setup(t){const e=dc(),s=V("V0.0.1"),r=V({enabled:!1,number:"",url:"https://beian.miit.gov.cn/"}),o=async()=>{try{const L=await fetch("/api/icp-info");if(L.ok){const $=await L.json();$.success&&$.icp&&(r.value={enabled:$.icp.enabled||!1,number:$.icp.number||"",url:$.icp.url||"https://beian.miit.gov.cn/"})}}catch(L){console.warn(":",L)}},a=V(!1),l=()=>{a.value=!a.value},n=()=>{a.value=!1},c=async()=>{try{const L=await An.getVersion();s.value=`V${L}`}catch(L){console.warn(":",L)}},u=V([]),d=V(null),h=V(!0),g=V(null),_=V([]);let w=null;const b=V(1),m=V(1),v=L=>{const $=Math.random()*3+1,P=Math.random()*20+10,ie=Math.random()*5,re=Math.random()*100;return{width:`${$}px`,height:`${$}px`,left:`${re}%`,animationDuration:`${P}s`,animationDelay:`${ie}s`}},p=async()=>{try{h.value=!0,g.value=null;const L=await fetch("/api/changelog");if(!L.ok)throw new Error("");const $=await L.json();if($.success){u.value=$.versions||[],d.value=$.latestVersion;const P=Math.max(0,u.value.length-1);m.value=Math.ceil(P/tn),_.value=new Array(P).fill(!1),setTimeout(()=>{S()},100)}else throw new Error($.error||"")}catch(L){console.error(":",L),g.value=L.message||""}finally{h.value=!1}},x=Ht(()=>{const L=u.value.slice(1),$=(b.value-1)*tn,P=$+tn;return L.slice($,P)}),y=L=>{L>=1&&L<=m.value&&(b.value=L,window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{S()},100))},E=()=>{b.value>1&&y(b.value-1)},A=()=>{b.value<m.value&&y(b.value+1)},D=Ht(()=>{const L=[],$=m.value,P=b.value;if($<=7)for(let ie=1;ie<=$;ie++)L.push(ie);else{L.push(1),P>3&&L.push("...");const ie=Math.max(2,P-1),re=Math.min($-1,P+1);for(let I=ie;I<=re;I++)L.push(I);P<$-2&&L.push("..."),L.push($)}return L}),S=()=>{w&&w.disconnect();const L=document.querySelectorAll(".version-card");L.length!==0&&(w=new IntersectionObserver($=>{$.forEach(P=>{if(P.isIntersecting){const re=Array.from(L).indexOf(P.target);if(re!==-1){const I=(b.value-1)*tn+re;I>=0&&I<_.value.length&&(_.value[I]=!0)}}})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),L.forEach($=>{w==null||w.observe($)}))},C=()=>{e.push("/login")},B=()=>{e.push("/register")};return Mi(()=>{c(),o(),p()}),oo(()=>{w&&(w.disconnect(),w=null)}),(L,$)=>{const P=uo("router-link");return M(),T("div",GG,[i("div",XG,[$[0]||($[0]=i("div",{class:"gradient-orb orb-1"},null,-1)),$[1]||($[1]=i("div",{class:"gradient-orb orb-2"},null,-1)),$[2]||($[2]=i("div",{class:"gradient-orb orb-3"},null,-1)),$[3]||($[3]=i("div",{class:"grid-pattern"},null,-1)),i("div",YG,[(M(),T(Fe,null,Qe(50,ie=>i("div",{key:ie,class:"particle",style:vs(v())},null,4)),64))])]),i("nav",JG,[i("div",ZG,[gt(P,{to:"/",class:"logo"},{default:Bt(()=>[...$[4]||($[4]=[i("img",{src:ao,alt:"Logo",class:"logo-icon"},null,-1),i("span",{class:"logo-text"},"XM",-1)])]),_:1}),i("button",{class:"mobile-menu-toggle",onClick:l,"aria-expanded":a.value},[...$[5]||($[5]=[i("span",{class:"hamburger-line"},null,-1),i("span",{class:"hamburger-line"},null,-1),i("span",{class:"hamburger-line"},null,-1)])],8,QG),i("div",{class:Le(["nav-links",{"mobile-menu-open":a.value}])},[gt(P,{to:"/#features",class:"nav-link",onClick:n},{default:Bt(()=>[...$[6]||($[6]=[be("",-1)])]),_:1}),gt(P,{to:"/#architecture",class:"nav-link",onClick:n},{default:Bt(()=>[...$[7]||($[7]=[be("",-1)])]),_:1}),gt(P,{to:"/#tech-stack",class:"nav-link",onClick:n},{default:Bt(()=>[...$[8]||($[8]=[be("",-1)])]),_:1}),gt(P,{to:"/changelog",class:"nav-link active",onClick:n},{default:Bt(()=>[...$[9]||($[9]=[be("",-1)])]),_:1}),i("button",{onClick:B,class:"nav-button secondary"},""),i("button",{onClick:C,class:"nav-button"},"")],2)])]),i("section",eX,[i("div",tX,[$[13]||($[13]=i("div",{class:"section-header"},[i("h1",{class:"page-title"},""),i("p",{class:"page-subtitle"},"XM")],-1)),h.value?(M(),T("div",sX,[...$[10]||($[10]=[i("div",{class:"loading-spinner"},null,-1),i("p",{class:"loading-text"},"...",-1)])])):g.value?(M(),T("div",iX,[$[11]||($[11]=i("div",{class:"error-icon"},"",-1)),i("p",rX,N(g.value),1),i("button",{onClick:p,class:"retry-button"},"")])):(M(),T("div",oX,[d.value?(M(),T("div",nX,[$[12]||($[12]=i("div",{class:"version-badge"},"",-1)),i("div",aX,[i("h2",lX,N(d.value.version),1),i("span",cX,N(d.value.date),1)]),i("div",uX,[i("h3",dX,N(d.value.title),1),i("p",hX,N(d.value.description),1)])])):Q("",!0),i("div",fX,[(M(!0),T(Fe,null,Qe(x.value,(ie,re)=>(M(),T("div",{key:(b.value-1)*tn+re,class:Le(["version-card",{"version-card-visible":_.value[(b.value-1)*tn+re]}]),style:vs({animationDelay:`${re*.1}s`})},[i("div",pX,[i("div",mX,N(ie.version),1),i("div",gX,N(ie.date),1)]),i("div",vX,[i("h3",bX,N(ie.title),1),i("p",xX,N(ie.description),1)])],6))),128))]),m.value>1?(M(),T("div",_X,[i("div",yX,"  "+N(Math.max(0,u.value.length-1))+"  "+N(b.value)+" / "+N(m.value)+"  ",1),i("div",wX,[i("button",{onClick:E,disabled:b.value===1,class:Le(["pagination-button",{disabled:b.value===1}])},"  ",10,kX),i("div",SX,[(M(!0),T(Fe,null,Qe(D.value,(ie,re)=>(M(),T("button",{key:re,onClick:I=>typeof ie=="number"?y(ie):null,disabled:ie==="...",class:Le(["pagination-number",{active:ie===b.value,ellipsis:ie==="...",disabled:ie==="..."}])},N(ie),11,CX))),128))]),i("button",{onClick:A,disabled:b.value===m.value,class:Le(["pagination-button",{disabled:b.value===m.value}])},"  ",10,EX)])])):Q("",!0)]))])]),i("footer",AX,[i("div",MX,[i("div",TX,[$[22]||($[22]=Us('<div class="footer-section" data-v-d6d12389><div class="footer-logo" data-v-d6d12389><img src="'+ao+'" alt="Logo" class="logo-icon" data-v-d6d12389><span class="logo-text" data-v-d6d12389>XM</span></div><p class="footer-description" data-v-d6d12389></p></div>',1)),i("div",DX,[$[17]||($[17]=i("h4",{class:"footer-title"},"",-1)),i("ul",LX,[i("li",null,[gt(P,{to:"/#features"},{default:Bt(()=>[...$[14]||($[14]=[be("",-1)])]),_:1})]),i("li",null,[gt(P,{to:"/#architecture"},{default:Bt(()=>[...$[15]||($[15]=[be("",-1)])]),_:1})]),i("li",null,[gt(P,{to:"/#tech-stack"},{default:Bt(()=>[...$[16]||($[16]=[be("",-1)])]),_:1})])])]),i("div",$X,[$[21]||($[21]=i("h4",{class:"footer-title"},"",-1)),i("ul",RX,[i("li",null,[gt(P,{to:"/changelog"},{default:Bt(()=>[...$[18]||($[18]=[be("",-1)])]),_:1})]),$[19]||($[19]=i("li",null,[i("a",{href:"#support"},"")],-1)),$[20]||($[20]=i("li",null,[i("a",{href:"https://github.com/xm666xm666/XM-mail/",target:"_blank",rel:"noopener noreferrer"},"GitHub")],-1))])]),$[23]||($[23]=Us('<div class="footer-section" data-v-d6d12389><h4 class="footer-title" data-v-d6d12389></h4><ul class="footer-links" data-v-d6d12389><li data-v-d6d12389><a href="mailto:xm@localhost" data-v-d6d12389></a></li><li data-v-d6d12389><a href="#contact" data-v-d6d12389></a></li></ul></div>',1))]),i("div",BX,[i("div",PX,[$[24]||($[24]=i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("text",{x:"12",y:"16","text-anchor":"middle","font-size":"8","font-weight":"bold"},"C")],-1)),$[25]||($[25]=i("span",null,"2024-2026 XM.",-1)),r.value.enabled&&r.value.number?(M(),T("span",OX,[i("a",{href:r.value.url,target:"_blank",rel:"noopener noreferrer"},N(r.value.number),9,IX)])):Q("",!0)]),$[26]||($[26]=i("div",{class:"footer-text"},"XM | ",-1)),i("div",NX,"Powered by XM "+N(s.value),1)])])])])}}}),HX=Vi(jX,[["__scopeId","data-v-d6d12389"]]),Yu=bx({history:Yb(),routes:[{path:"/",component:g0},{path:"/home",component:g0},{path:"/login",component:_w},{path:"/register",component:Xw},{path:"/reset",component:YP},{path:"/changelog",component:HX},{path:"/dashboard",component:kP,meta:{requiresAdmin:!0}},{path:"/mail",component:vq},{path:"/settings",component:bG,meta:{requiresAdmin:!0}},{path:"/profile",component:KG}]});Yu.beforeEach((t,e,s)=>{if(["/","/home","/login","/register","/reset","/changelog"].includes(t.path)){$o.stop(),s();return}const o=sessionStorage.getItem("apiAuth");if(!o){$o.stop(),s("/login");return}try{const l=atob(o).split(":")[0],n=l&&l.toLowerCase()==="xm";if(t.meta.requiresAdmin&&!n){s("/mail");return}if(!n&&(t.path==="/dashboard"||t.path.startsWith("/admin"))){s("/mail");return}$o.start(()=>{console.log(""),sessionStorage.removeItem("apiAuth"),Yu.push("/login"),alert("")})}catch{$o.stop(),s("/login");return}s()});ub(kx).use(Yu).mount("#app");
